import{d as z,r as C,g as v,o as d,w as r,e as a,b as s,u as e,P as f,f as l,t as o,a as u,h,F as y,i as T,W as P}from"./app-De5aCyOy.js";import{_ as D}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Dj8HCjtT.js";import{_}from"./Button.vue_vue_type_script_setup_true_lang-C1ptny9S.js";import{_ as w}from"./Card.vue_vue_type_script_setup_true_lang-D592-r3Y.js";import{_ as b}from"./CardContent.vue_vue_type_script_setup_true_lang-BnfRKYb9.js";import{_ as $}from"./index-CNloWqrH.js";import{U as E,c as L,e as U,q as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-DrTEAkGA.js";import{_ as H,a as G,b as M,c,d as O,e as g}from"./TableHeader.vue_vue_type_script_setup_true_lang-CiatGxJJ.js";import{_ as q,a as F,b as W,c as I,d as Y,e as J,f as K,g as Q}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-Dlh8pIcV.js";import{P as j}from"./plus-BEctqVRE.js";import{G as X}from"./grid-3x3-UfAzuwbS.js";import{U as R}from"./_plugin-vue_export-helper-DsuA5ZjC.js";import{C as Z}from"./circle-check-big-BYC-wlwA.js";import{C as ee}from"./crown-BDjR_fig.js";import{E as te}from"./eye-Jbp-o3OQ.js";import{S as se}from"./square-pen-C_ROzota.js";import{C as ae}from"./chevron-left-Ci-PwYhm.js";import"./index-D3npKzxP.js";import"./index-shR_F4Lk.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-UOeKMcHs.js";import"./clock-BXDw5ZYb.js";import"./useForwardPropsEmits-Cp6q3zLn.js";import"./useForwardExpose-Cyi8rQxf.js";import"./Presence-DbAr2sRl.js";import"./ConfigProvider-B6_1veax.js";import"./Teleport-swefm16Y.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";const re={class:"px-4 sm:px-0 space-y-6"},ne={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},le={class:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto"},oe={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},ie={class:"flex items-center"},de={class:"shrink-0"},me={class:"w-8 h-8 bg-primary rounded-md flex items-center justify-center"},ue={class:"ml-5 w-0 flex-1"},fe={class:"text-lg font-medium text-foreground"},_e={class:"flex items-center"},ce={class:"shrink-0"},ge={class:"w-8 h-8 bg-green-500 rounded-md flex items-center justify-center"},xe={class:"ml-5 w-0 flex-1"},ve={class:"text-lg font-medium text-foreground"},he={class:"flex items-center"},pe={class:"shrink-0"},we={class:"w-8 h-8 bg-purple-500 rounded-md flex items-center justify-center"},ye={class:"ml-5 w-0 flex-1"},be={class:"text-lg font-medium text-foreground"},$e={class:"overflow-x-auto"},ke={class:"flex items-center"},Ce={class:"ml-4"},Te={class:"font-medium text-foreground"},Me={class:"text-sm text-muted-foreground"},je={class:"text-xs text-muted-foreground"},Re={key:0,class:"mt-1"},Se={class:"text-sm text-foreground"},Ae={class:"text-sm text-muted-foreground"},Ne={key:0,class:"text-sm"},Ve={class:"font-medium text-foreground"},ze={class:"text-muted-foreground"},Pe={key:1,class:"text-sm text-muted-foreground"},De={class:"text-xs text-muted-foreground mt-1"},Ee={class:"flex items-center justify-end space-x-2"},Le={key:0,class:"border-t p-4"},Ue={class:"flex items-center justify-between"},Be={class:"flex-1 flex justify-between sm:hidden"},He={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},Ge={class:"text-sm text-muted-foreground"},Oe={class:"flex items-center space-x-2"},qe=["innerHTML"],Fe={key:1,class:"text-center py-12"},We={class:"mt-6"},Ie={class:"font-semibold"},yt=z({__name:"Index",props:{roles:Object,stats:Object},setup(i){const p=C(!1),x=C(null),S=()=>{x.value&&P.delete(route("admin.manager-roles.destroy",x.value.id),{preserveState:!0,onSuccess:()=>{p.value=!1,x.value=null},onError:m=>{console.error("Terminate failed:",m),p.value=!1,x.value=null}})},A=m=>({direct_manager:"default",project_manager:"secondary",department_head:"outline",senior_manager:"destructive",team_lead:"secondary"})[m]||"outline",N=m=>m?"default":"destructive",V=[{name:"Dashboard",href:route("dashboard")},{name:"Organizational Management",href:route("admin.manager-roles.index")},{name:"Manager Roles",href:route("admin.manager-roles.index")}];return(m,t)=>(d(),v(D,{breadcrumbs:V},{default:r(()=>[a("div",re,[a("div",ne,[t[3]||(t[3]=a("div",null,[a("h1",{class:"text-xl sm:text-2xl font-bold text-foreground"},"Manager Role Assignments"),a("p",{class:"text-sm text-muted-foreground mt-1"},"Manage and overview all manager role assignments within the organization")],-1)),a("div",le,[s(e(_),{as:e(f),href:m.route("admin.manager-roles.create"),class:"w-full sm:w-auto"},{default:r(()=>[s(e(j),{class:"mr-2 h-4 w-4"}),t[1]||(t[1]=l(" Assign New Role "))]),_:1},8,["as","href"]),s(e(_),{as:e(f),href:m.route("admin.manager-roles.matrix"),variant:"secondary",class:"w-full sm:w-auto"},{default:r(()=>[s(e(X),{class:"mr-2 h-4 w-4"}),t[2]||(t[2]=l(" Matrix View "))]),_:1},8,["as","href"])])]),a("div",oe,[s(e(w),null,{default:r(()=>[s(e(b),{class:"p-6"},{default:r(()=>[a("div",ie,[a("div",de,[a("div",me,[s(e(R),{class:"h-5 w-5 text-primary-foreground"})])]),a("div",ue,[t[4]||(t[4]=a("div",{class:"text-sm font-medium text-muted-foreground"},"Total Roles",-1)),a("div",fe,o(i.stats.total_roles||0),1)])])]),_:1})]),_:1}),s(e(w),null,{default:r(()=>[s(e(b),{class:"p-6"},{default:r(()=>[a("div",_e,[a("div",ce,[a("div",ge,[s(e(Z),{class:"h-5 w-5 text-white"})])]),a("div",xe,[t[5]||(t[5]=a("div",{class:"text-sm font-medium text-muted-foreground"},"Active Roles",-1)),a("div",ve,o(i.stats.active_roles||0),1)])])]),_:1})]),_:1}),s(e(w),null,{default:r(()=>[s(e(b),{class:"p-6"},{default:r(()=>[a("div",he,[a("div",pe,[a("div",we,[s(e(E),{class:"h-5 w-5 text-white"})])]),a("div",ye,[t[6]||(t[6]=a("div",{class:"text-sm font-medium text-muted-foreground"},"Direct Managers",-1)),a("div",be,o(i.stats.direct_managers||0),1)])])]),_:1})]),_:1})]),s(e(w),null,{default:r(()=>[a("div",$e,[s(e(H),null,{default:r(()=>[s(e(G),null,{default:r(()=>[s(e(M),null,{default:r(()=>[s(e(c),null,{default:r(()=>t[7]||(t[7]=[l("Manager")])),_:1}),s(e(c),null,{default:r(()=>t[8]||(t[8]=[l("Role Type")])),_:1}),s(e(c),null,{default:r(()=>t[9]||(t[9]=[l("Department")])),_:1}),s(e(c),null,{default:r(()=>t[10]||(t[10]=[l("Manages")])),_:1}),s(e(c),null,{default:r(()=>t[11]||(t[11]=[l("Status")])),_:1}),s(e(c),{class:"text-right"},{default:r(()=>t[12]||(t[12]=[l("Actions")])),_:1})]),_:1})]),_:1}),s(e(O),null,{default:r(()=>[(d(!0),u(y,null,T(i.roles.data,n=>(d(),v(e(M),{key:n.id},{default:r(()=>[s(e(g),null,{default:r(()=>[a("div",ke,[s(e(L),{class:"h-10 w-10"},{default:r(()=>[s(e(U),{class:"bg-muted"},{default:r(()=>[l(o(n.manager.name.charAt(0).toUpperCase()),1)]),_:2},1024)]),_:2},1024),a("div",Ce,[a("div",Te,o(n.manager.name),1),a("div",Me,o(n.manager.email),1),a("div",je,o(n.manager.level),1)])])]),_:2},1024),s(e(g),null,{default:r(()=>[s(e($),{variant:A(n.role_type)},{default:r(()=>[l(o(n.role_display),1)]),_:2},1032,["variant"]),n.is_primary?(d(),u("div",Re,[s(e($),{variant:"secondary",class:"text-xs"},{default:r(()=>[s(e(ee),{class:"mr-1 h-3 w-3"}),t[13]||(t[13]=l(" Primary "))]),_:1})])):h("",!0)]),_:2},1024),s(e(g),null,{default:r(()=>[a("div",Se,o(n.department.name),1),a("div",Ae,o(n.department.code),1)]),_:2},1024),s(e(g),null,{default:r(()=>[n.managed_user?(d(),u("div",Ne,[a("div",Ve,o(n.managed_user.name),1),a("div",ze,o(n.managed_user.email),1)])):(d(),u("div",Pe," Department-wide role "))]),_:2},1024),s(e(g),null,{default:r(()=>[s(e($),{variant:N(n.is_active)},{default:r(()=>[l(o(n.is_active?"Active":"Expired"),1)]),_:2},1032,["variant"]),a("div",De," Started: "+o(n.start_date),1)]),_:2},1024),s(e(g),{class:"text-right"},{default:r(()=>[a("div",Ee,[s(e(_),{as:e(f),href:m.route("admin.manager-roles.show",n.id),variant:"ghost",size:"sm"},{default:r(()=>[s(e(te),{class:"h-4 w-4 mr-1"}),t[14]||(t[14]=l(" View "))]),_:2},1032,["as","href"]),s(e(_),{as:e(f),href:m.route("admin.manager-roles.edit",n.id),variant:"ghost",size:"sm"},{default:r(()=>[s(e(se),{class:"h-4 w-4 mr-1"}),t[15]||(t[15]=l(" Edit "))]),_:2},1032,["as","href"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),i.roles.links&&i.roles.links.length>3?(d(),u("div",Le,[a("div",Ue,[a("div",Be,[i.roles.prev_page_url?(d(),v(e(_),{key:0,as:e(f),href:i.roles.prev_page_url,variant:"outline",size:"sm"},{default:r(()=>[s(e(ae),{class:"h-4 w-4 mr-1"}),t[16]||(t[16]=l(" Previous "))]),_:1},8,["as","href"])):h("",!0),i.roles.next_page_url?(d(),v(e(_),{key:1,as:e(f),href:i.roles.next_page_url,variant:"outline",size:"sm"},{default:r(()=>[t[17]||(t[17]=l(" Next ")),s(e(B),{class:"h-4 w-4 ml-1"})]),_:1},8,["as","href"])):h("",!0)]),a("div",He,[a("div",null,[a("p",Ge," Showing "+o(i.roles.from)+" to "+o(i.roles.to)+" of "+o(i.roles.total)+" results ",1)]),a("div",Oe,[(d(!0),u(y,null,T(i.roles.links,n=>(d(),u(y,{key:n.label},[n.url?(d(),v(e(_),{key:0,as:e(f),href:n.url,variant:n.active?"default":"outline",size:"sm",class:"min-w-[2.5rem]",innerHTML:n.label},null,8,["as","href","variant","innerHTML"])):(d(),u("span",{key:1,class:"px-3 py-2 text-sm text-muted-foreground",innerHTML:n.label},null,8,qe))],64))),128))])])])])):h("",!0),!i.roles.data||i.roles.data.length===0?(d(),u("div",Fe,[s(e(R),{class:"mx-auto h-12 w-12 text-muted-foreground"}),t[19]||(t[19]=a("h3",{class:"mt-2 text-sm font-medium text-foreground"},"No manager roles found",-1)),t[20]||(t[20]=a("p",{class:"mt-1 text-sm text-muted-foreground"},"Get started by assigning manager roles to users.",-1)),a("div",We,[s(e(_),{as:e(f),href:m.route("admin.manager-roles.create")},{default:r(()=>[s(e(j),{class:"mr-2 h-4 w-4"}),t[18]||(t[18]=l(" Assign New Role "))]),_:1},8,["as","href"])])])):h("",!0)]),_:1})]),s(e(q),{open:p.value,"onUpdate:open":t[0]||(t[0]=n=>p.value=n)},{default:r(()=>[s(e(F),null,{default:r(()=>[s(e(W),null,{default:r(()=>[s(e(I),null,{default:r(()=>t[21]||(t[21]=[l("Terminate Manager Role")])),_:1}),s(e(Y),null,{default:r(()=>{var n,k;return[t[22]||(t[22]=l(" Are you sure you want to terminate the manager role for ")),a("span",Ie,o((k=(n=x.value)==null?void 0:n.manager)==null?void 0:k.name),1),t[23]||(t[23]=l("? This action cannot be undone and will permanently remove their management responsibilities. "))]}),_:1})]),_:1}),s(e(J),null,{default:r(()=>[s(e(K),null,{default:r(()=>t[24]||(t[24]=[l("Cancel")])),_:1}),s(e(Q),{onClick:S,class:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},{default:r(()=>t[25]||(t[25]=[l(" Yes, Terminate Role ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}});export{yt as default};
