import{d as T,a as f,o as l,b as o,u as e,m as Q,w as r,e as a,P as x,f as u,g as m,h as n,t as i,F as P,W as B}from"./app-De5aCyOy.js";import{H as Y,f as A}from"./AppLayout.vue_vue_type_script_setup_true_lang-DrTEAkGA.js";import{_ as p}from"./Button.vue_vue_type_script_setup_true_lang-C1ptny9S.js";import{_ as k}from"./Card.vue_vue_type_script_setup_true_lang-D592-r3Y.js";import{_ as q}from"./CardContent.vue_vue_type_script_setup_true_lang-BnfRKYb9.js";import{_ as N}from"./CardDescription.vue_vue_type_script_setup_true_lang-7y99tksC.js";import{_ as y}from"./CardHeader.vue_vue_type_script_setup_true_lang-B9pSfhlq.js";import{_ as w}from"./CardTitle.vue_vue_type_script_setup_true_lang-C3o6pLjC.js";import{_ as b}from"./index-CNloWqrH.js";import{_ as c,a as _}from"./index-Bl7hX8X-.js";import{_ as V}from"./Progress.vue_vue_type_script_setup_true_lang-XKk6VJsB.js";import{A as j}from"./arrow-left-kG5YrchA.js";import{C as g}from"./circle-check-big-BYC-wlwA.js";import{C as v}from"./clock-BXDw5ZYb.js";import{L as M}from"./lock-B0M30b7w.js";import{T as H}from"./triangle-alert-QBZ4KeJk.js";import{P as L}from"./play-CqouLqeA.js";import{T as R}from"./target-CkYXQ-0W.js";import{R as F}from"./refresh-cw-BJXsbrVc.js";import"./index-D3npKzxP.js";import"./index-shR_F4Lk.js";import"./_plugin-vue_export-helper-DsuA5ZjC.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-UOeKMcHs.js";import"./useForwardExpose-Cyi8rQxf.js";import"./nullish-CHIgUVhi.js";const I={class:"max-w-3xl mx-auto space-y-4 sm:space-y-6 px-4 sm:px-6 py-4 sm:py-0"},O={class:"flex items-center gap-4"},W={class:"flex flex-col sm:flex-row items-start sm:justify-between gap-3"},D={class:"flex-1 min-w-0"},E={key:0,class:"text-muted-foreground"},U={class:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4"},G={class:"text-center p-3 sm:p-4 bg-muted rounded-lg"},J={class:"text-xl sm:text-2xl font-bold"},K={class:"text-center p-3 sm:p-4 bg-muted rounded-lg"},X={class:"text-xl sm:text-2xl font-bold"},Z={class:"text-center p-3 sm:p-4 bg-muted rounded-lg"},ss={class:"text-xl sm:text-2xl font-bold"},es={class:"text-center p-3 sm:p-4 bg-muted rounded-lg"},ts={class:"text-xs sm:text-sm font-medium break-words"},os={class:"border rounded-lg p-4 space-y-3"},as={class:"flex items-center justify-between"},rs={class:"font-medium"},is={key:0,class:"flex items-center justify-between pt-2 border-t"},us={class:"font-medium"},ls={key:0},ns={key:0,class:"block mt-1"},ms={class:"flex flex-col sm:flex-row gap-3"},ds={class:"space-y-2 text-sm text-muted-foreground"},fs={class:"flex items-start gap-2"},ps={key:0,class:"flex items-start gap-2"},cs={class:"flex items-start gap-2"},_s={class:"flex items-start gap-2"},Rs=T({__name:"Show",props:{module:{},course:{},quiz:{},quizStatus:{},canTakeQuiz:{}},setup($){const d=$,S=[{name:"My Courses",href:"/courses-online"},{name:d.course.name,href:`/courses-online/${d.course.id}`},{name:d.module.name,href:`/courses-online/${d.course.id}`},{name:"Quiz",href:""}],h=s=>{if(!s)return"No time limit";if(s<60)return`${s} minutes`;const t=Math.floor(s/60),z=s%60;return z>0?`${t}h ${z}m`:`${t} hour${t>1?"s":""}`},C=()=>{B.post(route("courses-online.modules.quiz.start",{courseOnline:d.course.id,courseModule:d.module.id}),{},{onSuccess:s=>{}})};return(s,t)=>(l(),f(P,null,[o(e(Q),{title:`Quiz - ${s.module.name}`},null,8,["title"]),o(A,{breadcrumbs:S},{default:r(()=>[a("div",I,[a("div",O,[o(e(p),{"as-child":"",variant:"ghost",size:"sm",class:"w-full sm:w-auto"},{default:r(()=>[o(e(x),{href:`/courses-online/${s.course.id}`,class:"flex items-center justify-center"},{default:r(()=>[o(e(j),{class:"h-4 w-4 mr-2"}),t[0]||(t[0]=u(" Back to Course "))]),_:1},8,["href"])]),_:1})]),o(e(k),null,{default:r(()=>[o(e(y),null,{default:r(()=>[a("div",W,[a("div",D,[o(e(w),{class:"text-xl sm:text-2xl break-words"},{default:r(()=>[u(i(s.quiz.title),1)]),_:1}),o(e(N),{class:"break-words"},{default:r(()=>[u(i(s.module.name),1)]),_:1})]),s.quizStatus.passed?(l(),m(e(b),{key:0,variant:"default",class:"bg-green-500 flex-shrink-0"},{default:r(()=>[o(e(g),{class:"h-3 w-3 mr-1"}),t[1]||(t[1]=u(" Passed "))]),_:1})):s.quizStatus.attempts_used>0?(l(),m(e(b),{key:1,variant:"secondary",class:"flex-shrink-0"},{default:r(()=>t[2]||(t[2]=[u(" In Progress ")])),_:1})):n("",!0)])]),_:1}),o(e(q),{class:"space-y-6"},{default:r(()=>[s.quiz.description?(l(),f("p",E,i(s.quiz.description),1)):n("",!0),a("div",U,[a("div",G,[a("p",J,i(s.quiz.questions_count),1),t[3]||(t[3]=a("p",{class:"text-xs sm:text-sm text-muted-foreground"},"Questions",-1))]),a("div",K,[a("p",X,i(s.quiz.total_points),1),t[4]||(t[4]=a("p",{class:"text-xs sm:text-sm text-muted-foreground"},"Total Points",-1))]),a("div",Z,[a("p",ss,i(s.quiz.pass_threshold)+"%",1),t[5]||(t[5]=a("p",{class:"text-xs sm:text-sm text-muted-foreground"},"To Pass",-1))]),a("div",es,[o(e(v),{class:"h-4 w-4 sm:h-5 sm:w-5 mx-auto mb-1 text-muted-foreground"}),a("p",ts,i(h(s.quiz.time_limit_minutes)),1)])]),a("div",os,[a("div",as,[t[6]||(t[6]=a("span",{class:"text-sm text-muted-foreground"},"Attempts Used",-1)),a("span",rs,i(s.quizStatus.attempts_used)+" / "+i(s.quiz.max_attempts),1)]),o(e(V),{"model-value":s.quizStatus.attempts_used/s.quiz.max_attempts*100},null,8,["model-value"]),s.quizStatus.best_score!==null?(l(),f("div",is,[t[7]||(t[7]=a("span",{class:"text-sm text-muted-foreground"},"Best Score",-1)),a("span",us,i(s.quizStatus.best_score)+" / "+i(s.quiz.total_points)+" ("+i(s.quizStatus.best_percentage)+"%) ",1)])):n("",!0)]),s.quizStatus.passed?(l(),m(e(c),{key:1,class:"bg-green-50 dark:bg-green-950 border-green-200"},{default:r(()=>[o(e(g),{class:"h-4 w-4 text-green-600"}),o(e(_),{class:"text-green-700 dark:text-green-300"},{default:r(()=>[t[8]||(t[8]=u(" Congratulations! You've passed this quiz. ")),s.quiz.required_to_proceed?(l(),f("span",ls,"The next module is now unlocked.")):n("",!0)]),_:1})]),_:1})):s.canTakeQuiz.can_take?s.quiz.required_to_proceed?(l(),m(e(c),{key:3},{default:r(()=>[o(e(H),{class:"h-4 w-4"}),o(e(_),null,{default:r(()=>t[9]||(t[9]=[u(" You must pass this quiz to unlock the next module. ")])),_:1})]),_:1})):n("",!0):(l(),m(e(c),{key:2,variant:"destructive"},{default:r(()=>[o(e(M),{class:"h-4 w-4"}),o(e(_),null,{default:r(()=>[u(i(s.canTakeQuiz.message)+" ",1),s.quizStatus.can_retry_at?(l(),f("span",ns," You can retry at: "+i(s.quizStatus.can_retry_at),1)):n("",!0)]),_:1})]),_:1})),a("div",ms,[s.canTakeQuiz.can_take?(l(),m(e(p),{key:0,onClick:C,class:"flex-1",size:"lg"},{default:r(()=>[o(e(L),{class:"h-4 w-4 mr-2"}),u(" "+i(s.quizStatus.attempts_used>0?"Retry Quiz":"Start Quiz"),1)]),_:1})):n("",!0),s.quizStatus.attempts_used>0?(l(),m(e(p),{key:1,"as-child":"",variant:"outline",size:"lg"},{default:r(()=>[o(e(x),{href:s.route("courses-online.modules.quiz.history",{courseOnline:s.course.id,courseModule:s.module.id})},{default:r(()=>[o(e(Y),{class:"h-4 w-4 mr-2"}),t[10]||(t[10]=u(" View History "))]),_:1},8,["href"])]),_:1})):n("",!0)])]),_:1})]),_:1}),o(e(k),null,{default:r(()=>[o(e(y),null,{default:r(()=>[o(e(w),{class:"text-lg"},{default:r(()=>t[11]||(t[11]=[u("Instructions")])),_:1})]),_:1}),o(e(q),null,{default:r(()=>[a("ul",ds,[a("li",fs,[o(e(g),{class:"h-4 w-4 mt-0.5 text-green-500 shrink-0"}),t[12]||(t[12]=u(" Answer all questions to the best of your ability "))]),s.quiz.time_limit_minutes?(l(),f("li",ps,[o(e(v),{class:"h-4 w-4 mt-0.5 text-orange-500 shrink-0"}),u(" You have "+i(h(s.quiz.time_limit_minutes))+" to complete the quiz ",1)])):n("",!0),a("li",cs,[o(e(R),{class:"h-4 w-4 mt-0.5 text-blue-500 shrink-0"}),u(" You need "+i(s.quiz.passing_score)+" points ("+i(s.quiz.pass_threshold)+"%) to pass ",1)]),a("li",_s,[o(e(F),{class:"h-4 w-4 mt-0.5 text-purple-500 shrink-0"}),u(" You have "+i(s.quiz.max_attempts)+" total attempts ",1)])])]),_:1})]),_:1})])]),_:1})],64))}});export{Rs as default};
