import{a as se}from"./useForwardPropsEmits-Cp6q3zLn.js";import{c as Q,u as ue}from"./useSize-CHi05SbU.js";import{c as Z,u as k}from"./useForwardExpose-Cyi8rQxf.js";import{a as de,u as X}from"./Collection-BDp_B7Ge.js";import{u as me}from"./VisuallyHidden-9kO_gd9f.js";import{V as fe}from"./VisuallyHiddenInput-CPW02NT0.js";import{P as L,b as ve}from"./Button.vue_vue_type_script_setup_true_lang-C1ptny9S.js";import{d as B,U as W,r as M,c as g,g as V,o as x,w as K,K as A,y as j,u as e,k as pe,L as N,h as ce,bz as ye,B as ge,p as be,b as U,a as he,F as Se,i as we}from"./app-De5aCyOy.js";import{a as _e,m as Ce,f as De}from"./index-D3npKzxP.js";function Ee(o=[],a,t){const n=[...o];return n[t]=a,n.sort((u,d)=>u-d)}function ee(o,a,t){const d=100/(t-a)*(o-a);return Q(d,0,100)}function xe(o,a){return a>2?`Value ${o+1} of ${a}`:a===2?["Minimum","Maximum"][o]:void 0}function Ve(o,a){if(o.length===1)return 0;const t=o.map(u=>Math.abs(u-a)),n=Math.min(...t);return t.indexOf(n)}function Ke(o,a,t){const n=o/2,d=G([0,50],[0,n]);return(n-d(a)*t)*t}function qe(o){return o.slice(0,-1).map((a,t)=>o[t+1]-a)}function Be(o,a){if(a>0){const t=qe(o);return Math.min(...t)>=a}return!0}function G(o,a){return t=>{if(o[0]===o[1]||a[0]===a[1])return a[0];const n=(a[1]-a[0])/(o[1]-o[0]);return a[0]+n*(t-o[0])}}function Pe(o){return(String(o).split(".")[1]||"").length}function Ae(o,a){const t=10**a;return Math.round(o*t)/t}const te=["PageUp","PageDown"],ae=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ne={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageUp","ArrowUp","ArrowLeft"]},[oe,le]=Z(["SliderVertical","SliderHorizontal"]);var Re=B({__name:"SliderHorizontal",props:{dir:{type:String,required:!1},min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(o,{emit:a}){const t=o,n=a,{max:u,min:d,dir:i,inverted:l}=W(t),{forwardRef:v,currentElement:y}=k(),b=$(),C=M(),_=M(),D=g(()=>(i==null?void 0:i.value)!=="rtl"&&!l.value||(i==null?void 0:i.value)!=="ltr"&&l.value);function f(s,r){const m=_.value||y.value.getBoundingClientRect(),w=[...b.thumbElements.value][b.valueIndexToChangeRef.value],P=b.thumbAlignment.value==="contain"?w.clientWidth:0;!C.value&&!r&&b.thumbAlignment.value==="contain"&&(C.value=s.clientX-w.getBoundingClientRect().left);const T=[0,m.width-P],q=D.value?[d.value,u.value]:[u.value,d.value],I=G(T,q);_.value=m;const p=r?s.clientX-m.left-P/2:s.clientX-m.left-(C.value??0);return I(p)}const h=g(()=>D.value?"left":"right"),z=g(()=>D.value?"right":"left"),S=g(()=>D.value?1:-1);return le({startEdge:h,endEdge:z,direction:S,size:"width"}),(s,r)=>(x(),V(re,{ref:e(v),dir:e(i),"data-orientation":"horizontal",style:j({"--reka-slider-thumb-transform":!D.value&&e(b).thumbAlignment.value==="overflow"?"translateX(50%)":"translateX(-50%)"}),onSlideStart:r[0]||(r[0]=m=>{const w=f(m,!0);n("slideStart",w)}),onSlideMove:r[1]||(r[1]=m=>{const w=f(m);n("slideMove",w)}),onSlideEnd:r[2]||(r[2]=()=>{_.value=void 0,C.value=void 0,n("slideEnd")}),onStepKeyDown:r[3]||(r[3]=m=>{const w=D.value?"from-left":"from-right",P=e(ne)[w].includes(m.key);n("stepKeyDown",m,P?-1:1)}),onEndKeyDown:r[4]||(r[4]=m=>n("endKeyDown",m)),onHomeKeyDown:r[5]||(r[5]=m=>n("homeKeyDown",m))},{default:K(()=>[A(s.$slots,"default")]),_:3},8,["dir","style"]))}}),Me=Re,ke=B({__name:"SliderVertical",props:{min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(o,{emit:a}){const t=o,n=a,{max:u,min:d,inverted:i}=W(t),l=$(),{forwardRef:v,currentElement:y}=k(),b=M(),C=M(),_=g(()=>!i.value);function D(S,s){const r=C.value||y.value.getBoundingClientRect(),m=[...l.thumbElements.value][l.valueIndexToChangeRef.value],w=l.thumbAlignment.value==="contain"?m.clientHeight:0;!b.value&&!s&&l.thumbAlignment.value==="contain"&&(b.value=S.clientY-m.getBoundingClientRect().top);const P=[0,r.height-w],T=_.value?[u.value,d.value]:[d.value,u.value],q=G(P,T),I=s?S.clientY-r.top-w/2:S.clientY-r.top-(b.value??0);return C.value=r,q(I)}const f=g(()=>_.value?"bottom":"top"),h=g(()=>_.value?"top":"bottom"),z=g(()=>_.value?1:-1);return le({startEdge:f,endEdge:h,direction:z,size:"height"}),(S,s)=>(x(),V(re,{ref:e(v),"data-orientation":"vertical",style:j({"--reka-slider-thumb-transform":!_.value&&e(l).thumbAlignment.value==="overflow"?"translateY(-50%)":"translateY(50%)"}),onSlideStart:s[0]||(s[0]=r=>{const m=D(r,!0);n("slideStart",m)}),onSlideMove:s[1]||(s[1]=r=>{const m=D(r);n("slideMove",m)}),onSlideEnd:s[2]||(s[2]=()=>{C.value=void 0,b.value=void 0,n("slideEnd")}),onStepKeyDown:s[3]||(s[3]=r=>{const m=_.value?"from-bottom":"from-top",w=e(ne)[m].includes(r.key);n("stepKeyDown",r,w?-1:1)}),onEndKeyDown:s[4]||(s[4]=r=>n("endKeyDown",r)),onHomeKeyDown:s[5]||(s[5]=r=>n("homeKeyDown",r))},{default:K(()=>[A(S.$slots,"default")]),_:3},8,["style"]))}}),Ie=ke;const[$,$e]=Z("SliderRoot");var ze=B({inheritAttrs:!1,__name:"SliderRoot",props:{defaultValue:{type:Array,required:!1,default:()=>[0]},modelValue:{type:[Array,null],required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},inverted:{type:Boolean,required:!1,default:!1},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},minStepsBetweenThumbs:{type:Number,required:!1,default:0},thumbAlignment:{type:String,required:!1,default:"contain"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","valueCommit"],setup(o,{emit:a}){const t=o,n=a,{min:u,max:d,step:i,minStepsBetweenThumbs:l,orientation:v,disabled:y,thumbAlignment:b,dir:C}=W(t),_=de(C),{forwardRef:D,currentElement:f}=k(),h=me(f),{CollectionSlot:z}=X({isProvider:!0}),S=_e(t,"modelValue",n,{defaultValue:t.defaultValue,passive:t.modelValue===void 0}),s=g(()=>Array.isArray(S.value)?[...S.value]:[]),r=M(0),m=M(s.value);function w(p){const c=Ve(s.value,p);q(p,c)}function P(p){q(p,r.value)}function T(){const p=m.value[r.value];s.value[r.value]!==p&&n("valueCommit",ye(s.value))}function q(p,c,{commit:E}={commit:!1}){var H;const O=Pe(i.value),J=Ae(Math.round((p-u.value)/i.value)*i.value+u.value,O),Y=Q(J,u.value,d.value),R=Ee(s.value,Y,c);if(Be(R,l.value*i.value)){r.value=R.indexOf(Y);const F=String(R)!==String(S.value);F&&E&&n("valueCommit",R),F&&((H=I.value[r.value])==null||H.focus(),S.value=R)}}const I=M([]);return $e({modelValue:S,currentModelValue:s,valueIndexToChangeRef:r,thumbElements:I,orientation:v,min:u,max:d,disabled:y,thumbAlignment:b}),(p,c)=>(x(),V(e(z),null,{default:K(()=>[(x(),V(pe(e(v)==="horizontal"?Me:Ie),N(p.$attrs,{ref:e(D),"as-child":p.asChild,as:p.as,min:e(u),max:e(d),dir:e(_),inverted:p.inverted,"aria-disabled":e(y),"data-disabled":e(y)?"":void 0,onPointerdown:c[0]||(c[0]=()=>{e(y)||(m.value=s.value)}),onSlideStart:c[1]||(c[1]=E=>!e(y)&&w(E)),onSlideMove:c[2]||(c[2]=E=>!e(y)&&P(E)),onSlideEnd:c[3]||(c[3]=E=>!e(y)&&T()),onHomeKeyDown:c[4]||(c[4]=E=>!e(y)&&q(e(u),0,{commit:!0})),onEndKeyDown:c[5]||(c[5]=E=>!e(y)&&q(e(d),s.value.length-1,{commit:!0})),onStepKeyDown:c[6]||(c[6]=(E,O)=>{if(!e(y)){const R=e(te).includes(E.key)||E.shiftKey&&e(ae).includes(E.key)?10:1,H=r.value,F=s.value[H],ie=e(i)*R*O;q(F+ie,H,{commit:!0})}})}),{default:K(()=>[A(p.$slots,"default",{modelValue:e(S)}),e(h)&&p.name?(x(),V(e(fe),{key:0,type:"number",value:e(S),name:p.name,required:p.required,disabled:e(y),step:e(i)},null,8,["value","name","required","disabled","step"])):ce("v-if",!0)]),_:3},16,["as-child","as","min","max","dir","inverted","aria-disabled","data-disabled"]))]),_:3}))}}),Te=ze,He=B({__name:"SliderImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},emits:["slideStart","slideMove","slideEnd","homeKeyDown","endKeyDown","stepKeyDown"],setup(o,{emit:a}){const t=o,n=a,u=$();return(d,i)=>(x(),V(e(L),N({"data-slider-impl":""},t,{onKeydown:i[0]||(i[0]=l=>{l.key==="Home"?(n("homeKeyDown",l),l.preventDefault()):l.key==="End"?(n("endKeyDown",l),l.preventDefault()):e(te).concat(e(ae)).includes(l.key)&&(n("stepKeyDown",l),l.preventDefault())}),onPointerdown:i[1]||(i[1]=l=>{const v=l.target;v.setPointerCapture(l.pointerId),l.preventDefault(),e(u).thumbElements.value.includes(v)?v.focus():n("slideStart",l)}),onPointermove:i[2]||(i[2]=l=>{l.target.hasPointerCapture(l.pointerId)&&n("slideMove",l)}),onPointerup:i[3]||(i[3]=l=>{const v=l.target;v.hasPointerCapture(l.pointerId)&&(v.releasePointerCapture(l.pointerId),n("slideEnd",l))})}),{default:K(()=>[A(d.$slots,"default")]),_:3},16))}}),re=He,Ne=B({__name:"SliderRange",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(o){const a=$(),t=oe();k();const n=g(()=>a.currentModelValue.value.map(i=>ee(i,a.min.value,a.max.value))),u=g(()=>a.currentModelValue.value.length>1?Math.min(...n.value):0),d=g(()=>100-Math.max(...n.value,0));return(i,l)=>(x(),V(e(L),{"data-disabled":e(a).disabled.value?"":void 0,"data-orientation":e(a).orientation.value,"as-child":i.asChild,as:i.as,style:j({[e(t).startEdge.value]:`${u.value}%`,[e(t).endEdge.value]:`${d.value}%`})},{default:K(()=>[A(i.$slots,"default")]),_:3},8,["data-disabled","data-orientation","as-child","as","style"]))}}),Fe=Ne,Le=B({inheritAttrs:!1,__name:"SliderThumbImpl",props:{index:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){const a=o,t=$(),n=oe(),{forwardRef:u,currentElement:d}=k(),{CollectionItem:i}=X(),l=g(()=>{var f,h;return(h=(f=t.modelValue)==null?void 0:f.value)==null?void 0:h[a.index]}),v=g(()=>l.value===void 0?0:ee(l.value,t.min.value??0,t.max.value??100)),y=g(()=>{var f,h;return xe(a.index,((h=(f=t.modelValue)==null?void 0:f.value)==null?void 0:h.length)??0)}),b=ue(d),C=g(()=>b[n.size].value),_=g(()=>t.thumbAlignment.value==="overflow"||!C.value?0:Ke(C.value,v.value,n.direction.value)),D=Ce();return ge(()=>{t.thumbElements.value.push(d.value)}),be(()=>{const f=t.thumbElements.value.findIndex(h=>h===d.value)??-1;t.thumbElements.value.splice(f,1)}),(f,h)=>(x(),V(e(i),null,{default:K(()=>[U(e(L),N(f.$attrs,{ref:e(u),role:"slider",tabindex:e(t).disabled.value?void 0:0,"aria-label":f.$attrs["aria-label"]||y.value,"data-disabled":e(t).disabled.value?"":void 0,"data-orientation":e(t).orientation.value,"aria-valuenow":l.value,"aria-valuemin":e(t).min.value,"aria-valuemax":e(t).max.value,"aria-orientation":e(t).orientation.value,"as-child":f.asChild,as:f.as,style:{transform:"var(--reka-slider-thumb-transform)",position:"absolute",[e(n).startEdge.value]:`calc(${v.value}% + ${_.value}px)`,display:!e(D)&&l.value===void 0?"none":void 0},onFocus:h[0]||(h[0]=()=>{e(t).valueIndexToChangeRef.value=f.index})}),{default:K(()=>[A(f.$slots,"default")]),_:3},16,["tabindex","aria-label","data-disabled","data-orientation","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","as-child","as","style"])]),_:3}))}}),Oe=Le,Ye=B({__name:"SliderThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(o){const a=o,{getItems:t}=X(),{forwardRef:n,currentElement:u}=k(),d=g(()=>u.value?t(!0).findIndex(i=>i.ref===u.value):-1);return(i,l)=>(x(),V(Oe,N({ref:e(n)},a,{index:d.value}),{default:K(()=>[A(i.$slots,"default")]),_:3},16,["index"]))}}),Ue=Ye,Xe=B({__name:"SliderTrack",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(o){const a=$();return k(),(t,n)=>(x(),V(e(L),{"as-child":t.asChild,as:t.as,"data-disabled":e(a).disabled.value?"":void 0,"data-orientation":e(a).orientation.value},{default:K(()=>[A(t.$slots,"default")]),_:3},8,["as-child","as","data-disabled","data-orientation"]))}}),We=Xe;const ot=B({__name:"Slider",props:{defaultValue:{},modelValue:{},disabled:{type:Boolean},orientation:{},dir:{},inverted:{type:Boolean},min:{},max:{},step:{},minStepsBetweenThumbs:{},thumbAlignment:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","valueCommit"],setup(o,{emit:a}){const t=o,n=a,u=De(t,"class"),d=se(u,n);return(i,l)=>(x(),V(e(Te),N({"data-slot":"slider",class:e(ve)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t.class)},e(d)),{default:K(({modelValue:v})=>[U(e(We),{"data-slot":"slider-track",class:"bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"},{default:K(()=>[U(e(Fe),{"data-slot":"slider-range",class:"bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full"})]),_:1}),(x(!0),he(Se,null,we(v,(y,b)=>(x(),V(e(Ue),{key:b,"data-slot":"slider-thumb",class:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"}))),128))]),_:1},16,["class"]))}});export{ot as _};
