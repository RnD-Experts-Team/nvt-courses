import{P as z,z as p,g as q,o as n,w as m,e as t,b as f,f as u,j,s as y,E as k,v as S,a as l,h as x,t as d,F as h,i as v,n as w,r as C,c as F,l as A,W as c}from"./app-De5aCyOy.js";import{_ as P}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Dj8HCjtT.js";import{_ as V}from"./_plugin-vue_export-helper-DsuA5ZjC.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-DrTEAkGA.js";import"./Button.vue_vue_type_script_setup_true_lang-C1ptny9S.js";import"./index-D3npKzxP.js";import"./index-shR_F4Lk.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-UOeKMcHs.js";import"./clock-BXDw5ZYb.js";const L={components:{AdminLayout:P,Link:z},props:{attempts:{type:Object,required:!0},filters:{type:Object,default:()=>({})},quiz:{type:Object,default:null}},setup(g){const e=C({user_id:g.filters.user_id||"",quiz_id:g.filters.quiz_id||"",passed:g.filters.passed||""}),a=F(()=>{const i={};return Object.keys(e.value).forEach(o=>{e.value[o]!==""&&e.value[o]!==null&&e.value[o]!==void 0&&(i[o]=e.value[o])}),i}),s=()=>{const i={};Object.keys(e.value).forEach(o=>{e.value[o]!==""&&e.value[o]!==null&&e.value[o]!==void 0&&(i[o]=e.value[o])}),c.get(route("admin.quiz-attempts.index"),i,{preserveState:!0,preserveScroll:!0})},b=()=>{e.value={user_id:"",quiz_id:"",passed:""},c.get(route("admin.quiz-attempts.index"),{},{preserveState:!0,preserveScroll:!0})};return A(()=>g.filters,i=>{e.value={user_id:i.user_id||"",quiz_id:i.quiz_id||"",passed:i.passed||""}},{deep:!0}),{filters:e,currentFilters:a,applyFilters:s,clearFilters:b,router:c,breadcrumbs:[{name:"Quizzes",route:"admin.quizzes.index"},{name:"Attempts",route:null}]}}},N={class:"mx-auto max-w-7xl py-12 sm:px-6 lg:px-8 bg-white dark:bg-gray-900 text-gray-900 dark:text-white"},M={class:"mb-8 flex items-center justify-between"},B={class:"mb-6 rounded-xl bg-white dark:bg-gray-800 p-6 shadow-sm dark:shadow-lg dark:shadow-gray-900/50 border border-gray-200 dark:border-gray-700"},D={class:"flex justify-end space-x-3 sm:col-span-3"},T={class:"mb-6 rounded-xl bg-white dark:bg-gray-800 p-6 shadow-sm dark:shadow-lg dark:shadow-gray-900/50 border border-gray-200 dark:border-gray-700"},E={class:"mb-4 flex items-center justify-between"},I={class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},O={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},Q={key:0,class:"overflow-x-auto"},U={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},H={class:"divide-y divide-gray-200 dark:divide-gray-700 bg-white dark:bg-gray-800"},W={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900 dark:text-gray-100"},G={class:"font-medium"},J={class:"text-gray-500 dark:text-gray-400"},K={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900 dark:text-gray-100"},R={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900 dark:text-gray-100"},X={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900 dark:text-gray-100"},Y={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900 dark:text-gray-100"},Z={class:"font-medium"},$={class:"whitespace-nowrap px-6 py-4 text-sm"},tt={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500 dark:text-gray-400"},et={class:"whitespace-nowrap px-6 py-4 text-sm font-medium"},rt={key:1,class:"py-12 text-center"},at={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},st={key:2,class:"mt-6"},dt={class:"flex items-center justify-between border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 px-4 py-3 sm:px-6"},ot={class:"flex flex-1 justify-between sm:hidden"},it={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},nt={class:"text-sm text-gray-700 dark:text-gray-300"},lt={class:"font-medium"},gt={class:"font-medium"},ut={class:"font-medium"},xt={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},mt=["onClick","disabled","innerHTML"];function yt(g,e,a,s,b,_){const i=p("Link"),o=p("AdminLayout");return n(),q(o,{breadcrumbs:s.breadcrumbs},{default:m(()=>[t("div",N,[t("div",M,[e[8]||(e[8]=t("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Quiz Attempts",-1)),f(i,{href:g.route("admin.quizzes.index"),class:"inline-flex items-center rounded-lg bg-gray-100 dark:bg-gray-700 px-4 py-2 text-sm font-semibold text-gray-700 dark:text-gray-200 transition-colors duration-200 hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-hidden focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-500"},{default:m(()=>e[7]||(e[7]=[t("svg",{class:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),u(" Back to Quizzes ")])),_:1},8,["href"])]),t("div",B,[t("form",{onSubmit:e[4]||(e[4]=j((...r)=>s.applyFilters&&s.applyFilters(...r),["prevent"])),class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},[t("div",null,[e[9]||(e[9]=t("label",{for:"user_id",class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"},"User ID",-1)),y(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>s.filters.user_id=r),id:"user_id",type:"number",class:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white px-3 py-2 text-sm shadow-sm placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200 focus:border-indigo-500 dark:focus:border-indigo-400 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400",placeholder:"Enter User ID"},null,512),[[k,s.filters.user_id]])]),t("div",null,[e[10]||(e[10]=t("label",{for:"quiz_id",class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"},"Quiz ID",-1)),y(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>s.filters.quiz_id=r),id:"quiz_id",type:"number",class:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white px-3 py-2 text-sm shadow-sm placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200 focus:border-indigo-500 dark:focus:border-indigo-400 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400",placeholder:"Enter Quiz ID"},null,512),[[k,s.filters.quiz_id]])]),t("div",null,[e[12]||(e[12]=t("label",{for:"passed",class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"},"Status",-1)),y(t("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>s.filters.passed=r),id:"passed",class:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white px-3 py-2 text-sm shadow-sm transition-colors duration-200 focus:border-indigo-500 dark:focus:border-indigo-400 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"},e[11]||(e[11]=[t("option",{value:""},"All",-1),t("option",{value:"1"},"Passed",-1),t("option",{value:"0"},"Failed",-1)]),512),[[S,s.filters.passed]])]),t("div",D,[t("button",{type:"button",onClick:e[3]||(e[3]=(...r)=>s.clearFilters&&s.clearFilters(...r)),class:"rounded-lg bg-gray-100 dark:bg-gray-700 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 transition-colors duration-200 hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-hidden focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-500"}," Clear Filters "),e[13]||(e[13]=t("button",{type:"submit",class:"rounded-lg bg-indigo-600 dark:bg-indigo-500 px-4 py-2 text-sm font-medium text-white transition-colors duration-200 hover:bg-indigo-700 dark:hover:bg-indigo-600 focus:outline-hidden focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"}," Apply Filters ",-1))])],32)]),t("div",T,[t("div",E,[t("h2",I,"Attempts ("+d(a.attempts.total)+")",1),a.quiz?(n(),l("div",O," Pass Threshold: "+d(a.quiz.pass_threshold)+"% ",1)):x("",!0)]),a.attempts.data&&a.attempts.data.length?(n(),l("div",Q,[t("table",U,[e[15]||(e[15]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300"},"User"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300"},"Quiz"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300"},"Auto Score"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300"},"Manual Score"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300"},"Total Score"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300"},"Completed At"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300"},"Actions")])],-1)),t("tbody",H,[(n(!0),l(h,null,v(a.attempts.data,r=>(n(),l("tr",{key:r.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200"},[t("td",W,[t("div",null,[t("div",G,d(r.user.name),1),t("div",J,d(r.user.email),1)])]),t("td",K,d(r.quiz.title),1),t("td",R,d(r.score),1),t("td",X,d(r.manual_score),1),t("td",Y,[t("span",Z,d(r.total_score),1)]),t("td",$,[t("span",{class:w({"inline-flex rounded-full px-2 text-xs font-semibold leading-5":!0,"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":r.passed,"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":!r.passed})},d(r.passed?"Passed":"Failed"),3)]),t("td",tt,d(r.completed_at||"Not completed"),1),t("td",et,[f(i,{href:g.route("admin.quiz-attempts.show",r.id),class:"text-indigo-600 dark:text-indigo-400 transition-colors duration-200 hover:text-indigo-900 dark:hover:text-indigo-300"},{default:m(()=>e[14]||(e[14]=[u(" View Details ")])),_:2},1032,["href"])])]))),128))])])])):(n(),l("div",rt,[e[16]||(e[16]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e[17]||(e[17]=t("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100"},"No attempts found",-1)),t("p",at,d(Object.keys(s.currentFilters).length>0?"Try adjusting your filters to see more results.":"No quiz attempts have been made yet."),1)])),a.attempts.data&&a.attempts.data.length&&a.attempts.links?(n(),l("div",st,[t("div",dt,[t("div",ot,[a.attempts.prev_page_url?(n(),l("button",{key:0,onClick:e[5]||(e[5]=r=>s.router.visit(a.attempts.prev_page_url,{preserveState:!0})),class:"relative inline-flex items-center rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors duration-200"}," Previous ")):x("",!0),a.attempts.next_page_url?(n(),l("button",{key:1,onClick:e[6]||(e[6]=r=>s.router.visit(a.attempts.next_page_url,{preserveState:!0})),class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors duration-200"}," Next ")):x("",!0)]),t("div",it,[t("div",null,[t("p",nt,[e[18]||(e[18]=u(" Showing ")),t("span",lt,d(a.attempts.from),1),e[19]||(e[19]=u(" to ")),t("span",gt,d(a.attempts.to),1),e[20]||(e[20]=u(" of ")),t("span",ut,d(a.attempts.total),1),e[21]||(e[21]=u(" results "))])]),t("div",null,[t("nav",xt,[(n(!0),l(h,null,v(a.attempts.links,r=>(n(),l("button",{key:r.label,onClick:ct=>r.url&&s.router.visit(r.url,{preserveState:!0}),disabled:!r.url,class:w(["relative inline-flex items-center px-3 py-2 text-sm font-medium transition-colors duration-200",{"z-10 border-indigo-600 dark:border-indigo-500 bg-indigo-600 dark:bg-indigo-500 text-white":r.active,"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600":!r.active&&r.url,"cursor-not-allowed border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-500":!r.url,"rounded-l-md":r.label==="« Previous","rounded-r-md":r.label==="Next »","border-b border-r border-t":!0,"border-l":r.label==="« Previous"}]),innerHTML:r.label},null,10,mt))),128))])])])])])):x("",!0)])])]),_:1},8,["breadcrumbs"])}const qt=V(L,[["render",yt],["__scopeId","data-v-36cf8bcd"]]);export{qt as default};
