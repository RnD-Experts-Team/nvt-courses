import{d as P,C as T,g as c,o as m,w as s,e as r,h as v,b as t,u as e,P as q,f as n,t as o,k,j as M,a as f,F as N,i as W}from"./app-De5aCyOy.js";import{_ as O}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Dj8HCjtT.js";import{_ as V}from"./Button.vue_vue_type_script_setup_true_lang-C1ptny9S.js";import{_ as p}from"./Card.vue_vue_type_script_setup_true_lang-D592-r3Y.js";import{_}from"./CardContent.vue_vue_type_script_setup_true_lang-BnfRKYb9.js";import{_ as j}from"./CardDescription.vue_vue_type_script_setup_true_lang-7y99tksC.js";import{_ as b}from"./CardHeader.vue_vue_type_script_setup_true_lang-B9pSfhlq.js";import{_ as g}from"./CardTitle.vue_vue_type_script_setup_true_lang-C3o6pLjC.js";import{_ as R}from"./index-CNloWqrH.js";import{c as z,e as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-DrTEAkGA.js";import{_ as x}from"./Label.vue_vue_type_script_setup_true_lang-BhPM2rb2.js";import{_ as X}from"./Textarea.vue_vue_type_script_setup_true_lang-B6XbqApa.js";import{_ as H,a as J,b as K,c as Q,d as Y}from"./SelectValue.vue_vue_type_script_setup_true_lang-D84q5NJt.js";import{_ as Z,a as ee}from"./index-Bl7hX8X-.js";import{A as te}from"./arrow-left-kG5YrchA.js";import{C as U}from"./circle-check-big-BYC-wlwA.js";import{S as F}from"./send-fhPUJJ3W.js";import{U as se}from"./user-D0HtPb4E.js";import{C as ae}from"./calendar-BbiMWXwU.js";import{C as D}from"./clock-BXDw5ZYb.js";import{C as re}from"./circle-x-qrbwyPjC.js";import{E as le}from"./eye-Jbp-o3OQ.js";import{M as B,W as ne}from"./wrench-Bgl0U2zJ.js";import{S as oe}from"./star-BP7x_abV.js";import{L as de}from"./lightbulb-CCITxj46.js";import"./index-D3npKzxP.js";import"./index-shR_F4Lk.js";import"./_plugin-vue_export-helper-DsuA5ZjC.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-UOeKMcHs.js";import"./useForwardPropsEmits-Cp6q3zLn.js";import"./Presence-DbAr2sRl.js";import"./ConfigProvider-B6_1veax.js";import"./useForwardExpose-Cyi8rQxf.js";import"./Teleport-swefm16Y.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-CPyPlHCY.js";import"./Collection-BDp_B7Ge.js";import"./usePrimitiveElement-B41iOtr7.js";import"./check-DTkWFW74.js";import"./useSize-CHi05SbU.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-9kO_gd9f.js";const ie={class:"px-4 sm:px-0 space-y-6"},me={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},ue={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ce={class:"lg:col-span-2 space-y-6"},fe={class:"flex items-start justify-between"},pe={class:"flex items-center space-x-3"},_e={class:"prose max-w-none"},be={class:"text-muted-foreground leading-relaxed whitespace-pre-wrap"},ge={key:0,class:"text-destructive text-sm mt-1"},xe={key:0,class:"text-destructive text-sm mt-1"},ve={class:"flex gap-4"},ke={key:0},he={key:1},we={class:"space-y-6"},ye={class:"flex items-center space-x-3 mb-4"},Se={class:"font-medium text-foreground"},$e={class:"text-sm text-muted-foreground"},Ce={class:"flex items-center space-x-2 mt-1"},Ve={class:"text-sm font-medium"},je={class:"text-sm mt-1"},Re={class:"mt-1"},Ue={class:"bg-muted/30 rounded-lg p-4"},Fe={class:"text-sm text-muted-foreground leading-relaxed whitespace-pre-wrap"},ht=P({__name:"Show",props:{feedback:Object},setup(l){const h=l,L=[{name:"Dashboard",href:route("dashboard")},{name:"Employee Feedback",href:route("admin.feedback.index")},{name:"View Feedback",href:"#"}],i=T({admin_response:h.feedback.admin_response||"",status:h.feedback.status||"pending"});function w(d){switch(d){case"pending":return D;case"under_review":return le;case"approved":return U;case"rejected":return re;default:return D}}function y(d){switch(d){case"pending":return"secondary";case"under_review":return"default";case"approved":return"default";case"rejected":return"destructive";default:return"secondary"}}function S(d){switch(d){case"suggestion":return de;case"improvement":return ne;case"feature_request":return oe;case"general":return B;default:return B}}function $(d){return{suggestion:"Suggestion",improvement:"Improvement",feature_request:"Feature Request",general:"General Feedback"}[d]||d}const A=d=>d.split(" ").map(a=>a.charAt(0).toUpperCase()).join("").slice(0,2),C=d=>new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),E=()=>{i.patch(`/admin/feedback/${h.feedback.id}/respond`,{preserveScroll:!0,onSuccess:()=>{}})},I=[{value:"pending",label:"Pending"},{value:"under_review",label:"Under Review"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}];return(d,a)=>(m(),c(O,{breadcrumbs:L},{default:s(()=>[r("div",ie,[r("div",me,[a[3]||(a[3]=r("div",null,[r("h1",{class:"text-xl sm:text-2xl font-bold text-foreground"},"Feedback Details"),r("p",{class:"text-sm text-muted-foreground mt-1"},"Review and respond to employee feedback")],-1)),t(e(V),{as:e(q),href:"/admin/feedback",variant:"outline"},{default:s(()=>[t(e(te),{class:"mr-2 h-4 w-4"}),a[2]||(a[2]=n(" Back to Feedback "))]),_:1},8,["as"])]),d.$page.props.flash.success?(m(),c(e(Z),{key:0,class:"border-green-200 bg-green-50"},{default:s(()=>[t(e(U),{class:"h-4 w-4 text-green-600"}),t(e(ee),{class:"text-green-800"},{default:s(()=>[n(o(d.$page.props.flash.success),1)]),_:1})]),_:1})):v("",!0),r("div",ue,[r("div",ce,[t(e(p),null,{default:s(()=>[t(e(b),null,{default:s(()=>[r("div",fe,[r("div",pe,[(m(),c(k(S(l.feedback.type)),{class:"h-6 w-6 text-primary"})),r("div",null,[t(e(g),{class:"text-xl"},{default:s(()=>[n(o(l.feedback.title),1)]),_:1}),t(e(j),{class:"mt-1"},{default:s(()=>[n(o($(l.feedback.type))+" â€¢ Submitted "+o(C(l.feedback.created_at)),1)]),_:1})])]),t(e(R),{variant:y(l.feedback.status),class:"flex items-center"},{default:s(()=>[(m(),c(k(w(l.feedback.status)),{class:"mr-1 h-3 w-3"})),n(" "+o(l.feedback.status.replace("_"," ").replace(/\b\w/g,u=>u.toUpperCase())),1)]),_:1},8,["variant"])])]),_:1}),t(e(_),null,{default:s(()=>[r("div",_e,[r("p",be,o(l.feedback.description),1)])]),_:1})]),_:1}),t(e(p),null,{default:s(()=>[t(e(b),null,{default:s(()=>[t(e(g),{class:"flex items-center"},{default:s(()=>[t(e(F),{class:"mr-2 h-5 w-5"}),a[4]||(a[4]=n(" Admin Response "))]),_:1}),t(e(j),null,{default:s(()=>a[5]||(a[5]=[n(" Provide feedback to the employee about their suggestion ")])),_:1})]),_:1}),t(e(_),null,{default:s(()=>[r("form",{onSubmit:M(E,["prevent"]),class:"space-y-4"},[r("div",null,[t(e(x),{class:"mb-2 block"},{default:s(()=>a[6]||(a[6]=[n("Status")])),_:1}),t(e(H),{modelValue:e(i).status,"onUpdate:modelValue":a[0]||(a[0]=u=>e(i).status=u)},{default:s(()=>[t(e(J),null,{default:s(()=>[t(e(K),{placeholder:"Select status"})]),_:1}),t(e(Q),null,{default:s(()=>[(m(),f(N,null,W(I,u=>t(e(Y),{key:u.value,value:u.value},{default:s(()=>[n(o(u.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"]),e(i).errors.status?(m(),f("div",ge,o(e(i).errors.status),1)):v("",!0)]),r("div",null,[t(e(x),{for:"admin_response",class:"mb-2 block"},{default:s(()=>a[7]||(a[7]=[n("Response Message")])),_:1}),t(e(X),{id:"admin_response",modelValue:e(i).admin_response,"onUpdate:modelValue":a[1]||(a[1]=u=>e(i).admin_response=u),placeholder:"Write your response to the employee...",disabled:e(i).processing,rows:"6",class:"w-full resize-none"},null,8,["modelValue","disabled"]),a[8]||(a[8]=r("p",{class:"text-xs text-muted-foreground mt-1"}," This message will be visible to the employee when they view their feedback ",-1)),e(i).errors.admin_response?(m(),f("div",xe,o(e(i).errors.admin_response),1)):v("",!0)]),r("div",ve,[t(e(V),{type:"submit",disabled:e(i).processing,class:"flex-1 sm:flex-none"},{default:s(()=>[t(e(F),{class:"mr-2 h-4 w-4"}),e(i).processing?(m(),f("span",ke,"Saving Response...")):(m(),f("span",he,"Save Response"))]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})]),r("div",we,[t(e(p),null,{default:s(()=>[t(e(b),null,{default:s(()=>[t(e(g),{class:"flex items-center text-lg"},{default:s(()=>[t(e(se),{class:"mr-2 h-5 w-5"}),a[9]||(a[9]=n(" Employee Information "))]),_:1})]),_:1}),t(e(_),null,{default:s(()=>[r("div",ye,[t(e(z),{class:"h-12 w-12"},{default:s(()=>[t(e(G),{class:"bg-muted text-muted-foreground"},{default:s(()=>[n(o(A(l.feedback.user.name)),1)]),_:1})]),_:1}),r("div",null,[r("div",Se,o(l.feedback.user.name),1),r("div",$e,o(l.feedback.user.email),1)])])]),_:1})]),_:1}),t(e(p),null,{default:s(()=>[t(e(b),null,{default:s(()=>[t(e(g),{class:"flex items-center text-lg"},{default:s(()=>[t(e(ae),{class:"mr-2 h-5 w-5"}),a[10]||(a[10]=n(" Feedback Details "))]),_:1})]),_:1}),t(e(_),{class:"space-y-4"},{default:s(()=>[r("div",null,[t(e(x),{class:"text-sm font-medium text-muted-foreground"},{default:s(()=>a[11]||(a[11]=[n("Type")])),_:1}),r("div",Ce,[(m(),c(k(S(l.feedback.type)),{class:"h-4 w-4 text-primary"})),r("span",Ve,o($(l.feedback.type)),1)])]),r("div",null,[t(e(x),{class:"text-sm font-medium text-muted-foreground"},{default:s(()=>a[12]||(a[12]=[n("Submitted")])),_:1}),r("p",je,o(C(l.feedback.created_at)),1)]),r("div",null,[t(e(x),{class:"text-sm font-medium text-muted-foreground"},{default:s(()=>a[13]||(a[13]=[n("Current Status")])),_:1}),r("div",Re,[t(e(R),{variant:y(l.feedback.status),class:"text-xs"},{default:s(()=>[(m(),c(k(w(l.feedback.status)),{class:"mr-1 h-3 w-3"})),n(" "+o(l.feedback.status.replace("_"," ").replace(/\b\w/g,u=>u.toUpperCase())),1)]),_:1},8,["variant"])])])]),_:1})]),_:1}),l.feedback.admin_response?(m(),c(e(p),{key:0},{default:s(()=>[t(e(b),null,{default:s(()=>[t(e(g),{class:"text-lg"},{default:s(()=>a[14]||(a[14]=[n("Current Response")])),_:1})]),_:1}),t(e(_),null,{default:s(()=>[r("div",Ue,[r("p",Fe,o(l.feedback.admin_response),1)])]),_:1})]),_:1})):v("",!0)])])])]),_:1}))}});export{ht as default};
