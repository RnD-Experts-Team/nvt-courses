import{d as V,a as h,o as n,b as t,u as e,m as j,w as s,e as l,g as c,P as f,f as r,t as d,F as w,i as E,h as F,W as y}from"./app-De5aCyOy.js";import{f as I}from"./AppLayout.vue_vue_type_script_setup_true_lang-DrTEAkGA.js";import{_ as m}from"./Button.vue_vue_type_script_setup_true_lang-C1ptny9S.js";import{_ as g}from"./Card.vue_vue_type_script_setup_true_lang-D592-r3Y.js";import{_ as v}from"./CardContent.vue_vue_type_script_setup_true_lang-BnfRKYb9.js";import{_ as L}from"./CardDescription.vue_vue_type_script_setup_true_lang-7y99tksC.js";import{_ as $}from"./CardHeader.vue_vue_type_script_setup_true_lang-B9pSfhlq.js";import{_ as C}from"./CardTitle.vue_vue_type_script_setup_true_lang-C3o6pLjC.js";import{_ as x}from"./index-CNloWqrH.js";import{_ as U,a as W}from"./index-Bl7hX8X-.js";import{_ as D,a as Y,b,c as _,d as R,e as p}from"./TableHeader.vue_vue_type_script_setup_true_lang-CiatGxJJ.js";import{A as X}from"./arrow-left-kG5YrchA.js";import{C as z}from"./clipboard-list-CoVWorEJ.js";import{P as k}from"./plus-BEctqVRE.js";import{B as G}from"./book-open-pPANAQ7D.js";import{T as M}from"./target-CkYXQ-0W.js";import{C as Q}from"./circle-check-big-BYC-wlwA.js";import{C as H}from"./clock-BXDw5ZYb.js";import{U as q}from"./_plugin-vue_export-helper-DsuA5ZjC.js";import{C as T}from"./chart-column-CQTiunbh.js";import{C as J}from"./circle-x-qrbwyPjC.js";import{E as K}from"./eye-Jbp-o3OQ.js";import{S as Z}from"./square-pen-C_ROzota.js";import{T as ee}from"./trash-2-cH28u5cA.js";import{T as te}from"./triangle-alert-QBZ4KeJk.js";import"./index-D3npKzxP.js";import"./index-shR_F4Lk.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-UOeKMcHs.js";const se={class:"max-w-6xl mx-auto space-y-6"},oe={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"},le={class:"flex items-center gap-4"},ie={class:"text-2xl font-bold flex items-center gap-2"},ae={class:"text-muted-foreground"},re={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},de={class:"flex items-center gap-3"},ue={class:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center"},ne={class:"font-medium"},me={class:"flex items-center gap-3"},fe={class:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center"},ce={class:"font-medium"},_e={class:"flex items-center gap-3"},pe={class:"w-10 h-10 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center"},he={class:"font-medium"},ge={class:"text-center"},ve={class:"font-medium"},xe={key:0,class:"text-sm text-muted-foreground line-clamp-1"},ze={class:"flex items-center gap-2 mt-1"},we={class:"space-y-1 text-sm"},ye={class:"flex items-center gap-1"},$e={class:"flex items-center gap-1"},Ce={class:"flex items-center gap-1"},be={class:"space-y-1 text-sm"},ke={class:"flex items-center gap-1"},Me={class:"flex items-center gap-1"},Qe={class:"flex items-center justify-end gap-1"},ot=V({__name:"Index",props:{course:{},module:{},quizzes:{}},setup(O){const u=O,S=[{title:"Course Online",href:"/admin/course-online"},{title:u.course.name,href:`/admin/course-online/${u.course.id}`},{title:`Module ${u.module.order_number}: ${u.module.name}`,href:"#"},{title:"Quiz Management",href:"#"}],B=i=>{confirm("Are you sure you want to delete this quiz? This will also delete all questions and attempts.")&&y.delete(route("admin.module-quiz.destroy",{courseOnline:u.course.id,courseModule:u.module.id,quiz:i}))},N=i=>{y.patch(route("admin.module-quiz.toggle-status",{courseOnline:u.course.id,courseModule:u.module.id,quiz:i}))},A=i=>{if(!i)return"No limit";if(i<60)return`${i} min`;const o=Math.floor(i/60),a=i%60;return a>0?`${o}h ${a}m`:`${o}h`};return(i,o)=>(n(),h(w,null,[t(e(j),{title:`Quiz Management - ${i.module.name}`},null,8,["title"]),t(I,{breadcrumbs:S},{default:s(()=>[l("div",se,[l("div",oe,[l("div",le,[t(e(m),{"as-child":"",variant:"ghost"},{default:s(()=>[t(e(f),{href:`/admin/course-online/${i.course.id}`},{default:s(()=>[t(e(X),{class:"h-4 w-4 mr-2"}),o[0]||(o[0]=r(" Back to Course "))]),_:1},8,["href"])]),_:1}),l("div",null,[l("h1",ie,[t(e(z),{class:"h-6 w-6 text-primary"}),o[1]||(o[1]=r(" Module Quiz Management "))]),l("p",ae,d(i.course.name)+" â†’ Module "+d(i.module.order_number)+": "+d(i.module.name),1)])]),t(e(m),{"as-child":""},{default:s(()=>[t(e(f),{href:i.route("admin.module-quiz.create",{courseOnline:i.course.id,courseModule:i.module.id})},{default:s(()=>[t(e(k),{class:"h-4 w-4 mr-2"}),o[2]||(o[2]=r(" Create Quiz "))]),_:1},8,["href"])]),_:1})]),t(e(g),null,{default:s(()=>[t(e($),null,{default:s(()=>[t(e(C),{class:"flex items-center gap-2"},{default:s(()=>[t(e(G),{class:"h-5 w-5 text-primary"}),o[3]||(o[3]=r(" Module Information "))]),_:1})]),_:1}),t(e(v),null,{default:s(()=>[l("div",re,[l("div",de,[l("div",ue,[t(e(M),{class:"h-5 w-5 text-primary"})]),l("div",null,[o[4]||(o[4]=l("p",{class:"text-sm text-muted-foreground"},"Quiz Required",-1)),l("p",ne,[t(e(x),{variant:i.module.quiz_required?"destructive":"secondary"},{default:s(()=>[r(d(i.module.quiz_required?"Yes - Must Pass":"No"),1)]),_:1},8,["variant"])])])]),l("div",me,[l("div",fe,[t(e(z),{class:"h-5 w-5 text-blue-600 dark:text-blue-400"})]),l("div",null,[o[5]||(o[5]=l("p",{class:"text-sm text-muted-foreground"},"Total Quizzes",-1)),l("p",ce,d(i.quizzes.length),1)])]),l("div",_e,[l("div",pe,[t(e(Q),{class:"h-5 w-5 text-green-600 dark:text-green-400"})]),l("div",null,[o[6]||(o[6]=l("p",{class:"text-sm text-muted-foreground"},"Active Quizzes",-1)),l("p",he,d(i.quizzes.filter(a=>a.is_active).length),1)])])])]),_:1})]),_:1}),i.quizzes.length===0?(n(),c(e(g),{key:0},{default:s(()=>[t(e(v),{class:"py-16"},{default:s(()=>[l("div",ge,[t(e(z),{class:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),o[8]||(o[8]=l("h3",{class:"text-lg font-medium mb-2"},"No Quizzes Yet",-1)),o[9]||(o[9]=l("p",{class:"text-muted-foreground mb-6 max-w-md mx-auto"}," Create a quiz for this module to test students' understanding before they can proceed to the next module. ",-1)),t(e(m),{"as-child":""},{default:s(()=>[t(e(f),{href:i.route("admin.module-quiz.create",{courseOnline:i.course.id,courseModule:i.module.id})},{default:s(()=>[t(e(k),{class:"h-4 w-4 mr-2"}),o[7]||(o[7]=r(" Create First Quiz "))]),_:1},8,["href"])]),_:1})])]),_:1})]),_:1})):(n(),c(e(g),{key:1},{default:s(()=>[t(e($),null,{default:s(()=>[t(e(C),null,{default:s(()=>o[10]||(o[10]=[r("Module Quizzes")])),_:1}),t(e(L),null,{default:s(()=>o[11]||(o[11]=[r(" Manage quizzes for this module. Students must pass the quiz to unlock the next module. ")])),_:1})]),_:1}),t(e(v),null,{default:s(()=>[t(e(D),null,{default:s(()=>[t(e(Y),null,{default:s(()=>[t(e(b),null,{default:s(()=>[t(e(_),null,{default:s(()=>o[12]||(o[12]=[r("Quiz")])),_:1}),t(e(_),null,{default:s(()=>o[13]||(o[13]=[r("Settings")])),_:1}),t(e(_),null,{default:s(()=>o[14]||(o[14]=[r("Statistics")])),_:1}),t(e(_),null,{default:s(()=>o[15]||(o[15]=[r("Status")])),_:1}),t(e(_),{class:"text-right"},{default:s(()=>o[16]||(o[16]=[r("Actions")])),_:1})]),_:1})]),_:1}),t(e(R),null,{default:s(()=>[(n(!0),h(w,null,E(i.quizzes,a=>(n(),c(e(b),{key:a.id},{default:s(()=>[t(e(p),null,{default:s(()=>[l("div",null,[l("p",ve,d(a.title),1),a.description?(n(),h("p",xe,d(a.description),1)):F("",!0),l("div",ze,[t(e(x),{variant:"outline",class:"text-xs"},{default:s(()=>[r(d(a.questions_count)+" questions ",1)]),_:2},1024)])])]),_:2},1024),t(e(p),null,{default:s(()=>[l("div",we,[l("div",ye,[t(e(H),{class:"h-3 w-3 text-muted-foreground"}),r(" "+d(A(a.time_limit)),1)]),l("div",$e,[t(e(M),{class:"h-3 w-3 text-muted-foreground"}),r(" Pass: "+d(a.pass_threshold)+"% ",1)]),l("div",Ce,[t(e(q),{class:"h-3 w-3 text-muted-foreground"}),r(" "+d(a.max_attempts?`${a.max_attempts} attempts`:"Unlimited"),1)])])]),_:2},1024),t(e(p),null,{default:s(()=>[l("div",be,[l("div",ke,[t(e(q),{class:"h-3 w-3 text-muted-foreground"}),r(" "+d(a.attempts_count)+" attempts ",1)]),l("div",Me,[t(e(T),{class:"h-3 w-3 text-muted-foreground"}),r(" "+d(a.pass_rate.toFixed(1))+"% pass rate ",1)])])]),_:2},1024),t(e(p),null,{default:s(()=>[t(e(x),{variant:a.is_active?"default":"secondary",class:"cursor-pointer",onClick:P=>N(a.id)},{default:s(()=>[a.is_active?(n(),c(e(Q),{key:0,class:"h-3 w-3 mr-1"})):(n(),c(e(J),{key:1,class:"h-3 w-3 mr-1"})),r(" "+d(a.is_active?"Active":"Inactive"),1)]),_:2},1032,["variant","onClick"])]),_:2},1024),t(e(p),{class:"text-right"},{default:s(()=>[l("div",Qe,[t(e(m),{"as-child":"",variant:"ghost",size:"sm",title:"View Quiz"},{default:s(()=>[t(e(f),{href:i.route("admin.module-quiz.show",{courseOnline:i.course.id,courseModule:i.module.id,quiz:a.id})},{default:s(()=>[t(e(K),{class:"h-4 w-4"})]),_:2},1032,["href"])]),_:2},1024),t(e(m),{"as-child":"",variant:"ghost",size:"sm",title:"Edit Quiz"},{default:s(()=>[t(e(f),{href:i.route("admin.module-quiz.edit",{courseOnline:i.course.id,courseModule:i.module.id,quiz:a.id})},{default:s(()=>[t(e(Z),{class:"h-4 w-4"})]),_:2},1032,["href"])]),_:2},1024),t(e(m),{"as-child":"",variant:"ghost",size:"sm",title:"View Statistics"},{default:s(()=>[t(e(f),{href:i.route("admin.module-quiz.statistics",{courseOnline:i.course.id,courseModule:i.module.id,quiz:a.id})},{default:s(()=>[t(e(T),{class:"h-4 w-4"})]),_:2},1032,["href"])]),_:2},1024),t(e(m),{variant:"ghost",size:"sm",class:"text-destructive hover:text-destructive",title:"Delete Quiz",onClick:P=>B(a.id)},{default:s(()=>[t(e(ee),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})),t(e(U),null,{default:s(()=>[t(e(te),{class:"h-4 w-4"}),t(e(W),null,{default:s(()=>o[17]||(o[17]=[l("strong",null,"Note:",-1),r(" When quiz is required for this module, students must pass the quiz to unlock the next module. Configure the pass threshold and attempt limits carefully. ")])),_:1})]),_:1})])]),_:1})],64))}});export{ot as default};
