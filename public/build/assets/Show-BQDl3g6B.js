import{d as ae,r as x,l as le,a as m,h as v,o as i,e as a,n as V,t as r,c as j,g as $,w as o,b as t,u as e,f as u,P as H,F as z,i as P,W as ue}from"./app-De5aCyOy.js";import{_ as Oe}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Dj8HCjtT.js";import{_ as C}from"./Button.vue_vue_type_script_setup_true_lang-C1ptny9S.js";import{_ as qe}from"./Input.vue_vue_type_script_setup_true_lang-XEyr05A5.js";import{_ as B}from"./Card.vue_vue_type_script_setup_true_lang-D592-r3Y.js";import{_ as E}from"./CardContent.vue_vue_type_script_setup_true_lang-BnfRKYb9.js";import{_ as We}from"./CardDescription.vue_vue_type_script_setup_true_lang-7y99tksC.js";import{_ as Ie}from"./CardHeader.vue_vue_type_script_setup_true_lang-B9pSfhlq.js";import{_ as Ke}from"./CardTitle.vue_vue_type_script_setup_true_lang-C3o6pLjC.js";import{_ as de,a as me,b as ce,c as fe,d as O}from"./SelectValue.vue_vue_type_script_setup_true_lang-D84q5NJt.js";import{_ as Je,a as Qe,b as pe,c as K,d as Xe,e as J}from"./TableHeader.vue_vue_type_script_setup_true_lang-CiatGxJJ.js";import{_ as L}from"./index-CNloWqrH.js";import{c as Z,e as G,U as Ye,B as He,q as Ze}from"./AppLayout.vue_vue_type_script_setup_true_lang-DrTEAkGA.js";import{_ as be}from"./Checkbox.vue_vue_type_script_setup_true_lang-CJs0Ik0y.js";import{_ as Ge,a as et,b as tt,c as st}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DykgtCUG.js";import{_ as lt}from"./DialogDescription.vue_vue_type_script_setup_true_lang-CQOeOJ-N.js";import{_ as at}from"./DialogFooter.vue_vue_type_script_setup_true_lang-BoeL_UG-.js";import{_ as ot,a as rt,b as we,c as ye}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-7UCeiX-U.js";import{C as ke}from"./crown-BDjR_fig.js";import{L as ee}from"./layers-nvop7tMI.js";import{S as nt}from"./square-pen-C_ROzota.js";import{U as te}from"./user-plus-DsRwCIIh.js";import{U as Y,X as it}from"./_plugin-vue_export-helper-DsuA5ZjC.js";import{T as se}from"./target-CkYXQ-0W.js";import{E as $e}from"./eye-Jbp-o3OQ.js";import{T as Ce}from"./trash-2-cH28u5cA.js";import{S as ut}from"./search-Cw3ar56u.js";import{C as dt}from"./chevron-left-Ci-PwYhm.js";import"./index-D3npKzxP.js";import"./useForwardPropsEmits-Cp6q3zLn.js";import"./Presence-DbAr2sRl.js";import"./ConfigProvider-B6_1veax.js";import"./useForwardExpose-Cyi8rQxf.js";import"./Teleport-swefm16Y.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-CPyPlHCY.js";import"./Collection-BDp_B7Ge.js";import"./usePrimitiveElement-B41iOtr7.js";import"./check-DTkWFW74.js";import"./useSize-CHi05SbU.js";import"./index-shR_F4Lk.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-9kO_gd9f.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-UOeKMcHs.js";import"./clock-BXDw5ZYb.js";import"./RovingFocusItem-B6yBawHL.js";const mt={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},ct={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ft={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-md sm:w-full"},vt={class:"sm:flex sm:items-start"},_t=["d"],gt={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},xt={class:"mt-2"},ht={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},pt=ae({__name:"NotificationModal",props:{show:{type:Boolean},type:{default:"info"},title:{},message:{},autoClose:{type:Boolean,default:!1},duration:{default:3e3}},emits:["close"],setup(d,{emit:h}){const p=d,T=h,b=x(p.show);le(()=>p.show,y=>{b.value=y,y&&p.autoClose&&setTimeout(()=>{T("close")},p.duration)});const w=()=>{switch(p.type){case"success":return"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z";case"error":return"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z";case"warning":return"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z";default:return"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}},g=()=>{switch(p.type){case"success":return{bg:"bg-green-50",border:"border-green-200",icon:"text-green-400",text:"text-green-800"};case"error":return{bg:"bg-red-50",border:"border-red-200",icon:"text-red-400",text:"text-red-800"};case"warning":return{bg:"bg-yellow-50",border:"border-yellow-200",icon:"text-yellow-400",text:"text-yellow-800"};default:return{bg:"bg-blue-50",border:"border-blue-200",icon:"text-blue-400",text:"text-blue-800"}}};return(y,S)=>b.value?(i(),m("div",mt,[a("div",ct,[a("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:S[0]||(S[0]=q=>y.$emit("close"))}),a("div",ft,[a("div",{class:V(["px-4 pt-5 pb-4 sm:p-6 sm:pb-4",g().bg])},[a("div",vt,[a("div",{class:V(["mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full sm:mx-0 sm:h-10 sm:w-10",g().border])},[(i(),m("svg",{class:V(["h-6 w-6",g().icon]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:w()},null,8,_t)],2))],2),a("div",gt,[a("h3",{class:V(["text-lg leading-6 font-medium",g().text]),id:"modal-title"},r(y.title),3),a("div",xt,[a("p",{class:V(["text-sm",g().text])},r(y.message),3)])])])],2),a("div",ht,[a("button",{onClick:S[1]||(S[1]=q=>y.$emit("close")),type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-hidden focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm"}," OK ")])])])])):v("",!0)}}),bt={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},wt={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},yt={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},kt={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},$t={class:"sm:flex sm:items-start"},Ct={class:"mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},Lt={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},Ut={class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"},Tt={class:"mt-2"},St={class:"text-sm text-gray-500"},At={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Mt=ae({__name:"ConfirmationModal",props:{show:{type:Boolean},title:{},message:{},confirmText:{default:"Confirm"},cancelText:{default:"Cancel"},type:{default:"warning"}},emits:["confirm","cancel"],setup(d,{emit:h}){const p=d,T=x(p.show);le(()=>p.show,w=>{T.value=w});const b=()=>{switch(p.type){case"danger":return{icon:"text-red-600",button:"bg-red-600 hover:bg-red-700 focus:ring-red-500"};case"warning":return{icon:"text-yellow-600",button:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"};default:return{icon:"text-blue-600",button:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}}};return(w,g)=>T.value?(i(),m("div",bt,[a("div",wt,[a("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:g[0]||(g[0]=y=>w.$emit("cancel"))}),a("div",yt,[a("div",kt,[a("div",$t,[a("div",Ct,[(i(),m("svg",{class:V(["h-6 w-6",b().icon]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},g[3]||(g[3]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"},null,-1)]),2))]),a("div",Lt,[a("h3",Ut,r(w.title),1),a("div",Tt,[a("p",St,r(w.message),1)])])])]),a("div",At,[a("button",{onClick:g[1]||(g[1]=y=>w.$emit("confirm")),type:"button",class:V(["w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white focus:outline-hidden focus:ring-2 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm",b().button])},r(w.confirmText),3),a("button",{onClick:g[2]||(g[2]=y=>w.$emit("cancel")),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-hidden focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},r(w.cancelText),1)])])])])):v("",!0)}}),jt={key:0,class:"fixed inset-0 z-50 overflow-y-auto bg-gray-500 bg-opacity-75"},zt={class:"flex items-center justify-center min-h-screen"},Pt={class:"bg-white rounded-lg p-6 shadow-xl"},Bt={class:"flex items-center space-x-4"},Nt={class:"text-gray-700 font-medium"},Et=ae({__name:"LoadingModal",props:{show:{type:Boolean},message:{default:"Loading..."}},setup(d){return(h,p)=>h.show?(i(),m("div",jt,[a("div",zt,[a("div",Pt,[a("div",Bt,[p[0]||(p[0]=a("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)),a("span",Nt,r(h.message),1)])])])])):v("",!0)}}),Vt={class:"px-4 sm:px-0 space-y-6"},Dt={class:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6"},Ft={class:"flex items-center space-x-4"},Rt={class:"text-2xl font-bold text-foreground"},Ot={class:"text-sm text-muted-foreground"},qt={class:"mt-2 flex items-center space-x-4 flex-wrap gap-2"},Wt={class:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto"},It={key:0,class:"border-t pt-4 mt-4"},Kt={class:"flex flex-wrap gap-2"},Jt={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},Qt={class:"flex items-center"},Xt={class:"shrink-0"},Yt={class:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center"},Ht={class:"ml-4 flex-1"},Zt={class:"text-2xl font-bold text-foreground"},Gt={class:"flex items-center"},es={class:"shrink-0"},ts={class:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center"},ss={class:"ml-4 flex-1"},ls={class:"text-2xl font-bold text-foreground"},as={class:"flex items-center"},os={class:"shrink-0"},rs={class:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center"},ns={class:"ml-4 flex-1"},is={class:"text-2xl font-bold text-foreground"},us={class:"flex items-center"},ds={class:"shrink-0"},ms={class:"w-10 h-10 bg-indigo-500 rounded-lg flex items-center justify-center"},cs={class:"ml-4 flex-1"},fs={class:"text-2xl font-bold text-foreground"},vs={class:"flex items-center"},_s={class:"shrink-0"},gs={class:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center"},xs={class:"ml-4 flex-1"},hs={class:"text-2xl font-bold text-foreground"},ps={class:"flex items-center justify-between"},bs={key:0},ws={class:"flex items-center justify-between"},ys={class:"flex items-center space-x-3"},ks={class:"text-sm text-muted-foreground"},$s={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Cs={class:"flex items-start justify-between"},Ls={class:"flex items-center space-x-3 flex-1"},Us={class:"flex-1 min-w-0"},Ts={class:"font-medium text-foreground truncate"},Ss={class:"text-xs text-muted-foreground truncate"},As={class:"flex items-center space-x-2 mt-1"},Ms={key:0,class:"text-xs text-muted-foreground"},js={class:"flex flex-col space-y-1 ml-2"},zs={class:"overflow-x-auto"},Ps={class:"flex items-center space-x-3"},Bs={class:"font-medium text-foreground"},Ns={class:"text-sm text-muted-foreground"},Es={key:0,class:"text-xs text-muted-foreground"},Vs={key:0,class:"flex items-center space-x-2"},Ds={class:"text-sm"},Fs={key:1,class:"flex items-center space-x-2"},Rs={key:0,class:"text-foreground"},Os={key:1,class:"text-muted-foreground italic"},qs={class:"flex items-center justify-end space-x-2"},Ws={key:1,class:"text-center py-12"},Is={class:"space-y-4"},Ks={class:"flex flex-col sm:flex-row gap-4"},Js={class:"flex-1 relative"},Qs={class:"flex items-center justify-between text-sm text-muted-foreground"},Xs={key:0,class:"ml-2 text-primary font-medium"},Ys={key:0,class:"text-xs"},Hs={class:"p-4 border-b flex items-center bg-muted/50"},Zs={class:"ml-3 text-sm font-medium"},Gs={class:"flex-1 overflow-y-auto"},el={class:"flex items-center space-x-3"},tl={class:"flex-1"},sl={class:"font-medium text-foreground"},ll={class:"text-sm text-muted-foreground"},al={class:"flex items-center space-x-4 mt-1"},ol={key:0,class:"text-xs text-muted-foreground"},rl={key:1,class:"text-xs text-muted-foreground"},nl={key:0,class:"p-8 text-center text-muted-foreground"},il={key:0,class:"p-4 border-t flex items-center justify-between"},ul={class:"flex space-x-1"},dl={key:0,class:"px-3 py-1 text-sm text-muted-foreground"},ml={key:0},Q=10,oa=ae({__name:"Show",props:{userLevel:Object,users:Array,availableUsers:Array,tiers:Array,stats:Object},setup(d){const h=d,p=x(!1),T=x(!1),b=x(!1),w=x(!1),g=x({type:"info",title:"",message:""}),y=x({title:"",message:"",action:null}),S=x({message:"Loading..."}),q=x(h.availableUsers),c=x([]),D=x(null),X=x(!1),N=x(""),A=x("all"),M=x("all"),U=x("all"),k=x(1),F=(n,l,s)=>{g.value={type:n,title:l,message:s},p.value=!0},oe=(n,l,s)=>{y.value={title:n,message:l,action:s},T.value=!0},Le=n=>c.value.includes(n),Ue=(n,l)=>{if(l)c.value.includes(n)||c.value.push(n);else{const s=c.value.indexOf(n);s>-1&&c.value.splice(s,1)}},Te=j(()=>[...new Set(q.value.map(l=>l.department).filter(Boolean))].sort()),Se=j(()=>[...new Set(q.value.map(l=>l.status).filter(Boolean))].sort()),Ae=j(()=>{var l,s;const n={};return(l=h.tiers)==null||l.forEach(f=>{n[f.id]={tier:f,users:[]}}),n.no_tier={tier:{id:null,tier_name:"No Tier Assigned",tier_order:999},users:[]},(s=h.users)==null||s.forEach(f=>{const _=f.user_level_tier_id||"no_tier";n[_]&&n[_].users.push(f)}),n}),W=j(()=>{let n=q.value;if(N.value){const l=N.value.toLowerCase();n=n.filter(s=>s.name.toLowerCase().includes(l)||s.email.toLowerCase().includes(l)||s.employee_code&&s.employee_code.toLowerCase().includes(l))}return A.value&&A.value!=="all"&&(n=n.filter(l=>l.department===A.value)),M.value&&M.value!=="all"&&(n=n.filter(l=>l.status===M.value)),U.value&&U.value!=="all"&&(U.value==="no_tier"?n=n.filter(l=>!l.user_level_tier_id):n=n.filter(l=>{var s;return((s=l.user_level_tier_id)==null?void 0:s.toString())===U.value})),n}),R=j(()=>{const n=(k.value-1)*Q,l=n+Q;return W.value.slice(n,l)}),I=j(()=>Math.ceil(W.value.length/Q)),Me=j(()=>(k.value-1)*Q+1),je=j(()=>Math.min(k.value*Q,W.value.length));le([N,A,M,U],()=>{k.value=1});const re=x(!1),ze=()=>{if(re.value)R.value.forEach(n=>{c.value.includes(n.id)||c.value.push(n.id)});else{const n=R.value.map(l=>l.id);c.value=c.value.filter(l=>!n.includes(l))}},Pe=j(()=>R.value.length>0&&R.value.every(n=>c.value.includes(n.id)));le([c,R],()=>{re.value=Pe.value},{deep:!0});const Be=()=>{N.value="",A.value="all",M.value="all",U.value="all",k.value=1},ve=(n,l)=>{oe("Remove User from Level",`Are you sure you want to remove "${l}" from the ${h.userLevel.name} level? This will unassign their current level and tier.`,()=>{b.value=!0,S.value.message="Removing user from level...",ue.post(route("admin.user-levels.remove-user"),{user_id:n},{preserveState:!0,onSuccess:()=>{b.value=!1,F("success","Success","User removed from level successfully!")},onError:s=>{b.value=!1,console.error("Remove failed:",s);const f=s.remove_user||"Failed to remove user from level. Please try again.";F("error","Error",f)}})})},_e=(n,l,s)=>{oe("Remove User from Tier",`Are you sure you want to remove "${l}" from the ${s}? They will remain in the ${h.userLevel.name} level but without a tier assignment.`,()=>{b.value=!0,S.value.message="Removing user from tier...",ue.post(route("admin.user-levels.assign-tier"),{user_id:n,user_level_tier_id:null},{preserveState:!0,onSuccess:()=>{b.value=!1,F("success","Success","User removed from tier successfully!")},onError:f=>{b.value=!1,console.error("Remove from tier failed:",f);const _=f.user_level_tier_id||"Failed to remove user from tier. Please try again.";F("error","Error",_)}})})},ge=()=>{q.value=h.availableUsers,w.value=!0,X.value=!1,N.value="",A.value="all",M.value="all",U.value="all",c.value=[],D.value=null,k.value=1},xe=()=>{w.value=!1,c.value=[],N.value="",A.value="all",M.value="all",U.value="all",D.value=null,X.value=!1,k.value=1},Ne=()=>{if(c.value.length===0){F("warning","No Selection","Please select at least one user to assign.");return}const n=X.value&&D.value?`assign ${c.value.length} user(s) to the ${h.userLevel.name} level with tier assignment`:`assign ${c.value.length} user(s) to the ${h.userLevel.name} level`;oe("Assign Users to Level",`Are you sure you want to ${n}?`,()=>{b.value=!0,S.value.message="Assigning users to level...";const l={user_ids:c.value,user_level_id:h.userLevel.id};X.value&&D.value&&(l.user_level_tier_id=D.value),ue.post(route("admin.user-levels.bulk-assign"),l,{preserveState:!0,onSuccess:()=>{b.value=!1,F("success","Success","Users assigned successfully!"),xe()},onError:s=>{b.value=!1,console.error("Assign failed:",s);const f=s.bulk_assign||"Failed to assign users. Please try again.";F("error","Error",f)}})})},Ee=()=>{T.value=!1,y.value.action&&y.value.action()},Ve=()=>{p.value=!1},De=()=>{T.value=!1},he=n=>({L1:{bg:"bg-blue-100",text:"text-blue-600",variant:"secondary"},L2:{bg:"bg-green-100",text:"text-green-600",variant:"secondary"},L3:{bg:"bg-orange-100",text:"text-orange-600",variant:"outline"},L4:{bg:"bg-red-100",text:"text-red-600",variant:"destructive"}})[n]||{bg:"bg-gray-100",text:"text-gray-600",variant:"secondary"},ne=n=>{switch(n){case"active":return"default";case"inactive":return"destructive";case"on_leave":return"secondary";default:return"outline"}},ie=n=>{switch(n){case 1:return"default";case 2:return"secondary";case 3:return"outline";default:return"secondary"}},Fe=[{name:"Dashboard",href:route("dashboard")},{name:"User Levels",href:route("admin.user-levels.index")},{name:h.userLevel.name,href:route("admin.user-levels.show",h.userLevel.id)}];return(n,l)=>(i(),$(Oe,{breadcrumbs:Fe},{default:o(()=>[a("div",Vt,[t(e(B),null,{default:o(()=>[t(e(E),{class:"p-6"},{default:o(()=>[a("div",Dt,[a("div",Ft,[t(e(Z),{class:"h-16 w-16"},{default:o(()=>[t(e(G),{class:V([[he(d.userLevel.code).bg,he(d.userLevel.code).text],"text-xl font-bold"])},{default:o(()=>[u(r(d.userLevel.code),1)]),_:1},8,["class"])]),_:1}),a("div",null,[a("h1",Rt,r(d.userLevel.name),1),a("p",Ot,r(d.userLevel.description),1),a("div",qt,[t(e(L),{variant:"outline"},{default:o(()=>[u("Code: "+r(d.userLevel.code),1)]),_:1}),t(e(L),{variant:"outline"},{default:o(()=>[u("Level "+r(d.userLevel.hierarchy_level),1)]),_:1}),d.userLevel.is_management_level?(i(),$(e(L),{key:0,variant:"secondary"},{default:o(()=>[t(e(ke),{class:"mr-1 h-3 w-3"}),l[7]||(l[7]=u(" Management Level "))]),_:1})):v("",!0),d.tiers&&d.tiers.length>0?(i(),$(e(L),{key:1,variant:"outline",class:"bg-purple-50"},{default:o(()=>[t(e(ee),{class:"mr-1 h-3 w-3"}),u(" "+r(d.tiers.length)+" Performance Tiers ",1)]),_:1})):v("",!0)])])]),a("div",Wt,[t(e(C),{as:e(H),href:n.route("admin.user-level-tiers.index",d.userLevel.id),variant:"outline",class:"border-purple-200 hover:bg-purple-50"},{default:o(()=>{var s;return[t(e(ee),{class:"mr-2 h-4 w-4 text-purple-600"}),u(" Manage Tiers ("+r(((s=d.stats)==null?void 0:s.total_tiers)||0)+") ",1)]}),_:1},8,["as","href"]),t(e(C),{as:e(H),href:n.route("admin.user-levels.edit",d.userLevel.id),variant:"outline"},{default:o(()=>[t(e(nt),{class:"mr-2 h-4 w-4"}),l[8]||(l[8]=u(" Edit Level "))]),_:1},8,["as","href"]),t(e(C),{onClick:ge},{default:o(()=>[t(e(te),{class:"mr-2 h-4 w-4"}),l[9]||(l[9]=u(" Assign Users "))]),_:1})])]),d.userLevel.manageable_levels&&d.userLevel.manageable_levels.length>0?(i(),m("div",It,[l[10]||(l[10]=a("div",{class:"text-sm font-medium text-foreground mb-2"},"Can Manage:",-1)),a("div",Kt,[(i(!0),m(z,null,P(d.userLevel.manageable_levels,s=>(i(),$(e(L),{key:s.code,variant:"outline"},{default:o(()=>[u(r(s.code)+" - "+r(s.name),1)]),_:2},1024))),128))])])):v("",!0)]),_:1})]),_:1}),a("div",Jt,[t(e(B),null,{default:o(()=>[t(e(E),{class:"p-6"},{default:o(()=>[a("div",Qt,[a("div",Xt,[a("div",Yt,[t(e(Y),{class:"h-5 w-5 text-primary-foreground"})])]),a("div",Ht,[l[11]||(l[11]=a("div",{class:"text-sm font-medium text-muted-foreground"},"Total Users",-1)),a("div",Zt,r(d.users.length),1)])])]),_:1})]),_:1}),t(e(B),null,{default:o(()=>[t(e(E),{class:"p-6"},{default:o(()=>[a("div",Gt,[a("div",es,[a("div",ts,[t(e(Ye),{class:"h-5 w-5 text-white"})])]),a("div",ss,[l[12]||(l[12]=a("div",{class:"text-sm font-medium text-muted-foreground"},"Active Users",-1)),a("div",ls,r(d.users.filter(s=>s.status==="active").length),1)])])]),_:1})]),_:1}),t(e(B),null,{default:o(()=>[t(e(E),{class:"p-6"},{default:o(()=>[a("div",as,[a("div",os,[a("div",rs,[t(e(He),{class:"h-5 w-5 text-white"})])]),a("div",ns,[l[13]||(l[13]=a("div",{class:"text-sm font-medium text-muted-foreground"},"With Departments",-1)),a("div",is,r(d.users.filter(s=>s.department).length),1)])])]),_:1})]),_:1}),t(e(B),null,{default:o(()=>[t(e(E),{class:"p-6"},{default:o(()=>[a("div",us,[a("div",ds,[a("div",ms,[t(e(ee),{class:"h-5 w-5 text-white"})])]),a("div",cs,[l[14]||(l[14]=a("div",{class:"text-sm font-medium text-muted-foreground"},"With Tiers",-1)),a("div",fs,r(d.users.filter(s=>s.user_level_tier_id).length),1)])])]),_:1})]),_:1}),t(e(B),null,{default:o(()=>[t(e(E),{class:"p-6"},{default:o(()=>[a("div",vs,[a("div",_s,[a("div",gs,[t(e(ke),{class:"h-5 w-5 text-white"})])]),a("div",xs,[l[15]||(l[15]=a("div",{class:"text-sm font-medium text-muted-foreground"},"Manager Roles",-1)),a("div",hs,r(d.users.filter(s=>s.manager_roles_count>0).length),1)])])]),_:1})]),_:1})]),t(e(B),null,{default:o(()=>[t(e(Ie),null,{default:o(()=>[a("div",ps,[a("div",null,[t(e(Ke),{class:"flex items-center"},{default:o(()=>[t(e(Y),{class:"mr-2 h-5 w-5"}),u(" Users with "+r(d.userLevel.name)+" Level ",1)]),_:1}),t(e(We),null,{default:o(()=>l[16]||(l[16]=[u("Manage users assigned to this organizational level and their performance tiers")])),_:1})])])]),_:1}),t(e(E),null,{default:o(()=>[d.users&&d.users.length>0?(i(),$(e(ot),{key:0,"default-value":"by_tier",class:"w-full"},{default:o(()=>[t(e(rt),{class:"grid w-full grid-cols-2"},{default:o(()=>[t(e(we),{value:"by_tier",class:"flex items-center"},{default:o(()=>[t(e(ee),{class:"mr-2 h-4 w-4"}),l[17]||(l[17]=u(" By Performance Tier "))]),_:1}),t(e(we),{value:"all_users",class:"flex items-center"},{default:o(()=>[t(e(Y),{class:"mr-2 h-4 w-4"}),l[18]||(l[18]=u(" All Users "))]),_:1})]),_:1}),t(e(ye),{value:"by_tier",class:"space-y-6"},{default:o(()=>[(i(!0),m(z,null,P(Ae.value,(s,f)=>(i(),m("div",{key:f,class:"space-y-3"},[s.users.length>0?(i(),m("div",bs,[a("div",ws,[a("div",ys,[s.tier.id?(i(),$(e(L),{key:0,variant:ie(s.tier.tier_order),class:"text-sm"},{default:o(()=>[u(" T"+r(s.tier.tier_order)+" - "+r(s.tier.tier_name),1)]),_:2},1032,["variant"])):(i(),$(e(L),{key:1,variant:"outline",class:"text-sm border-dashed"},{default:o(()=>[t(e(se),{class:"mr-1 h-3 w-3"}),u(" "+r(s.tier.tier_name),1)]),_:2},1024)),a("span",ks,r(s.users.length)+" users",1)])]),a("div",$s,[(i(!0),m(z,null,P(s.users,_=>(i(),$(e(B),{key:_.id,class:"hover:shadow-md transition-shadow duration-200"},{default:o(()=>[t(e(E),{class:"p-4"},{default:o(()=>[a("div",Cs,[a("div",Ls,[t(e(Z),{class:"h-8 w-8"},{default:o(()=>[t(e(G),{class:"bg-muted text-muted-foreground text-xs"},{default:o(()=>[u(r(_.name.charAt(0).toUpperCase()),1)]),_:2},1024)]),_:2},1024),a("div",Us,[a("div",Ts,r(_.name),1),a("div",Ss,r(_.email),1),a("div",As,[t(e(L),{variant:ne(_.status),class:"text-xs"},{default:o(()=>[u(r(_.status),1)]),_:2},1032,["variant"]),_.department?(i(),m("span",Ms,r(_.department),1)):v("",!0)])])]),a("div",js,[t(e(C),{as:e(H),href:n.route("admin.users.organizational",_.id),variant:"ghost",size:"sm",class:"h-7 w-7 p-0"},{default:o(()=>[t(e($e),{class:"h-3 w-3"})]),_:2},1032,["as","href"]),_.user_level_tier_id?(i(),$(e(C),{key:0,onClick:Re=>_e(_.id,_.name,s.tier.tier_name),variant:"ghost",size:"sm",class:"h-7 w-7 p-0 text-orange-600 hover:text-orange-600 hover:bg-orange-50"},{default:o(()=>[t(e(se),{class:"h-3 w-3"})]),_:2},1032,["onClick"])):v("",!0),t(e(C),{onClick:Re=>ve(_.id,_.name),variant:"ghost",size:"sm",class:"h-7 w-7 p-0 text-destructive hover:text-destructive hover:bg-destructive/10"},{default:o(()=>[t(e(Ce),{class:"h-3 w-3"})]),_:2},1032,["onClick"])])])]),_:2},1024)]),_:2},1024))),128))])])):v("",!0)]))),128))]),_:1}),t(e(ye),{value:"all_users"},{default:o(()=>[a("div",zs,[t(e(Je),null,{default:o(()=>[t(e(Qe),null,{default:o(()=>[t(e(pe),null,{default:o(()=>[t(e(K),null,{default:o(()=>l[19]||(l[19]=[u("User")])),_:1}),t(e(K),null,{default:o(()=>l[20]||(l[20]=[u("Performance Tier")])),_:1}),t(e(K),null,{default:o(()=>l[21]||(l[21]=[u("Department")])),_:1}),t(e(K),null,{default:o(()=>l[22]||(l[22]=[u("Status")])),_:1}),t(e(K),null,{default:o(()=>l[23]||(l[23]=[u("Joined")])),_:1}),t(e(K),{class:"text-right"},{default:o(()=>l[24]||(l[24]=[u("Actions")])),_:1})]),_:1})]),_:1}),t(e(Xe),null,{default:o(()=>[(i(!0),m(z,null,P(d.users,s=>(i(),$(e(pe),{key:s.id,class:"hover:bg-muted/50"},{default:o(()=>[t(e(J),null,{default:o(()=>[a("div",Ps,[t(e(Z),null,{default:o(()=>[t(e(G),{class:"bg-muted text-muted-foreground"},{default:o(()=>[u(r(s.name.charAt(0).toUpperCase()),1)]),_:2},1024)]),_:2},1024),a("div",null,[a("div",Bs,r(s.name),1),a("div",Ns,r(s.email),1),s.employee_code?(i(),m("div",Es,"ID: "+r(s.employee_code),1)):v("",!0)])])]),_:2},1024),t(e(J),null,{default:o(()=>[s.user_level_tier?(i(),m("div",Vs,[t(e(L),{variant:ie(s.user_level_tier.tier_order),class:"text-xs"},{default:o(()=>[u(" T"+r(s.user_level_tier.tier_order),1)]),_:2},1032,["variant"]),a("span",Ds,r(s.user_level_tier.tier_name),1)])):(i(),m("div",Fs,[t(e(L),{variant:"outline",class:"text-xs border-dashed"},{default:o(()=>[t(e(se),{class:"mr-1 h-2 w-2"}),l[25]||(l[25]=u(" No Tier "))]),_:1})]))]),_:2},1024),t(e(J),null,{default:o(()=>[s.department?(i(),m("div",Rs,r(s.department),1)):(i(),m("div",Os,"No department assigned"))]),_:2},1024),t(e(J),null,{default:o(()=>[t(e(L),{variant:ne(s.status)},{default:o(()=>[u(r(s.status),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(J),{class:"text-muted-foreground"},{default:o(()=>[u(r(s.created_at||"N/A"),1)]),_:2},1024),t(e(J),{class:"text-right"},{default:o(()=>[a("div",qs,[t(e(C),{as:e(H),href:n.route("admin.users.organizational",s.id),variant:"ghost",size:"sm"},{default:o(()=>[t(e($e),{class:"h-4 w-4"})]),_:2},1032,["as","href"]),s.user_level_tier_id?(i(),$(e(C),{key:0,onClick:f=>_e(s.id,s.name,s.user_level_tier.tier_name),variant:"ghost",size:"sm",class:"text-orange-600 hover:text-orange-600 hover:bg-orange-50"},{default:o(()=>[t(e(se),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):v("",!0),t(e(C),{onClick:f=>ve(s.id,s.name),variant:"ghost",size:"sm",class:"text-destructive hover:text-destructive hover:bg-destructive/10"},{default:o(()=>[t(e(Ce),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})]),_:1})):v("",!0),!d.users||d.users.length===0?(i(),m("div",Ws,[t(e(Y),{class:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),l[27]||(l[27]=a("h3",{class:"text-lg font-medium text-foreground mb-2"},"No users assigned",-1)),l[28]||(l[28]=a("p",{class:"text-sm text-muted-foreground mb-6"},"Start by assigning users to this level.",-1)),t(e(C),{onClick:ge},{default:o(()=>[t(e(te),{class:"mr-2 h-4 w-4"}),l[26]||(l[26]=u(" Assign Users "))]),_:1})])):v("",!0)]),_:1})]),_:1})]),t(e(Ge),{open:w.value,"onUpdate:open":l[6]||(l[6]=s=>w.value=s)},{default:o(()=>[t(e(et),{class:"max-w-5xl max-h-[90vh] overflow-hidden"},{default:o(()=>[t(e(tt),null,{default:o(()=>[t(e(st),{class:"flex items-center"},{default:o(()=>[t(e(te),{class:"mr-2 h-5 w-5"}),u(" Assign Users to "+r(d.userLevel.name)+" Level ",1)]),_:1}),t(e(lt),null,{default:o(()=>l[29]||(l[29]=[u(" Select users to assign to this organizational level with optional performance tier assignment ")])),_:1})]),_:1}),a("div",Is,[a("div",Ks,[a("div",Js,[t(e(ut),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t(e(qe),{modelValue:N.value,"onUpdate:modelValue":l[0]||(l[0]=s=>N.value=s),placeholder:"Search by name, email, or employee ID...",class:"pl-10"},null,8,["modelValue"])]),t(e(de),{"model-value":A.value,"onUpdate:modelValue":l[1]||(l[1]=s=>A.value=s)},{default:o(()=>[t(e(me),{class:"w-48"},{default:o(()=>[t(e(ce),{placeholder:"All Departments"})]),_:1}),t(e(fe),null,{default:o(()=>[t(e(O),{value:"all"},{default:o(()=>l[30]||(l[30]=[u("All Departments")])),_:1}),(i(!0),m(z,null,P(Te.value,s=>(i(),$(e(O),{key:s,value:s},{default:o(()=>[u(r(s),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"]),t(e(de),{"model-value":M.value,"onUpdate:modelValue":l[2]||(l[2]=s=>M.value=s)},{default:o(()=>[t(e(me),{class:"w-32"},{default:o(()=>[t(e(ce),{placeholder:"All Status"})]),_:1}),t(e(fe),null,{default:o(()=>[t(e(O),{value:"all"},{default:o(()=>l[31]||(l[31]=[u("All Status")])),_:1}),(i(!0),m(z,null,P(Se.value,s=>(i(),$(e(O),{key:s,value:s},{default:o(()=>[u(r(s),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"]),t(e(de),{"model-value":U.value,"onUpdate:modelValue":l[3]||(l[3]=s=>U.value=s)},{default:o(()=>[t(e(me),{class:"w-40"},{default:o(()=>[t(e(ce),{placeholder:"All Tiers"})]),_:1}),t(e(fe),null,{default:o(()=>[t(e(O),{value:"all"},{default:o(()=>l[32]||(l[32]=[u("All Tiers")])),_:1}),t(e(O),{value:"no_tier"},{default:o(()=>l[33]||(l[33]=[u("No Tier")])),_:1}),(i(!0),m(z,null,P(d.tiers,s=>(i(),$(e(O),{key:s.id,value:s.id.toString()},{default:o(()=>[u(" T"+r(s.tier_order)+" - "+r(s.tier_name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"]),t(e(C),{onClick:Be,variant:"outline"},{default:o(()=>[t(e(it),{class:"mr-2 h-4 w-4"}),l[34]||(l[34]=u(" Clear "))]),_:1})]),a("div",Qs,[a("div",null,[u(" Showing "+r(Me.value)+" - "+r(je.value)+" of "+r(W.value.length)+" users ",1),c.value.length>0?(i(),m("span",Xs," ("+r(c.value.length)+" selected) ",1)):v("",!0)]),W.value.length>Q?(i(),m("div",Ys," Page "+r(k.value)+" of "+r(I.value),1)):v("",!0)]),t(e(B),{class:"h-96"},{default:o(()=>[a("div",Hs,[t(e(be),{checked:re.value,"onUpdate:checked":ze},null,8,["checked"]),a("span",Zs," Select all on this page ("+r(R.value.length)+" users) ",1)]),a("div",Gs,[(i(!0),m(z,null,P(R.value,s=>(i(),m("div",{key:s.id,class:"p-4 border-b hover:bg-muted/50"},[a("div",el,[t(e(be),{checked:Le(s.id),"onUpdate:checked":f=>Ue(s.id,f)},null,8,["checked","onUpdate:checked"]),t(e(Z),{class:"h-8 w-8"},{default:o(()=>[t(e(G),{class:"bg-muted text-muted-foreground text-xs"},{default:o(()=>[u(r(s.name.charAt(0).toUpperCase()),1)]),_:2},1024)]),_:2},1024),a("div",tl,[a("div",sl,r(s.name),1),a("div",ll,r(s.email),1),a("div",al,[s.employee_code?(i(),m("span",ol,"ID: "+r(s.employee_code),1)):v("",!0),s.department?(i(),m("span",rl,r(s.department),1)):v("",!0),t(e(L),{variant:ne(s.status),class:"text-xs"},{default:o(()=>[u(r(s.status),1)]),_:2},1032,["variant"]),s.user_level_tier?(i(),$(e(L),{key:2,variant:ie(s.user_level_tier.tier_order),class:"text-xs"},{default:o(()=>[u(" T"+r(s.user_level_tier.tier_order)+" - "+r(s.user_level_tier.tier_name),1)]),_:2},1032,["variant"])):v("",!0)])])])]))),128)),W.value.length===0?(i(),m("div",nl,[t(e(Y),{class:"mx-auto h-12 w-12 mb-4"}),l[35]||(l[35]=a("h3",{class:"text-lg font-medium text-foreground mb-2"},"No users found",-1)),l[36]||(l[36]=a("p",{class:"text-sm"},"Try adjusting your search or filters.",-1))])):v("",!0)]),I.value>1?(i(),m("div",il,[t(e(C),{onClick:l[4]||(l[4]=s=>k.value=Math.max(1,k.value-1)),disabled:k.value===1,variant:"outline",size:"sm"},{default:o(()=>[t(e(dt),{class:"h-4 w-4"}),l[37]||(l[37]=u(" Previous "))]),_:1},8,["disabled"]),a("div",ul,[(i(!0),m(z,null,P(Math.min(I.value,5),s=>(i(),$(e(C),{key:s,onClick:f=>k.value=s,variant:k.value===s?"default":"outline",size:"sm"},{default:o(()=>[u(r(s),1)]),_:2},1032,["onClick","variant"]))),128)),I.value>5?(i(),m("span",dl,"...")):v("",!0)]),t(e(C),{onClick:l[5]||(l[5]=s=>k.value=Math.min(I.value,k.value+1)),disabled:k.value===I.value,variant:"outline",size:"sm"},{default:o(()=>[l[38]||(l[38]=u(" Next ")),t(e(Ze),{class:"h-4 w-4"})]),_:1},8,["disabled"])])):v("",!0)]),_:1})]),t(e(at),null,{default:o(()=>[t(e(C),{onClick:xe,variant:"outline"},{default:o(()=>l[39]||(l[39]=[u("Cancel")])),_:1}),t(e(C),{onClick:Ne,disabled:c.value.length===0},{default:o(()=>{var s,f;return[t(e(te),{class:"mr-2 h-4 w-4"}),u(" Assign "+r(c.value.length)+" User"+r(c.value.length!==1?"s":"")+" ",1),X.value&&D.value?(i(),m("span",ml," to Tier "+r((f=(s=d.tiers)==null?void 0:s.find(_=>_.id===D.value))==null?void 0:f.tier_order),1)):v("",!0)]}),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),t(pt,{show:p.value,type:g.value.type,title:g.value.title,message:g.value.message,"auto-close":g.value.type==="success",duration:4e3,onClose:Ve},null,8,["show","type","title","message","auto-close"]),t(Mt,{show:T.value,title:y.value.title,message:y.value.message,"confirm-text":"Yes, Continue","cancel-text":"Cancel",type:"warning",onConfirm:Ee,onCancel:De},null,8,["show","title","message"]),t(Et,{show:b.value,message:S.value.message},null,8,["show","message"])]),_:1}))}});export{oa as default};
