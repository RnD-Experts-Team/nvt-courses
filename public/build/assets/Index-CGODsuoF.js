import{d as Q,c as X,a as f,o as i,b as t,u as e,m as Z,w as s,e as o,g,h as v,f as d,P as V,t as n,F as C,i as T,y as ee,k as A,n as te,W as y}from"./app-De5aCyOy.js";import{g as re,h as se,i as oe,j as ae,k as h,l as P,f as le}from"./AppLayout.vue_vue_type_script_setup_true_lang-DrTEAkGA.js";import{_ as $}from"./Button.vue_vue_type_script_setup_true_lang-C1ptny9S.js";import{_}from"./Card.vue_vue_type_script_setup_true_lang-D592-r3Y.js";import{_ as x}from"./CardContent.vue_vue_type_script_setup_true_lang-BnfRKYb9.js";import{_ as D}from"./CardDescription.vue_vue_type_script_setup_true_lang-7y99tksC.js";import{_ as M}from"./CardHeader.vue_vue_type_script_setup_true_lang-B9pSfhlq.js";import{_ as z}from"./CardTitle.vue_vue_type_script_setup_true_lang-C3o6pLjC.js";import{_ as k}from"./index-CNloWqrH.js";import{_ as de,a as ne,b as S,c as m,d as ie,e as u}from"./TableHeader.vue_vue_type_script_setup_true_lang-CiatGxJJ.js";import{S as w}from"./square-play-Dd3oIFkj.js";import{P as L}from"./plus-BEctqVRE.js";import{P as ue}from"./play-CqouLqeA.js";import{U as N,_ as ce}from"./_plugin-vue_export-helper-DsuA5ZjC.js";import{C as fe}from"./circle-check-big-BYC-wlwA.js";import{T as B}from"./trending-up-C922m79C.js";import{H as E,C as ge}from"./hard-drive-BAYaPdCq.js";import{F as me}from"./folder-open-D5fTPG2s.js";import{C as pe}from"./clock-BXDw5ZYb.js";import{E as _e}from"./ellipsis-CJI811EO.js";import{C as xe}from"./chart-column-CQTiunbh.js";import{S as be}from"./square-pen-C_ROzota.js";import{T as ve,a as ke}from"./toggle-right-BHUq-Tq8.js";import{T as ye}from"./trash-2-cH28u5cA.js";import{C as F}from"./circle-PDixcOb7.js";import{C as he}from"./circle-alert-Ld7mL4Bp.js";import{L as we}from"./loader-circle-DgBH8UyT.js";import{C as Ce}from"./circle-check-G9g1htuY.js";import"./index-D3npKzxP.js";import"./index-shR_F4Lk.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-UOeKMcHs.js";const $e={class:"space-y-6 bg-background text-foreground"},Se={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},Ve={class:"text-2xl font-bold flex items-center gap-2 text-foreground"},Te={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},Ae={class:"flex items-center gap-3"},Pe={class:"p-2 bg-blue-500 dark:bg-blue-600 rounded-lg"},De={class:"text-2xl font-bold text-blue-900 dark:text-blue-100"},Me={class:"flex items-center gap-3"},ze={class:"p-2 bg-green-500 dark:bg-green-600 rounded-lg"},Le={class:"text-2xl font-bold text-green-900 dark:text-green-100"},Ne={class:"flex items-center gap-3"},Be={class:"p-2 bg-purple-500 dark:bg-purple-600 rounded-lg"},Ee={class:"text-2xl font-bold text-purple-900 dark:text-purple-100"},Fe={class:"flex items-center gap-3"},Ie={class:"p-2 bg-orange-500 dark:bg-orange-600 rounded-lg"},je={class:"text-2xl font-bold text-orange-900 dark:text-orange-100"},qe={class:"flex items-center gap-3"},Ue={class:"p-2 bg-teal-500 dark:bg-teal-600 rounded-lg"},Ge={class:"text-2xl font-bold text-teal-900 dark:text-teal-100"},He={class:"grid grid-cols-3 gap-6"},We={class:"text-3xl font-bold text-foreground"},Oe={class:"text-3xl font-bold text-foreground"},Re={class:"text-xs text-muted-foreground"},Ye={class:"text-3xl font-bold text-foreground"},Je={class:"flex items-center gap-3"},Ke={class:"relative w-16 h-16 rounded-lg overflow-hidden bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-950/50 dark:to-purple-950/50 flex items-center justify-center shrink-0 border border-muted"},Qe=["src","alt"],Xe={class:"min-w-0 flex-1"},Ze={class:"font-semibold truncate text-base text-foreground"},et={class:"text-sm text-muted-foreground truncate max-w-xs"},tt={class:"text-xs text-muted-foreground mt-1 flex items-center gap-1"},rt={key:0,class:"text-xs text-muted-foreground mt-1"},st={key:0,class:"space-y-1"},ot={key:0,class:"flex flex-wrap gap-1 mt-1"},at={key:1,class:"text-xs text-muted-foreground"},lt={key:1,class:"text-muted-foreground text-sm"},dt={class:"flex items-center gap-1 text-sm text-foreground"},nt={class:"space-y-1"},it={class:"flex items-center gap-2 text-sm text-foreground"},ut={class:"flex items-center gap-2 text-sm"},ct=Q({__name:"Index",props:{videos:{},categories:{},storageStats:{}},setup(I){const p=I,j=[{title:"Video Management",href:"/admin/videos"}],b=X(()=>({total:p.videos.length,active:p.videos.filter(l=>l.is_active).length,totalViewers:p.videos.reduce((l,r)=>l+r.total_viewers,0),completed:p.videos.reduce((l,r)=>l+r.completed_viewers,0),avgCompletion:p.videos.length>0?Math.round(p.videos.reduce((l,r)=>l+r.avg_completion,0)/p.videos.length):0}));function q(l){y.visit(`/admin/videos/${l.id}`)}function U(l){y.visit(`/admin/videos/${l.id}/edit`)}function G(l){y.post(`/admin/videos/${l.id}/toggle-active`,{},{preserveScroll:!0,onSuccess:()=>{console.log(`Video ${l.is_active?"deactivated":"activated"} successfully`)}})}function H(l){confirm(`Are you sure you want to delete "${l.name}"? This action cannot be undone.`)&&y.delete(`/admin/videos/${l.id}`,{onSuccess:()=>{console.log("Video deleted successfully")}})}function W(l){return l?"default":"secondary"}function O(l){return l>=80?"text-green-600":l>=60?"text-yellow-600":"text-red-600"}function R(l){const r=l.target;r.style.display="none";const a=r.parentElement;if(a){const c=a.querySelector(".fallback-icon");c&&(c.style.display="flex")}}function Y(l){switch(l){case"completed":return"default";case"processing":return"secondary";case"failed":return"destructive";case"pending":return"outline";default:return"outline"}}function J(l){switch(l){case"completed":return Ce;case"processing":return we;case"failed":return he;case"pending":return F;default:return F}}function K(l){switch(l){case"completed":return"Completed";case"processing":return"Processing";case"failed":return"Failed";case"pending":return"Pending";case"skipped":return"Skipped";default:return"Unknown"}}return(l,r)=>(i(),f(C,null,[t(e(Z),{title:"Video Management"}),t(le,{breadcrumbs:j},{default:s(()=>[o("div",$e,[o("div",Se,[o("div",null,[o("h1",Ve,[t(e(w),{class:"h-7 w-7 text-blue-600 dark:text-blue-500"}),r[0]||(r[0]=d(" Video Management "))]),r[1]||(r[1]=o("p",{class:"text-muted-foreground"},"Manage your video courses and track performance",-1))]),t(e($),{"as-child":"",size:"default",class:"bg-primary text-primary-foreground hover:bg-primary/90"},{default:s(()=>[t(e(V),{href:"/admin/videos/create"},{default:s(()=>[t(e(L),{class:"h-4 w-4 mr-2"}),r[2]||(r[2]=d(" Add Video Course "))]),_:1})]),_:1})]),o("div",Te,[t(e(_),{class:"border-0 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50 border border-blue-200/50 dark:border-blue-800/50"},{default:s(()=>[t(e(x),{class:"p-4"},{default:s(()=>[o("div",Ae,[o("div",Pe,[t(e(w),{class:"h-6 w-6 text-white"})]),o("div",null,[o("div",De,n(b.value.total),1),r[3]||(r[3]=o("div",{class:"text-sm text-blue-700 dark:text-blue-300"},"Total Videos",-1))])])]),_:1})]),_:1}),t(e(_),{class:"border-0 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50 border border-green-200/50 dark:border-green-800/50"},{default:s(()=>[t(e(x),{class:"p-4"},{default:s(()=>[o("div",Me,[o("div",ze,[t(e(ue),{class:"h-6 w-6 text-white"})]),o("div",null,[o("div",Le,n(b.value.active),1),r[4]||(r[4]=o("div",{class:"text-sm text-green-700 dark:text-green-300"},"Active",-1))])])]),_:1})]),_:1}),t(e(_),{class:"border-0 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50 border border-purple-200/50 dark:border-purple-800/50"},{default:s(()=>[t(e(x),{class:"p-4"},{default:s(()=>[o("div",Ne,[o("div",Be,[t(e(N),{class:"h-6 w-6 text-white"})]),o("div",null,[o("div",Ee,n(b.value.totalViewers),1),r[5]||(r[5]=o("div",{class:"text-sm text-purple-700 dark:text-purple-300"},"Total Viewers",-1))])])]),_:1})]),_:1}),t(e(_),{class:"border-0 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950/50 dark:to-orange-900/50 border border-orange-200/50 dark:border-orange-800/50"},{default:s(()=>[t(e(x),{class:"p-4"},{default:s(()=>[o("div",Fe,[o("div",Ie,[t(e(fe),{class:"h-6 w-6 text-white"})]),o("div",null,[o("div",je,n(b.value.completed),1),r[6]||(r[6]=o("div",{class:"text-sm text-orange-700 dark:text-orange-300"},"Completed",-1))])])]),_:1})]),_:1}),t(e(_),{class:"border-0 bg-gradient-to-br from-teal-50 to-teal-100 dark:from-teal-950/50 dark:to-teal-900/50 border border-teal-200/50 dark:border-teal-800/50"},{default:s(()=>[t(e(x),{class:"p-4"},{default:s(()=>[o("div",qe,[o("div",Ue,[t(e(B),{class:"h-6 w-6 text-white"})]),o("div",null,[o("div",Ge,n(b.value.avgCompletion)+"% ",1),r[7]||(r[7]=o("div",{class:"text-sm text-teal-700 dark:text-teal-300"},"Avg Progress",-1))])])]),_:1})]),_:1})]),l.storageStats?(i(),g(e(_),{key:0,class:"bg-card border-border"},{default:s(()=>[t(e(M),{class:"bg-card text-card-foreground"},{default:s(()=>[t(e(z),{class:"text-xl flex items-center gap-2"},{default:s(()=>[t(e(E),{class:"h-5 w-5"}),r[8]||(r[8]=d(" Local Storage Statistics "))]),_:1}),t(e(D),{class:"text-muted-foreground"},{default:s(()=>r[9]||(r[9]=[d(" Monitor your local video storage usage ")])),_:1})]),_:1}),t(e(x),null,{default:s(()=>[o("div",He,[o("div",null,[r[10]||(r[10]=o("p",{class:"text-sm text-muted-foreground mb-1"},"Total Files",-1)),o("p",We,n(l.storageStats.total_files),1)]),o("div",null,[r[11]||(r[11]=o("p",{class:"text-sm text-muted-foreground mb-1"},"Storage Used",-1)),o("p",Oe,n(l.storageStats.total_size_mb)+" MB",1),o("p",Re,"("+n(l.storageStats.total_size_gb)+" GB)",1)]),o("div",null,[r[12]||(r[12]=o("p",{class:"text-sm text-muted-foreground mb-1"},"Storage Disk",-1)),o("p",Ye,n(l.storageStats.disk),1)])])]),_:1})]),_:1})):v("",!0),t(e(_),{class:"bg-card border-border"},{default:s(()=>[t(e(M),{class:"bg-card text-card-foreground"},{default:s(()=>[t(e(z),{class:"text-xl"},{default:s(()=>r[13]||(r[13]=[d("Video Courses")])),_:1}),t(e(D),{class:"text-muted-foreground"},{default:s(()=>r[14]||(r[14]=[d(" Manage your video courses and track their performance ")])),_:1})]),_:1}),t(e(x),{class:"p-0"},{default:s(()=>[t(e(de),null,{default:s(()=>[t(e(ne),null,{default:s(()=>[t(e(S),{class:"border-border"},{default:s(()=>[t(e(m),{class:"text-foreground"},{default:s(()=>r[15]||(r[15]=[d("Video")])),_:1}),t(e(m),{class:"text-foreground"},{default:s(()=>r[16]||(r[16]=[d("Storage")])),_:1}),t(e(m),{class:"text-foreground"},{default:s(()=>r[17]||(r[17]=[d("Transcoding")])),_:1}),t(e(m),{class:"text-foreground"},{default:s(()=>r[18]||(r[18]=[d("Category")])),_:1}),t(e(m),{class:"text-foreground"},{default:s(()=>r[19]||(r[19]=[d("Duration")])),_:1}),t(e(m),{class:"text-foreground"},{default:s(()=>r[20]||(r[20]=[d("Status")])),_:1}),t(e(m),{class:"text-foreground"},{default:s(()=>r[21]||(r[21]=[d("Analytics")])),_:1}),t(e(m),{class:"text-foreground"},{default:s(()=>r[22]||(r[22]=[d("Created")])),_:1}),t(e(m),{class:"text-right text-foreground"},{default:s(()=>r[23]||(r[23]=[d("Actions")])),_:1})]),_:1})]),_:1}),t(e(ie),null,{default:s(()=>[(i(!0),f(C,null,T(l.videos,a=>(i(),g(e(S),{key:a.id,class:"hover:bg-accent/50 border-border text-card-foreground"},{default:s(()=>[t(e(u),null,{default:s(()=>[o("div",Je,[o("div",Ke,[a.thumbnail_url?(i(),f("img",{key:0,src:a.thumbnail_url,alt:a.name,class:"w-full h-full object-cover",onError:R},null,40,Qe)):v("",!0),t(e(w),{class:"fallback-icon h-8 w-8 text-blue-500 dark:text-blue-400",style:ee({display:a.thumbnail_url?"none":"flex"})},null,8,["style"])]),o("div",Xe,[o("div",Ze,n(a.name),1),o("div",et,n(a.description||"No description"),1),o("div",tt,[o("span",null,"by "+n(a.creator.name),1)])])])]),_:2},1024),t(e(u),null,{default:s(()=>[t(e(k),{variant:a.storage_type==="google_drive"?"secondary":"default",class:"gap-1 bg-background border-border text-foreground"},{default:s(()=>[a.storage_type==="google_drive"?(i(),g(e(ge),{key:0,class:"h-3 w-3"})):(i(),g(e(E),{key:1,class:"h-3 w-3"})),d(" "+n(a.storage_type_label||(a.storage_type==="google_drive"?"Drive":"Local")),1)]),_:2},1032,["variant"]),a.storage_type==="local"&&a.formatted_file_size?(i(),f("div",rt,n(a.formatted_file_size),1)):v("",!0)]),_:2},1024),t(e(u),null,{default:s(()=>[a.storage_type==="local"?(i(),f("div",st,[t(e(k),{variant:Y(a.transcode_status),class:"gap-1"},{default:s(()=>[(i(),g(A(J(a.transcode_status)),{class:"h-3 w-3"})),d(" "+n(K(a.transcode_status)),1)]),_:2},1032,["variant"]),a.transcode_status==="completed"&&a.available_qualities&&a.available_qualities.length>0?(i(),f("div",ot,[(i(!0),f(C,null,T(a.available_qualities,c=>(i(),g(e(k),{key:c,variant:"outline",class:"text-xs bg-background border-border text-foreground"},{default:s(()=>[d(n(c),1)]),_:2},1024))),128))])):v("",!0)])):(i(),f("span",at,"N/A"))]),_:2},1024),t(e(u),null,{default:s(()=>[a.category?(i(),g(e(k),{key:0,variant:"outline",class:"gap-1 bg-background border-border text-foreground"},{default:s(()=>[t(e(me),{class:"h-3 w-3"}),d(" "+n(a.category.name),1)]),_:2},1024)):(i(),f("span",lt,"No category"))]),_:2},1024),t(e(u),null,{default:s(()=>[o("div",dt,[t(e(pe),{class:"h-4 w-4 text-muted-foreground"}),d(" "+n(a.formatted_duration),1)])]),_:2},1024),t(e(u),null,{default:s(()=>[t(e(k),{variant:W(a.is_active),class:"bg-background border-border"},{default:s(()=>[d(n(a.is_active?"Active":"Inactive"),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(u),null,{default:s(()=>[o("div",nt,[o("div",it,[t(e(N),{class:"h-4 w-4 text-muted-foreground"}),o("span",null,n(a.total_viewers)+" viewers",1)]),o("div",ut,[t(e(B),{class:"h-4 w-4 text-muted-foreground"}),o("span",{class:te(O(a.avg_completion))},n(Math.round(a.avg_completion))+"% completion ",3)])])]),_:2},1024),t(e(u),{class:"text-sm text-muted-foreground"},{default:s(()=>[d(n(new Date(a.created_at).toLocaleDateString()),1)]),_:2},1024),t(e(u),{class:"text-right"},{default:s(()=>[t(e(re),null,{default:s(()=>[t(e(se),{"as-child":""},{default:s(()=>[t(e($),{variant:"ghost",size:"sm",class:"text-foreground hover:bg-accent hover:text-accent-foreground"},{default:s(()=>[t(e(_e),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(oe),{align:"end",class:"bg-popover border-border text-popover-foreground"},{default:s(()=>[t(e(ae),{class:"text-popover-foreground"},{default:s(()=>r[24]||(r[24]=[d("Actions")])),_:1}),t(e(h),{onClick:c=>q(a),class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground cursor-pointer"},{default:s(()=>[t(e(xe),{class:"h-4 w-4 mr-2"}),r[25]||(r[25]=d(" Analytics "))]),_:2},1032,["onClick"]),t(e(h),{onClick:c=>U(a),class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground cursor-pointer"},{default:s(()=>[t(e(be),{class:"h-4 w-4 mr-2"}),r[26]||(r[26]=d(" Edit "))]),_:2},1032,["onClick"]),t(e(P),{class:"bg-border"}),t(e(h),{onClick:c=>G(a),class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground cursor-pointer"},{default:s(()=>[(i(),g(A(a.is_active?e(ve):e(ke)),{class:"h-4 w-4 mr-2"})),d(" "+n(a.is_active?"Deactivate":"Activate"),1)]),_:2},1032,["onClick"]),t(e(P),{class:"bg-border"}),t(e(h),{onClick:c=>H(a),class:"text-destructive focus:text-destructive cursor-pointer"},{default:s(()=>[t(e(ye),{class:"h-4 w-4 mr-2"}),r[27]||(r[27]=d(" Delete "))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),l.videos.length===0?(i(),g(e(S),{key:0,class:"border-border"},{default:s(()=>[t(e(u),{colspan:"9",class:"text-center py-16 text-muted-foreground"},{default:s(()=>[t(e(w),{class:"h-16 w-16 mx-auto text-muted-foreground mb-6"}),r[29]||(r[29]=o("div",{class:"text-lg font-medium mb-2 text-foreground"},"No video courses found",-1)),r[30]||(r[30]=o("p",{class:"text-muted-foreground mb-4"}," Get started by creating your first video course ",-1)),t(e($),{"as-child":"",class:"bg-primary text-primary-foreground hover:bg-primary/90"},{default:s(()=>[t(e(V),{href:"/admin/videos/create"},{default:s(()=>[t(e(L),{class:"h-4 w-4 mr-2"}),r[28]||(r[28]=d(" Add Your First Video Course "))]),_:1})]),_:1})]),_:1})]),_:1})):v("",!0)]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})],64))}}),Gt=ce(ct,[["__scopeId","data-v-fc0ec7a6"]]);export{Gt as default};
