import{d as T,r as z,C as F,c as h,B as G,a as f,o as l,b as t,u as e,m as J,w as o,e as i,P as E,f as d,t as a,j as K,g as _,h as c,n as g,F as U,i as Q}from"./app-De5aCyOy.js";import{_ as W}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Dj8HCjtT.js";import{_ as y}from"./Button.vue_vue_type_script_setup_true_lang-C1ptny9S.js";import{_ as x}from"./Card.vue_vue_type_script_setup_true_lang-D592-r3Y.js";import{_ as b}from"./CardContent.vue_vue_type_script_setup_true_lang-BnfRKYb9.js";import{_ as k}from"./CardDescription.vue_vue_type_script_setup_true_lang-7y99tksC.js";import{_ as w}from"./CardHeader.vue_vue_type_script_setup_true_lang-B9pSfhlq.js";import{_ as C}from"./CardTitle.vue_vue_type_script_setup_true_lang-C3o6pLjC.js";import{_ as M}from"./Input.vue_vue_type_script_setup_true_lang-XEyr05A5.js";import{_ as p}from"./Label.vue_vue_type_script_setup_true_lang-BhPM2rb2.js";import{_ as X}from"./Textarea.vue_vue_type_script_setup_true_lang-B6XbqApa.js";import{_ as B}from"./Checkbox.vue_vue_type_script_setup_true_lang-CJs0Ik0y.js";import{_ as $,a as V}from"./index-Bl7hX8X-.js";import{_ as N}from"./index-CNloWqrH.js";import{_ as Y}from"./Separator.vue_vue_type_script_setup_true_lang-DdEZmx_q.js";import{A as Z}from"./arrow-left-kG5YrchA.js";import{B as ee}from"./book-open-pPANAQ7D.js";import{m as S}from"./AppLayout.vue_vue_type_script_setup_true_lang-DrTEAkGA.js";import{H as se}from"./hash-DA9UPBTa.js";import{C as te}from"./clock-BXDw5ZYb.js";import{I as re}from"./info-DQSsXDH1.js";import{T as A}from"./triangle-alert-QBZ4KeJk.js";import{L as oe}from"./loader-circle-DgBH8UyT.js";import{S as ie}from"./save-Cj1WR6gV.js";import{_ as de}from"./_plugin-vue_export-helper-DsuA5ZjC.js";import"./index-D3npKzxP.js";import"./index-shR_F4Lk.js";import"./check-DTkWFW74.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-UOeKMcHs.js";const ae={class:"flex items-center justify-between mb-8"},le={class:"space-y-1"},ne={class:"flex items-center gap-3 mb-3"},ue={class:"text-muted-foreground"},me={class:"font-medium"},fe={class:"space-y-2"},ce={key:0,class:"text-sm text-destructive"},pe={class:"space-y-2"},_e={key:0,class:"text-sm text-destructive"},ve={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ge={class:"space-y-2"},xe={key:0,class:"text-sm text-destructive"},be={class:"space-y-2"},he={class:"text-xs text-muted-foreground"},ye={key:0,class:"font-medium"},ke={key:0,class:"text-sm text-destructive"},we={class:"flex items-start space-x-3"},Ce={class:"space-y-1 flex-1"},Me={class:"flex items-start space-x-3"},$e={class:"space-y-1 flex-1"},Ve={class:"space-y-2"},qe={class:"font-medium"},Ee={class:"text-sm"},Ue={class:"space-y-2"},Be={class:"text-sm"},Ne={class:"list-disc list-inside space-y-1 text-sm"},Se={class:"flex items-center justify-end space-x-4"},Ae=T({__name:"Edit",props:{course:{},module:{}},setup(O){const n=O,I=[{title:"Courses",href:"/admin/course-online"},{title:n.course.name,href:`/admin/course-online/${n.course.id}`},{title:"Modules",href:`/admin/course-modules/${n.course.id}`},{title:"Edit",href:"#"}],v=z(0),r=F({name:"",description:"",order_number:1,estimated_duration:null,is_required:!0,is_active:!0}),j=h(()=>r.order_number!==v.value),q=h(()=>r.estimated_duration?Math.round(r.estimated_duration/60*10)/10:null),D=h(()=>Object.keys(r.errors).length>0);G(()=>{r.name=n.module.name||"",r.description=n.module.description||"",r.order_number=n.module.order_number||1,r.estimated_duration=n.module.estimated_duration||null,r.is_required=n.module.is_required??!0,r.is_active=n.module.is_active??!0,v.value=n.module.order_number||1});const H=()=>{r.patch(route("admin.course-modules.update",[n.course.id,n.module.id]),{onSuccess:()=>{v.value=r.order_number}})},L=u=>{r.is_required=u},P=u=>{r.is_active=u};return(u,s)=>(l(),f(U,null,[t(e(J),{title:"Edit Module"}),t(W,{breadcrumbs:I},{default:o(()=>[i("div",ae,[i("div",le,[i("div",ne,[t(e(y),{variant:"ghost",size:"sm",asChild:""},{default:o(()=>[t(e(E),{href:u.route("admin.course-modules.index",u.course.id)},{default:o(()=>[t(e(Z),{class:"h-4 w-4 mr-2"}),s[4]||(s[4]=d(" Back to Modules "))]),_:1},8,["href"])]),_:1})]),s[6]||(s[6]=i("h1",{class:"text-3xl font-bold tracking-tight"},"Edit Module",-1)),i("p",ue,[s[5]||(s[5]=d(' Update "')),i("span",me,a(u.module.name),1),d('" in '+a(u.course.name),1)])])]),i("form",{onSubmit:K(H,["prevent"]),class:"space-y-8"},[t(e(x),null,{default:o(()=>[t(e(w),null,{default:o(()=>[t(e(C),{class:"flex items-center gap-2"},{default:o(()=>[t(e(ee),{class:"h-5 w-5"}),s[7]||(s[7]=d(" Module Information "))]),_:1}),t(e(k),null,{default:o(()=>s[8]||(s[8]=[d(" Update the basic information for this module ")])),_:1})]),_:1}),t(e(b),{class:"space-y-6"},{default:o(()=>[i("div",fe,[t(e(p),{for:"name"},{default:o(()=>s[9]||(s[9]=[d(" Module Name * ")])),_:1}),t(e(M),{id:"name",modelValue:e(r).name,"onUpdate:modelValue":s[0]||(s[0]=m=>e(r).name=m),type:"text",placeholder:"Enter module name",class:g({"border-destructive":e(r).errors.name}),required:""},null,8,["modelValue","class"]),e(r).errors.name?(l(),f("div",ce,a(e(r).errors.name),1)):c("",!0)]),i("div",pe,[t(e(p),{for:"description"},{default:o(()=>s[10]||(s[10]=[d(" Description ")])),_:1}),t(e(X),{id:"description",modelValue:e(r).description,"onUpdate:modelValue":s[1]||(s[1]=m=>e(r).description=m),placeholder:"Describe what students will learn in this module",class:g({"border-destructive":e(r).errors.description}),rows:"4"},null,8,["modelValue","class"]),s[11]||(s[11]=i("p",{class:"text-xs text-muted-foreground"}," Optional description to help students understand the module content ",-1)),e(r).errors.description?(l(),f("div",_e,a(e(r).errors.description),1)):c("",!0)])]),_:1})]),_:1}),t(e(x),null,{default:o(()=>[t(e(w),null,{default:o(()=>[t(e(C),{class:"flex items-center gap-2"},{default:o(()=>[t(e(S),{class:"h-5 w-5"}),s[12]||(s[12]=d(" Module Configuration "))]),_:1}),t(e(k),null,{default:o(()=>s[13]||(s[13]=[d(" Configure module ordering and duration settings ")])),_:1})]),_:1}),t(e(b),{class:"space-y-6"},{default:o(()=>[i("div",ve,[i("div",ge,[t(e(p),{for:"order_number",class:"flex items-center gap-2"},{default:o(()=>[t(e(se),{class:"h-4 w-4"}),s[14]||(s[14]=d(" Order Number * "))]),_:1}),t(e(M),{id:"order_number",modelValue:e(r).order_number,"onUpdate:modelValue":s[2]||(s[2]=m=>e(r).order_number=m),modelModifiers:{number:!0},type:"number",min:"1",placeholder:"e.g. 1",class:g({"border-destructive":e(r).errors.order_number}),required:""},null,8,["modelValue","class"]),s[15]||(s[15]=i("p",{class:"text-xs text-muted-foreground"}," Position of this module in the course sequence ",-1)),e(r).errors.order_number?(l(),f("div",xe,a(e(r).errors.order_number),1)):c("",!0)]),i("div",be,[t(e(p),{for:"estimated_duration",class:"flex items-center gap-2"},{default:o(()=>[t(e(te),{class:"h-4 w-4"}),s[16]||(s[16]=d(" Estimated Duration (minutes) "))]),_:1}),t(e(M),{id:"estimated_duration",modelValue:e(r).estimated_duration,"onUpdate:modelValue":s[3]||(s[3]=m=>e(r).estimated_duration=m),modelModifiers:{number:!0},type:"number",min:"1",max:"1000",placeholder:"e.g. 30",class:g({"border-destructive":e(r).errors.estimated_duration})},null,8,["modelValue","class"]),i("p",he,[s[17]||(s[17]=d(" How long students should spend on this module ")),q.value?(l(),f("span",ye," (â‰ˆ "+a(q.value)+"h) ",1)):c("",!0)]),e(r).errors.estimated_duration?(l(),f("div",ke,a(e(r).errors.estimated_duration),1)):c("",!0)])])]),_:1})]),_:1}),t(e(x),null,{default:o(()=>[t(e(w),null,{default:o(()=>[t(e(C),{class:"flex items-center gap-2"},{default:o(()=>[t(e(S),{class:"h-5 w-5"}),s[18]||(s[18]=d(" Module Settings "))]),_:1}),t(e(k),null,{default:o(()=>s[19]||(s[19]=[d(" Configure module accessibility and requirements ")])),_:1})]),_:1}),t(e(b),{class:"space-y-6"},{default:o(()=>[i("div",we,[t(e(B),{id:"is_required",checked:e(r).is_required,"onUpdate:checked":L},null,8,["checked"]),i("div",Ce,[t(e(p),{for:"is_required",class:"text-sm font-medium cursor-pointer"},{default:o(()=>s[20]||(s[20]=[d(" Required Module ")])),_:1}),s[21]||(s[21]=i("p",{class:"text-sm text-muted-foreground"}," Students must complete this module to progress to the next one ",-1))]),e(r).is_required?(l(),_(e(N),{key:0,variant:"destructive",class:"ml-auto"},{default:o(()=>s[22]||(s[22]=[d(" Required ")])),_:1})):c("",!0)]),t(e(Y)),i("div",Me,[t(e(B),{id:"is_active",checked:e(r).is_active,"onUpdate:checked":P},null,8,["checked"]),i("div",$e,[t(e(p),{for:"is_active",class:"text-sm font-medium cursor-pointer"},{default:o(()=>s[23]||(s[23]=[d(" Active Module ")])),_:1}),s[24]||(s[24]=i("p",{class:"text-sm text-muted-foreground"}," Module is visible and accessible to students ",-1))]),t(e(N),{variant:e(r).is_active?"default":"secondary",class:"ml-auto"},{default:o(()=>[d(a(e(r).is_active?"Active":"Inactive"),1)]),_:1},8,["variant"])])]),_:1})]),_:1}),t(e($),null,{default:o(()=>[t(e(re),{class:"h-4 w-4"}),t(e(V),null,{default:o(()=>[i("div",Ve,[i("div",qe,"Course: "+a(u.course.name),1),i("p",Ee,' Editing module "'+a(u.module.name)+'". Changes will affect how students progress through this course and may impact existing student progress. ',1)])]),_:1})]),_:1}),j.value?(l(),_(e($),{key:0,variant:"destructive"},{default:o(()=>[t(e(A),{class:"h-4 w-4"}),t(e(V),null,{default:o(()=>[i("div",Ue,[s[25]||(s[25]=i("div",{class:"font-medium"},"Order Number Changed",-1)),i("p",Be," Changing the order number from "+a(v.value)+" to "+a(e(r).order_number)+" will automatically reorder other modules in this course and may affect student progress. ",1)])]),_:1})]),_:1})):c("",!0),D.value?(l(),_(e($),{key:1,variant:"destructive"},{default:o(()=>[t(e(A),{class:"h-4 w-4"}),t(e(V),null,{default:o(()=>[s[26]||(s[26]=i("div",{class:"font-medium mb-2"},"Please fix the following errors:",-1)),i("ul",Ne,[(l(!0),f(U,null,Q(e(r).errors,(m,R)=>(l(),f("li",{key:R},a(m),1))),128))])]),_:1})]),_:1})):c("",!0),t(e(x),null,{default:o(()=>[t(e(b),{class:"pt-6"},{default:o(()=>[i("div",Se,[t(e(y),{variant:"outline",asChild:""},{default:o(()=>[t(e(E),{href:u.route("admin.course-modules.index",u.course.id)},{default:o(()=>s[27]||(s[27]=[d(" Cancel ")])),_:1},8,["href"])]),_:1}),t(e(y),{type:"submit",disabled:e(r).processing,class:"min-w-[140px]"},{default:o(()=>[e(r).processing?(l(),_(e(oe),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(l(),_(e(ie),{key:1,class:"mr-2 h-4 w-4"})),d(" "+a(e(r).processing?"Updating...":"Update Module"),1)]),_:1},8,["disabled"])])]),_:1})]),_:1})],32)]),_:1})],64))}}),us=de(Ae,[["__scopeId","data-v-6595adbe"]]);export{us as default};
