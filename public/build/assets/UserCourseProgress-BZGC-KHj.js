import{d as q,r as H,W as C,l as I,g as v,o as n,w as l,e as i,a as p,h as b,b as t,u as e,f as a,t as d,F as c,i as k}from"./app-De5aCyOy.js";import{_ as J}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Dj8HCjtT.js";import{l as K}from"./lodash-D8CZwZrT.js";import{_ as V}from"./Button.vue_vue_type_script_setup_true_lang-C1ptny9S.js";import{_ as B}from"./Input.vue_vue_type_script_setup_true_lang-XEyr05A5.js";import{_ as g}from"./Label.vue_vue_type_script_setup_true_lang-BhPM2rb2.js";import{_ as E}from"./Card.vue_vue_type_script_setup_true_lang-D592-r3Y.js";import{_ as P}from"./CardContent.vue_vue_type_script_setup_true_lang-BnfRKYb9.js";import{_ as O}from"./CardHeader.vue_vue_type_script_setup_true_lang-B9pSfhlq.js";import{_ as j}from"./CardTitle.vue_vue_type_script_setup_true_lang-C3o6pLjC.js";import{_ as x,a as w,b as S,c as D,d as F}from"./SelectValue.vue_vue_type_script_setup_true_lang-D84q5NJt.js";import{_ as M,a as Q,b as T,c as _,d as X,e as f}from"./TableHeader.vue_vue_type_script_setup_true_lang-CiatGxJJ.js";import{_ as $}from"./index-CNloWqrH.js";import{D as Y}from"./download-ziV5naxV.js";import{F as Z}from"./filter-Ihqwk31P.js";import{R as h}from"./rotate-ccw-D8-XKrTw.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-DrTEAkGA.js";import"./index-D3npKzxP.js";import"./index-shR_F4Lk.js";import"./_plugin-vue_export-helper-DsuA5ZjC.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-UOeKMcHs.js";import"./clock-BXDw5ZYb.js";import"./useForwardPropsEmits-Cp6q3zLn.js";import"./Presence-DbAr2sRl.js";import"./ConfigProvider-B6_1veax.js";import"./useForwardExpose-Cyi8rQxf.js";import"./Teleport-swefm16Y.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-CPyPlHCY.js";import"./Collection-BDp_B7Ge.js";import"./usePrimitiveElement-B41iOtr7.js";import"./check-DTkWFW74.js";import"./useSize-CHi05SbU.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-9kO_gd9f.js";const ee={class:"space-y-6"},te={class:"flex items-center justify-between"},le={key:0,class:"bg-destructive/15 text-destructive px-4 py-3 rounded-md"},se={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ae={class:"space-y-2"},re={class:"space-y-2"},oe={class:"space-y-2"},ue={class:"space-y-2"},de={class:"space-y-2"},ne={class:"flex items-end"},ie={class:"text-sm font-normal text-muted-foreground ml-2"},me={class:"rounded-md border"},fe={class:"font-medium"},pe={key:0,class:"text-destructive font-medium"},_e={key:1,class:"text-muted-foreground"},ve={key:0,class:"text-sm"},ge={key:1,class:"text-muted-foreground"},ye={key:0,class:"text-sm"},ce={key:1,class:"text-muted-foreground"},ke={class:"font-medium"},Ve={key:0,class:"flex items-center justify-between mt-4"},$e={class:"text-sm text-muted-foreground"},Ce={class:"flex gap-2"},ot=q({__name:"UserCourseProgress",props:{assignments:{},filters:{},filterOptions:{},error:{}},setup(A){const m=H({...A.filters}),R=K.debounce(()=>{C.get(route("admin.reports.user-course-progress"),m.value,{preserveState:!0,preserveScroll:!0})},500);I(m,R,{deep:!0});const z=()=>{m.value={},C.get(route("admin.reports.user-course-progress"))},L=()=>{window.location.href=route("admin.reports.user-course-progress.export",m.value)},W=o=>o==="Excellent"?"default":o==="Good"?"secondary":"destructive",G=o=>o==="Compliant"?"default":o==="At Risk"?"secondary":"destructive",N=o=>{C.get(route("admin.reports.user-course-progress"),{...m.value,page:o},{preserveState:!0,preserveScroll:!0})};return(o,s)=>(n(),v(J,null,{default:l(()=>[i("div",ee,[i("div",te,[s[8]||(s[8]=i("div",null,[i("h1",{class:"text-3xl font-bold"},"User Course Progress Report"),i("p",{class:"text-muted-foreground mt-1"}," View and export comprehensive course progress data ")],-1)),t(e(V),{onClick:L,class:"gap-2"},{default:l(()=>[t(e(Y),{class:"h-4 w-4"}),s[7]||(s[7]=a(" Export to Excel "))]),_:1})]),o.error?(n(),p("div",le,d(o.error),1)):b("",!0),t(e(E),null,{default:l(()=>[t(e(O),null,{default:l(()=>[t(e(j),{class:"flex items-center gap-2"},{default:l(()=>[t(e(Z),{class:"h-5 w-5"}),s[9]||(s[9]=a(" Filters "))]),_:1})]),_:1}),t(e(P),null,{default:l(()=>[i("div",se,[i("div",ae,[t(e(g),null,{default:l(()=>s[10]||(s[10]=[a("Department")])),_:1}),t(e(x),{modelValue:m.value.department_id,"onUpdate:modelValue":s[0]||(s[0]=r=>m.value.department_id=r)},{default:l(()=>[t(e(w),null,{default:l(()=>[t(e(S),{placeholder:"All Departments"})]),_:1}),t(e(D),null,{default:l(()=>[(n(!0),p(c,null,k(o.filterOptions.departments,r=>(n(),v(e(F),{key:r.id,value:r.id.toString()},{default:l(()=>[a(d(r.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),i("div",re,[t(e(g),null,{default:l(()=>s[11]||(s[11]=[a("Course Type")])),_:1}),t(e(x),{modelValue:m.value.course_type,"onUpdate:modelValue":s[1]||(s[1]=r=>m.value.course_type=r)},{default:l(()=>[t(e(w),null,{default:l(()=>[t(e(S),{placeholder:"All Types"})]),_:1}),t(e(D),null,{default:l(()=>[(n(!0),p(c,null,k(o.filterOptions.courseTypes,r=>(n(),v(e(F),{key:r.value,value:r.value},{default:l(()=>[a(d(r.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),i("div",oe,[t(e(g),null,{default:l(()=>s[12]||(s[12]=[a("Status")])),_:1}),t(e(x),{modelValue:m.value.status,"onUpdate:modelValue":s[2]||(s[2]=r=>m.value.status=r)},{default:l(()=>[t(e(w),null,{default:l(()=>[t(e(S),{placeholder:"All Statuses"})]),_:1}),t(e(D),null,{default:l(()=>[(n(!0),p(c,null,k(o.filterOptions.statuses,r=>(n(),v(e(F),{key:r.value,value:r.value},{default:l(()=>[a(d(r.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),i("div",ue,[t(e(g),null,{default:l(()=>s[13]||(s[13]=[a("Date From")])),_:1}),t(e(B),{modelValue:m.value.date_from,"onUpdate:modelValue":s[3]||(s[3]=r=>m.value.date_from=r),type:"date"},null,8,["modelValue"])]),i("div",de,[t(e(g),null,{default:l(()=>s[14]||(s[14]=[a("Date To")])),_:1}),t(e(B),{modelValue:m.value.date_to,"onUpdate:modelValue":s[4]||(s[4]=r=>m.value.date_to=r),type:"date"},null,8,["modelValue"])]),i("div",ne,[t(e(V),{onClick:z,variant:"outline",class:"w-full gap-2"},{default:l(()=>[t(e(h),{class:"h-4 w-4"}),s[15]||(s[15]=a(" Clear Filters "))]),_:1})])])]),_:1})]),_:1}),t(e(E),null,{default:l(()=>[t(e(O),null,{default:l(()=>[t(e(j),null,{default:l(()=>{var r;return[s[16]||(s[16]=a(" Course Progress Data ")),i("span",ie," ("+d(((r=o.assignments)==null?void 0:r.total)||0)+" total records) ",1)]}),_:1})]),_:1}),t(e(P),null,{default:l(()=>{var r;return[i("div",me,[t(e(M),null,{default:l(()=>[t(e(Q),null,{default:l(()=>[t(e(T),null,{default:l(()=>[t(e(_),null,{default:l(()=>s[17]||(s[17]=[a("Employee")])),_:1}),t(e(_),null,{default:l(()=>s[18]||(s[18]=[a("Department")])),_:1}),t(e(_),null,{default:l(()=>s[19]||(s[19]=[a("Course Type")])),_:1}),t(e(_),null,{default:l(()=>s[20]||(s[20]=[a("Course Name")])),_:1}),t(e(_),null,{default:l(()=>s[21]||(s[21]=[a("Status")])),_:1}),t(e(_),null,{default:l(()=>s[22]||(s[22]=[a("Progress")])),_:1}),t(e(_),null,{default:l(()=>s[23]||(s[23]=[a("Days Overdue")])),_:1}),t(e(_),null,{default:l(()=>s[24]||(s[24]=[a("Started")])),_:1}),t(e(_),null,{default:l(()=>s[25]||(s[25]=[a("Completed")])),_:1}),t(e(_),null,{default:l(()=>s[26]||(s[26]=[a("Learning Score")])),_:1}),t(e(_),null,{default:l(()=>s[27]||(s[27]=[a("Score Band")])),_:1}),t(e(_),null,{default:l(()=>s[28]||(s[28]=[a("Compliance")])),_:1})]),_:1})]),_:1}),t(e(X),null,{default:l(()=>{var y,U;return[!((y=o.assignments)!=null&&y.data)||o.assignments.data.length===0?(n(),v(e(T),{key:0},{default:l(()=>[t(e(f),{colspan:"12",class:"text-center py-8 text-muted-foreground"},{default:l(()=>s[29]||(s[29]=[a(" No course progress data found. Try adjusting your filters. ")])),_:1})]),_:1})):b("",!0),(n(!0),p(c,null,k(((U=o.assignments)==null?void 0:U.data)||[],u=>(n(),v(e(T),{key:u.id},{default:l(()=>[t(e(f),null,{default:l(()=>[i("div",fe,d(u.user_name),1)]),_:2},1024),t(e(f),null,{default:l(()=>[a(d(u.department),1)]),_:2},1024),t(e(f),null,{default:l(()=>[t(e($),{variant:"outline"},{default:l(()=>[a(d(u.course_type),1)]),_:2},1024)]),_:2},1024),t(e(f),null,{default:l(()=>[a(d(u.course_name),1)]),_:2},1024),t(e(f),null,{default:l(()=>[t(e($),{variant:u.completion_status==="Completed"?"default":"secondary"},{default:l(()=>[a(d(u.completion_status),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(f),null,{default:l(()=>[a(d(u.progress_percentage)+"%",1)]),_:2},1024),t(e(f),null,{default:l(()=>[u.days_overdue!==null&&u.days_overdue>0?(n(),p("span",pe,d(u.days_overdue)+" days ",1)):(n(),p("span",_e,"-"))]),_:2},1024),t(e(f),null,{default:l(()=>[u.started_date?(n(),p("span",ve,d(u.started_date),1)):(n(),p("span",ge,"-"))]),_:2},1024),t(e(f),null,{default:l(()=>[u.completion_date?(n(),p("span",ye,d(u.completion_date),1)):(n(),p("span",ce,"-"))]),_:2},1024),t(e(f),null,{default:l(()=>[i("span",ke,d(u.learning_score),1)]),_:2},1024),t(e(f),null,{default:l(()=>[t(e($),{variant:W(u.score_band)},{default:l(()=>[a(d(u.score_band),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(f),null,{default:l(()=>[t(e($),{variant:G(u.compliance_status)},{default:l(()=>[a(d(u.compliance_status),1)]),_:2},1032,["variant"])]),_:2},1024)]),_:2},1024))),128))]}),_:1})]),_:1})]),((r=o.assignments)==null?void 0:r.last_page)>1?(n(),p("div",Ve,[i("div",$e," Showing "+d(o.assignments.from)+" to "+d(o.assignments.to)+" of "+d(o.assignments.total)+" results ",1),i("div",Ce,[t(e(V),{onClick:s[5]||(s[5]=y=>N(o.assignments.current_page-1)),disabled:o.assignments.current_page===1,variant:"outline",size:"sm"},{default:l(()=>s[30]||(s[30]=[a(" Previous ")])),_:1},8,["disabled"]),t(e(V),{onClick:s[6]||(s[6]=y=>N(o.assignments.current_page+1)),disabled:o.assignments.current_page===o.assignments.last_page,variant:"outline",size:"sm"},{default:l(()=>s[31]||(s[31]=[a(" Next ")])),_:1},8,["disabled"])])])):b("",!0)]}),_:1})]),_:1})])]),_:1}))}});export{ot as default};
