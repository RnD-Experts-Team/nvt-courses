import{d as re,r as oe,C as se,c as N,l as ae,p as de,bp as ne,g as f,o as n,w as s,e as d,j as le,b as r,h as c,u as e,f as i,a as u,F as v,i as x,t as m,n as V,k as E,s as ie,P as me}from"./app-De5aCyOy.js";import{_ as ue}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Dj8HCjtT.js";import{_ as P}from"./Button.vue_vue_type_script_setup_true_lang-C1ptny9S.js";import{_ as j}from"./Input.vue_vue_type_script_setup_true_lang-XEyr05A5.js";import{_ as ce}from"./Textarea.vue_vue_type_script_setup_true_lang-B6XbqApa.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-BhPM2rb2.js";import{_ as y}from"./Card.vue_vue_type_script_setup_true_lang-D592-r3Y.js";import{_ as h}from"./CardContent.vue_vue_type_script_setup_true_lang-BnfRKYb9.js";import{_ as D}from"./CardDescription.vue_vue_type_script_setup_true_lang-7y99tksC.js";import{_ as M}from"./CardHeader.vue_vue_type_script_setup_true_lang-B9pSfhlq.js";import{_ as L}from"./CardTitle.vue_vue_type_script_setup_true_lang-C3o6pLjC.js";import{_ as k,a as w,b as C,c as S,d as p}from"./SelectValue.vue_vue_type_script_setup_true_lang-D84q5NJt.js";import{_ as pe,a as ge}from"./RadioGroupItem.vue_vue_type_script_setup_true_lang-DEgpz9bD.js";import{_ as fe}from"./Checkbox.vue_vue_type_script_setup_true_lang-CJs0Ik0y.js";import{_ as I,a as O}from"./index-Bl7hX8X-.js";import{_ as F}from"./Separator.vue_vue_type_script_setup_true_lang-DdEZmx_q.js";import{S as _e}from"./AppLayout.vue_vue_type_script_setup_true_lang-DrTEAkGA.js";import{U as q}from"./user-D0HtPb4E.js";import{B as z}from"./building-DFaXZIiz.js";import{S as H}from"./star-BP7x_abV.js";import{C as be}from"./circle-check-big-BYC-wlwA.js";import{L as ve}from"./loader-circle-DgBH8UyT.js";import{A as xe}from"./arrow-left-kG5YrchA.js";import"./index-D3npKzxP.js";import"./index-shR_F4Lk.js";import"./useForwardPropsEmits-Cp6q3zLn.js";import"./Presence-DbAr2sRl.js";import"./ConfigProvider-B6_1veax.js";import"./useForwardExpose-Cyi8rQxf.js";import"./Teleport-swefm16Y.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-CPyPlHCY.js";import"./Collection-BDp_B7Ge.js";import"./usePrimitiveElement-B41iOtr7.js";import"./check-DTkWFW74.js";import"./useSize-CHi05SbU.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-9kO_gd9f.js";import"./RovingFocusItem-B6yBawHL.js";import"./VisuallyHiddenInput-CPW02NT0.js";import"./circle-PDixcOb7.js";import"./_plugin-vue_export-helper-DsuA5ZjC.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-UOeKMcHs.js";import"./clock-BXDw5ZYb.js";const ye={class:"px-4 sm:px-0 space-y-8 bg-background text-foreground"},he={class:"flex items-center"},ke={class:"shrink-0 mr-4"},we={class:"flex items-center justify-center h-10 w-10 rounded-lg bg-primary/10"},Ce={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Se={class:"space-y-2"},$e={key:0,class:"text-destructive text-sm"},Ae={class:"space-y-2"},Ve={key:0,class:"text-destructive text-sm"},De={class:"space-y-2"},Me={key:0,class:"text-destructive text-sm"},Le={class:"space-y-2"},Te={key:0,class:"text-destructive text-sm"},Ue={class:"flex items-start space-x-3"},Re={class:"flex-1"},Be={class:"flex items-center space-x-2 mb-2"},Ne={class:"text-sm text-muted-foreground cursor-pointer"},Ee={key:0,class:"absolute top-2 right-2"},Pe={class:"w-6 h-6 rounded-full bg-primary flex items-center justify-center"},je={class:"space-y-2"},Ie={key:0,class:"text-sm text-muted-foreground"},Oe={key:1,class:"text-sm text-muted-foreground"},Fe={key:2,class:"text-destructive text-sm"},qe={class:"font-semibold mb-2"},ze={class:"text-sm text-muted-foreground"},He={key:0},Ge={key:1},Je={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ke={class:"space-y-2"},Qe={key:0,class:"text-destructive text-sm"},We={class:"space-y-2"},Xe={key:0,class:"text-destructive text-sm"},Ye={class:"flex items-center space-x-2"},Ze={class:"grid gap-1.5 leading-none"},et={class:"space-y-2"},tt={key:0,class:"text-destructive text-sm"},rt={class:"flex flex-col sm:flex-row gap-4 pt-6 border-t border-border"},ot={key:1},Qt=re({__name:"Assignment",props:{managers:Array,departments:Array,employees:Array,roleTypes:Object},setup($){const T=$,g=oe(!0),t=se({user_id:"",department_id:"",role_type:"",manages_user_id:"",management_type:"department_wide",is_primary:!1,authority_level:1,start_date:new Date().toISOString().split("T")[0],end_date:"",notes:""}),U=[{value:"specific_user",label:"Manages Specific User",description:"Direct 1:1 management relationship with selected employee",icon:q,color:"blue"},{value:"department_wide",label:"Department-wide Management",description:"Oversees entire department operations and policies",icon:z,color:"green"},{value:"no_management",label:"No Management Responsibilities",description:"Individual contributor, specialist, or advisory role",icon:H,color:"gray"}],G=l=>{g.value&&(t.user_id=l==="none"?"":l)},J=l=>{g.value&&(t.department_id=l==="none"?"":l)},K=l=>{g.value&&(t.role_type=l==="none"?"":l)},Q=l=>{g.value&&(t.authority_level=parseInt(l))},W=l=>{g.value&&(t.manages_user_id=l==="none"?"":l)},R=l=>{g.value&&(t.management_type=l)},X=l=>{g.value&&(t.is_primary=l)},Y=N(()=>t.department_id?(T.employees||[]).filter(l=>l.department_id===parseInt(t.department_id)):[]),B=N(()=>Y.value.filter(l=>l.id!==parseInt(t.user_id)));ae(()=>t.management_type,l=>{g.value&&l!=="specific_user"&&(t.manages_user_id="")});function Z(){g.value&&(t.management_type!=="specific_user"&&(t.manages_user_id=""),t.post("/admin/manager-roles",{onSuccess:()=>{console.log("✅ Form submitted successfully!")},onError:l=>{console.error("❌ Form submission errors:",l)}}))}const ee=l=>{var A;const o=(A=T.departments)==null?void 0:A.find(a=>a.id==l);return o?o.name:""},te=[{name:"Dashboard",href:route("dashboard")},{name:"Manager Roles",href:route("admin.manager-roles.index")},{name:"Assign Role",href:route("admin.manager-roles.create")}];return de(()=>{g.value=!1}),(l,o)=>{const A=ne('else"');return n(),f(ue,{breadcrumbs:te},{default:s(()=>[d("div",ye,[o[30]||(o[30]=d("div",null,[d("h1",{class:"text-xl sm:text-2xl font-bold text-foreground"},"Assign Manager Role"),d("p",{class:"mt-2 text-sm text-muted-foreground"},"Create and configure management assignments with role types and responsibilities")],-1)),d("form",{onSubmit:le(Z,["prevent"]),class:"max-w-6xl mx-auto space-y-8"},[r(e(y),{class:"bg-card border-border"},{default:s(()=>[r(e(M),{class:"bg-card text-card-foreground"},{default:s(()=>[d("div",he,[d("div",ke,[d("div",we,[r(e(_e),{class:"h-6 w-6 text-primary"})])]),d("div",null,[r(e(L),{class:"text-card-foreground"},{default:s(()=>o[3]||(o[3]=[i("Basic Assignment Information")])),_:1}),r(e(D),{class:"text-muted-foreground"},{default:s(()=>o[4]||(o[4]=[i("Select the manager, department, and role details")])),_:1})])])]),_:1}),r(e(h),{class:"bg-card text-card-foreground"},{default:s(()=>[d("div",Ce,[d("div",Se,[r(e(_),{for:"manager",class:"text-foreground"},{default:s(()=>o[5]||(o[5]=[i("Manager *")])),_:1}),r(e(k),{"model-value":e(t).user_id||"none","onUpdate:modelValue":G,disabled:e(t).processing},{default:s(()=>[r(e(w),{id:"manager",class:"bg-background border-border text-foreground"},{default:s(()=>[r(e(C),{placeholder:"Select Manager"})]),_:1}),r(e(S),{class:"bg-popover border-border text-popover-foreground"},{default:s(()=>[r(e(p),{value:"none",class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground"},{default:s(()=>o[6]||(o[6]=[i("Select Manager")])),_:1}),(n(!0),u(v,null,x($.managers,a=>(n(),f(e(p),{key:a.id,value:a.id.toString(),class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground"},{default:s(()=>[i(m(a.name)+" ("+m(a.level)+") - "+m(a.department),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value","disabled"]),e(t).errors.user_id?(n(),u("div",$e,m(e(t).errors.user_id),1)):c("",!0)]),d("div",Ae,[r(e(_),{for:"department",class:"text-foreground"},{default:s(()=>o[7]||(o[7]=[i("Department *")])),_:1}),r(e(k),{"model-value":e(t).department_id||"none","onUpdate:modelValue":J,disabled:e(t).processing},{default:s(()=>[r(e(w),{id:"department",class:"bg-background border-border text-foreground"},{default:s(()=>[r(e(C),{placeholder:"Select Department"})]),_:1}),r(e(S),{class:"bg-popover border-border text-popover-foreground"},{default:s(()=>[r(e(p),{value:"none",class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground"},{default:s(()=>o[8]||(o[8]=[i("Select Department")])),_:1}),(n(!0),u(v,null,x($.departments,a=>(n(),f(e(p),{key:a.id,value:a.id.toString(),class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground"},{default:s(()=>[i(m(a.name)+" ("+m(a.department_code)+") ",1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value","disabled"]),e(t).errors.department_id?(n(),u("div",Ve,m(e(t).errors.department_id),1)):c("",!0)]),d("div",De,[r(e(_),{for:"role-type",class:"text-foreground"},{default:s(()=>o[9]||(o[9]=[i("Role Type *")])),_:1}),r(e(k),{"model-value":e(t).role_type||"none","onUpdate:modelValue":K,disabled:e(t).processing},{default:s(()=>[r(e(w),{id:"role-type",class:"bg-background border-border text-foreground"},{default:s(()=>[r(e(C),{placeholder:"Select Role Type"})]),_:1}),r(e(S),{class:"bg-popover border-border text-popover-foreground"},{default:s(()=>[r(e(p),{value:"none",class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground"},{default:s(()=>o[10]||(o[10]=[i("Select Role Type")])),_:1}),(n(!0),u(v,null,x($.roleTypes,(a,b)=>(n(),f(e(p),{key:b,value:b,class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground"},{default:s(()=>[i(m(a),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value","disabled"]),e(t).errors.role_type?(n(),u("div",Me,m(e(t).errors.role_type),1)):c("",!0)]),d("div",Le,[r(e(_),{for:"authority-level",class:"text-foreground"},{default:s(()=>o[11]||(o[11]=[i("Authority Level *")])),_:1}),r(e(k),{"model-value":e(t).authority_level.toString(),"onUpdate:modelValue":Q,disabled:e(t).processing},{default:s(()=>[r(e(w),{id:"authority-level",class:"bg-background border-border text-foreground"},{default:s(()=>[r(e(C))]),_:1}),r(e(S),{class:"bg-popover border-border text-popover-foreground"},{default:s(()=>[r(e(p),{value:"1",class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground"},{default:s(()=>o[12]||(o[12]=[i("High Authority")])),_:1}),r(e(p),{value:"2",class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground"},{default:s(()=>o[13]||(o[13]=[i("Medium Authority")])),_:1}),r(e(p),{value:"3",class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground"},{default:s(()=>o[14]||(o[14]=[i("Low Authority")])),_:1})]),_:1})]),_:1},8,["model-value","disabled"]),e(t).errors.authority_level?(n(),u("div",Te,m(e(t).errors.authority_level),1)):c("",!0)])])]),_:1})]),_:1}),r(e(y),{class:"bg-card border-border"},{default:s(()=>[r(e(M),{class:"bg-card text-card-foreground"},{default:s(()=>[r(e(L),{class:"text-card-foreground"},{default:s(()=>o[15]||(o[15]=[i("Management Responsibilities")])),_:1}),r(e(D),{class:"text-muted-foreground"},{default:s(()=>o[16]||(o[16]=[i("Choose the type of management responsibilities for this role")])),_:1})]),_:1}),r(e(h),{class:"bg-card text-card-foreground"},{default:s(()=>[r(e(pe),{"model-value":e(t).management_type,"onUpdate:modelValue":R,class:"grid grid-cols-1 md:grid-cols-3 gap-4"},{default:s(()=>[(n(),u(v,null,x(U,a=>r(e(y),{key:a.value,class:V(["relative cursor-pointer transition-all hover:shadow-md bg-card border-border",{"border-primary bg-primary/5 shadow-md":e(t).management_type===a.value,"hover:border-primary/50":e(t).management_type!==a.value}]),onClick:b=>R(a.value)},{default:s(()=>[r(e(h),{class:"p-6 bg-card text-card-foreground"},{default:s(()=>[d("div",Ue,[r(e(ge),{value:a.value,id:`type-${a.value}`,class:"mt-1 border-border text-primary"},null,8,["value","id"]),d("div",Re,[d("div",Be,[(n(),f(E(a.icon),{class:V(["w-5 h-5",{"text-blue-500":a.color==="blue","text-green-500":a.color==="green","text-muted-foreground":a.color==="gray"}])},null,8,["class"])),r(e(_),{for:`type-${a.value}`,class:"font-semibold cursor-pointer text-card-foreground"},{default:s(()=>[i(m(a.label),1)]),_:2},1032,["for"])]),d("p",Ne,m(a.description),1)])]),e(t).management_type===a.value?(n(),u("div",Ee,[d("div",Pe,[r(e(be),{class:"w-4 h-4 text-primary-foreground"})])])):c("",!0)]),_:2},1024)]),_:2},1032,["class","onClick"])),64))]),_:1},8,["model-value"])]),_:1})]),_:1}),e(t).management_type==="specific_user"?(n(),f(e(y),{key:0,class:"bg-card border-border"},{default:s(()=>[r(e(h),{class:"p-6 bg-card text-card-foreground"},{default:s(()=>[r(e(I),{class:"mb-6 bg-muted/50 border-border"},{default:s(()=>[r(e(q),{class:"h-4 w-4 text-foreground"}),r(e(O),{class:"text-foreground"},{default:s(()=>o[17]||(o[17]=[d("h4",{class:"font-semibold mb-1"},"Direct Management Assignment",-1),d("p",{class:"text-sm text-muted-foreground"},"Select a specific L1 employee who will report directly to this manager for daily tasks, performance reviews, and career development.",-1)])),_:1})]),_:1}),d("div",je,[r(e(_),{for:"employee",class:"text-foreground"},{default:s(()=>o[18]||(o[18]=[i("Select L1 Employee to Manage *")])),_:1}),r(e(k),{"model-value":e(t).manages_user_id||"none","onUpdate:modelValue":W,disabled:e(t).processing||!e(t).department_id},{default:s(()=>[r(e(w),{id:"employee",class:"bg-background border-border text-foreground"},{default:s(()=>[r(e(C),{placeholder:"Choose an L1 employee"})]),_:1}),r(e(S),{class:"bg-popover border-border text-popover-foreground"},{default:s(()=>[r(e(p),{value:"none",class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground"},{default:s(()=>o[19]||(o[19]=[i("Choose an L1 employee")])),_:1}),(n(!0),u(v,null,x(B.value,a=>(n(),f(e(p),{key:a.id,value:a.id.toString(),class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground"},{default:s(()=>[i(m(a.name)+" ("+m(a.level)+") - "+m(a.email),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value","disabled"]),e(t).department_id?B.value.length===0?(n(),u("p",Oe," No L1 employees available in this department ")):c("",!0):(n(),u("p",Ie," Please select a department first to see available L1 employees ")),e(t).errors.manages_user_id?(n(),u("div",Fe,m(e(t).errors.manages_user_id),1)):c("",!0)])]),_:1})]),_:1})):c("",!0),e(t).management_type&&e(t).management_type!=="specific_user"?(n(),f(e(I),{key:1,class:V(["border-border",{"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800":e(t).management_type==="department_wide","bg-muted border-border":e(t).management_type==="no_management"}])},{default:s(()=>[(n(),f(E(e(t).management_type==="department_wide"?e(z):e(H)),{class:V(["h-4 w-4",{"text-green-600 dark:text-green-400":e(t).management_type==="department_wide","text-muted-foreground":e(t).management_type==="no_management"}])},null,8,["class"])),r(e(O),{class:"text-foreground"},{default:s(()=>{var a;return[d("h4",qe,m((a=U.find(b=>b.value===e(t).management_type))==null?void 0:a.label),1),d("p",ze,[e(t).management_type==="department_wide"?(n(),u("span",He," This grants oversight authority over the entire "+m(ee(e(t).department_id))+" department. The manager can make department-wide decisions, set policies, allocate resources, and provide strategic direction for all department employees. ",1)):e(t).management_type==="no_management"?(n(),u("span",Ge," This role is designed for individual contributors, technical specialists, consultants, or advisory positions. The person will have expertise and authority in their domain but won't manage other people directly. Perfect for senior developers, architects, analysts, or subject matter experts. ")):c("",!0)])]}),_:1})]),_:1},8,["class"])):c("",!0),r(e(y),{class:"bg-card border-border"},{default:s(()=>[r(e(M),{class:"bg-card text-card-foreground"},{default:s(()=>[r(e(L),{class:"text-card-foreground"},{default:s(()=>o[20]||(o[20]=[i("Assignment Details")])),_:1}),r(e(D),{class:"text-muted-foreground"},{default:s(()=>o[21]||(o[21]=[i("Set the timeframe and additional settings for this role")])),_:1})]),_:1}),r(e(h),{class:"bg-card text-card-foreground"},{default:s(()=>[d("div",Je,[d("div",Ke,[r(e(_),{for:"start-date",class:"text-foreground"},{default:s(()=>o[22]||(o[22]=[i("Start Date *")])),_:1}),r(e(j),{id:"start-date",type:"date",modelValue:e(t).start_date,"onUpdate:modelValue":o[0]||(o[0]=a=>e(t).start_date=a),disabled:e(t).processing,required:"",class:"bg-background border-border text-foreground placeholder:text-muted-foreground"},null,8,["modelValue","disabled"]),e(t).errors.start_date?(n(),u("div",Qe,m(e(t).errors.start_date),1)):c("",!0)]),d("div",We,[r(e(_),{for:"end-date",class:"text-foreground"},{default:s(()=>o[23]||(o[23]=[i("End Date "),d("span",{class:"text-muted-foreground font-normal"},"(Optional)",-1)])),_:1}),r(e(j),{id:"end-date",type:"date",modelValue:e(t).end_date,"onUpdate:modelValue":o[1]||(o[1]=a=>e(t).end_date=a),disabled:e(t).processing,class:"bg-background border-border text-foreground placeholder:text-muted-foreground"},null,8,["modelValue","disabled"]),o[24]||(o[24]=d("p",{class:"text-sm text-muted-foreground"},"Leave empty for permanent assignment",-1)),e(t).errors.end_date?(n(),u("div",Xe,m(e(t).errors.end_date),1)):c("",!0)])]),r(e(F),{class:"my-6 bg-border"}),d("div",Ye,[r(e(fe),{id:"is_primary",checked:e(t).is_primary,"onUpdate:checked":X,disabled:e(t).processing,class:"border-border data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground"},null,8,["checked","disabled"]),d("div",Ze,[r(e(_),{for:"is_primary",class:"font-semibold cursor-pointer text-foreground"},{default:s(()=>o[25]||(o[25]=[i(" Primary Role ")])),_:1}),o[26]||(o[26]=d("p",{class:"text-sm text-muted-foreground"}," Primary roles have higher authority and receive priority notifications. Only one primary role is recommended per person per department. ",-1))])]),r(e(F),{class:"my-6 bg-border"}),d("div",et,[r(e(_),{for:"notes",class:"text-foreground"},{default:s(()=>o[27]||(o[27]=[i("Notes "),d("span",{class:"text-muted-foreground font-normal"},"(Optional)",-1)])),_:1}),r(e(ce),{id:"notes",modelValue:e(t).notes,"onUpdate:modelValue":o[2]||(o[2]=a=>e(t).notes=a),rows:"4",disabled:e(t).processing,placeholder:"Additional notes about this role assignment, responsibilities, special conditions, or expectations...",class:"bg-background border-border text-foreground placeholder:text-muted-foreground"},null,8,["modelValue","disabled"]),e(t).errors.notes?(n(),u("div",tt,m(e(t).errors.notes),1)):c("",!0)])]),_:1})]),_:1}),d("div",rt,[r(e(P),{type:"submit",class:"w-full sm:w-auto bg-primary text-primary-foreground hover:bg-primary/90",disabled:e(t).processing},{default:s(()=>[e(t).processing?(n(),f(e(ve),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):c("",!0),e(t).processing?(n(),u("span",ot,"Creating Assignment...")):c("",!0),ie((n(),u("span",null,o[28]||(o[28]=[i("Create Role Assignment")]))),[[A]])]),_:1},8,["disabled"]),r(e(P),{as:e(me),href:l.route("admin.manager-roles.index"),variant:"secondary",class:"w-full sm:w-auto bg-secondary text-secondary-foreground hover:bg-secondary/80",disabled:e(t).processing},{default:s(()=>[r(e(xe),{class:"mr-2 h-4 w-4"}),o[29]||(o[29]=i(" Cancel "))]),_:1},8,["as","href","disabled"])])],32)])]),_:1})}}});export{Qt as default};
