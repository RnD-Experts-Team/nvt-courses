import{d as Z,r as $,c as ee,a as g,o as d,b as t,u as e,m as te,w as s,e as n,P as j,f as o,n as U,t as u,j as se,F as S,i as L,g as A,h as N,y as le,W as y}from"./app-De5aCyOy.js";import{U as ae,g as re,h as ne,i as oe,k as z,f as ue}from"./AppLayout.vue_vue_type_script_setup_true_lang-DrTEAkGA.js";import{_}from"./Button.vue_vue_type_script_setup_true_lang-C1ptny9S.js";import{_ as w}from"./Card.vue_vue_type_script_setup_true_lang-D592-r3Y.js";import{_ as k}from"./CardContent.vue_vue_type_script_setup_true_lang-BnfRKYb9.js";import{_ as de}from"./CardDescription.vue_vue_type_script_setup_true_lang-7y99tksC.js";import{_ as C}from"./CardHeader.vue_vue_type_script_setup_true_lang-B9pSfhlq.js";import{_ as h}from"./CardTitle.vue_vue_type_script_setup_true_lang-C3o6pLjC.js";import{_ as ie}from"./Input.vue_vue_type_script_setup_true_lang-XEyr05A5.js";import{_ as D}from"./index-CNloWqrH.js";import{_ as P,a as B,b as F,c as M,d as p}from"./SelectValue.vue_vue_type_script_setup_true_lang-D84q5NJt.js";import{_ as fe,a as me,b as E,c as v,d as ge,e as x}from"./TableHeader.vue_vue_type_script_setup_true_lang-CiatGxJJ.js";import{_ as _e}from"./Progress.vue_vue_type_script_setup_true_lang-XKk6VJsB.js";import{A as pe}from"./arrow-left-kG5YrchA.js";import{R as ce}from"./refresh-cw-BJXsbrVc.js";import{P as I}from"./plus-BEctqVRE.js";import{B as ve}from"./book-open-pPANAQ7D.js";import{U as xe,_ as be}from"./_plugin-vue_export-helper-DsuA5ZjC.js";import{C as ye}from"./circle-check-big-BYC-wlwA.js";import{T as we}from"./trending-up-C922m79C.js";import{F as ke}from"./filter-Ihqwk31P.js";import{S as Ce}from"./search-Cw3ar56u.js";import{E as he}from"./ellipsis-CJI811EO.js";import{E as $e}from"./eye-Jbp-o3OQ.js";import{T as Se}from"./trash-2-cH28u5cA.js";import"./index-D3npKzxP.js";import"./index-shR_F4Lk.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-UOeKMcHs.js";import"./clock-BXDw5ZYb.js";import"./useForwardPropsEmits-Cp6q3zLn.js";import"./Presence-DbAr2sRl.js";import"./ConfigProvider-B6_1veax.js";import"./useForwardExpose-Cyi8rQxf.js";import"./Teleport-swefm16Y.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-CPyPlHCY.js";import"./Collection-BDp_B7Ge.js";import"./usePrimitiveElement-B41iOtr7.js";import"./check-DTkWFW74.js";import"./useSize-CHi05SbU.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-9kO_gd9f.js";const Ae={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},Ve={class:"flex items-center justify-between"},Te={class:"flex items-center gap-4"},je={class:"flex items-center gap-2"},Ue={class:"grid gap-4 md:grid-cols-4"},Le={class:"text-2xl font-bold"},Pe={class:"text-2xl font-bold"},Be={class:"text-2xl font-bold"},Fe={class:"text-2xl font-bold"},Me={class:"grid gap-4 md:grid-cols-5"},Ne={class:"relative"},ze={class:"flex gap-2"},De={class:"flex items-center justify-between"},Ee={key:0,class:"flex flex-col items-center justify-center p-12 border-2 border-dashed border-input rounded-lg"},Ie={class:"text-muted-foreground mb-4"},Re={key:1,class:"overflow-x-auto"},Oe={class:"font-medium"},He={class:"text-sm text-muted-foreground"},We={class:"font-medium"},Ge={class:"flex items-center gap-2 mt-1"},qe={class:"text-xs text-muted-foreground"},Je={class:"space-y-2"},Ke={class:"flex items-center justify-between text-sm"},Qe={class:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700"},Xe={class:"text-sm"},Ye={class:"text-xs text-muted-foreground"},Ze={class:"text-sm font-mono"},et={key:2,class:"flex items-center justify-center space-x-2 mt-6"},tt=Z({__name:"Index",props:{assignments:{},courses:{},users:{},stats:{},filters:{}},setup(R){const b=R,O=[{title:"Online Courses",href:"/admin/course-online"},{title:"Course Assignments",href:"#"}],c=$(b.filters.search||""),i=$(b.filters.course_id||"all"),f=$(b.filters.status||"all"),m=$(b.filters.user_id||"all"),V=$(!1),H=ee(()=>{var r;return((r=b.assignments.meta)==null?void 0:r.total)??b.assignments.data.length}),W=r=>{switch(r){case"assigned":return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300";case"in_progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"completed":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},G=r=>{switch(r){case"assigned":return"Not Started";case"in_progress":return"In Progress";case"completed":return"Completed";default:return r}},q=r=>{switch(r){case"beginner":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"intermediate":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"advanced":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},J=r=>r>=80?"bg-green-500":r>=50?"bg-blue-500":r>=25?"bg-yellow-500":"bg-gray-300",K=()=>{const r=new URLSearchParams;c.value&&r.append("search",c.value),i.value&&i.value!=="all"&&r.append("course_id",i.value),f.value&&f.value!=="all"&&r.append("status",f.value),m.value&&m.value!=="all"&&r.append("user_id",m.value),y.get(route("admin.course-assignments.index"),Object.fromEntries(r))},Q=()=>{c.value="",i.value="all",f.value="all",m.value="all",y.get(route("admin.course-assignments.index"))},X=async()=>{V.value=!0;try{y.reload()}finally{setTimeout(()=>{V.value=!1},1e3)}},Y=r=>{confirm("Are you sure you want to delete this assignment? This action cannot be undone.")&&y.delete(route("admin.course-assignments.destroy",r),{onSuccess:()=>{y.reload()}})};return(r,l)=>(d(),g(S,null,[t(e(te),{title:"Course Assignments"}),t(ue,{breadcrumbs:O},{default:s(()=>[n("div",Ae,[n("div",Ve,[n("div",Te,[t(e(_),{asChild:"",variant:"ghost",size:"sm"},{default:s(()=>[t(e(j),{href:"/admin/course-online"},{default:s(()=>[t(e(pe),{class:"mr-2 h-4 w-4"}),l[4]||(l[4]=o(" Back to Courses "))]),_:1})]),_:1}),l[5]||(l[5]=n("div",null,[n("h1",{class:"text-3xl font-bold tracking-tight"},"Course Assignments"),n("p",{class:"text-muted-foreground"},"Manage and track course assignments for all users")],-1))]),n("div",je,[t(e(_),{variant:"outline",size:"sm",onClick:X,disabled:V.value},{default:s(()=>[t(e(ce),{class:U(["mr-2 h-4 w-4",{"animate-spin":V.value}])},null,8,["class"]),l[6]||(l[6]=o(" Refresh "))]),_:1},8,["disabled"]),t(e(_),{asChild:""},{default:s(()=>[t(e(j),{href:r.route("admin.course-assignments.create")},{default:s(()=>[t(e(I),{class:"mr-2 h-4 w-4"}),l[7]||(l[7]=o(" Assign Courses "))]),_:1},8,["href"])]),_:1})])]),n("div",Ue,[t(e(w),null,{default:s(()=>[t(e(C),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[t(e(h),{class:"text-sm font-medium"},{default:s(()=>l[8]||(l[8]=[o("Total Assignments")])),_:1}),t(e(ve),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),t(e(k),null,{default:s(()=>[n("div",Le,u(r.stats.total_assignments.toLocaleString()),1),l[9]||(l[9]=n("p",{class:"text-xs text-muted-foreground"}," All course assignments ",-1))]),_:1})]),_:1}),t(e(w),null,{default:s(()=>[t(e(C),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[t(e(h),{class:"text-sm font-medium"},{default:s(()=>l[10]||(l[10]=[o("Active Learners")])),_:1}),t(e(xe),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),t(e(k),null,{default:s(()=>[n("div",Pe,u(r.stats.active_assignments.toLocaleString()),1),l[11]||(l[11]=n("p",{class:"text-xs text-muted-foreground"}," Currently learning ",-1))]),_:1})]),_:1}),t(e(w),null,{default:s(()=>[t(e(C),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[t(e(h),{class:"text-sm font-medium"},{default:s(()=>l[12]||(l[12]=[o("Completed")])),_:1}),t(e(ye),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),t(e(k),null,{default:s(()=>[n("div",Be,u(r.stats.completed_assignments.toLocaleString()),1),l[13]||(l[13]=n("p",{class:"text-xs text-muted-foreground"}," Successfully finished ",-1))]),_:1})]),_:1}),t(e(w),null,{default:s(()=>[t(e(C),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[t(e(h),{class:"text-sm font-medium"},{default:s(()=>l[14]||(l[14]=[o("Avg. Progress")])),_:1}),t(e(we),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),t(e(k),null,{default:s(()=>[n("div",Fe,u(Math.round(r.stats.average_completion_rate))+"%",1),t(e(_e),{value:r.stats.average_completion_rate,class:"mt-2"},null,8,["value"])]),_:1})]),_:1})]),t(e(w),null,{default:s(()=>[t(e(C),null,{default:s(()=>[t(e(h),{class:"flex items-center gap-2"},{default:s(()=>[t(e(ke),{class:"h-5 w-5"}),l[15]||(l[15]=o(" Filters & Search "))]),_:1})]),_:1}),t(e(k),null,{default:s(()=>[n("form",{onSubmit:se(K,["prevent"]),class:"space-y-4"},[n("div",Me,[n("div",Ne,[t(e(Ce),{class:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t(e(ie),{modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=a=>c.value=a),placeholder:"Search users or courses...",class:"pl-10"},null,8,["modelValue"])]),t(e(P),{modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=a=>i.value=a)},{default:s(()=>[t(e(B),null,{default:s(()=>[t(e(F),{placeholder:"All Courses"})]),_:1}),t(e(M),null,{default:s(()=>[t(e(p),{value:"all"},{default:s(()=>l[16]||(l[16]=[o("All Courses")])),_:1}),(d(!0),g(S,null,L(r.courses,a=>(d(),A(e(p),{key:a.id,value:a.id.toString()},{default:s(()=>[o(u(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),t(e(P),{modelValue:f.value,"onUpdate:modelValue":l[2]||(l[2]=a=>f.value=a)},{default:s(()=>[t(e(B),null,{default:s(()=>[t(e(F),{placeholder:"All Statuses"})]),_:1}),t(e(M),null,{default:s(()=>[t(e(p),{value:"all"},{default:s(()=>l[17]||(l[17]=[o("All Statuses")])),_:1}),t(e(p),{value:"assigned"},{default:s(()=>l[18]||(l[18]=[o("Not Started")])),_:1}),t(e(p),{value:"in_progress"},{default:s(()=>l[19]||(l[19]=[o("In Progress")])),_:1}),t(e(p),{value:"completed"},{default:s(()=>l[20]||(l[20]=[o("Completed")])),_:1})]),_:1})]),_:1},8,["modelValue"]),t(e(P),{modelValue:m.value,"onUpdate:modelValue":l[3]||(l[3]=a=>m.value=a)},{default:s(()=>[t(e(B),null,{default:s(()=>[t(e(F),{placeholder:"All Users"})]),_:1}),t(e(M),null,{default:s(()=>[t(e(p),{value:"all"},{default:s(()=>l[21]||(l[21]=[o("All Users")])),_:1}),(d(!0),g(S,null,L(r.users,a=>(d(),A(e(p),{key:a.id,value:a.id.toString()},{default:s(()=>[o(u(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),n("div",ze,[t(e(_),{type:"submit",class:"flex-1"},{default:s(()=>l[22]||(l[22]=[o(" Apply ")])),_:1}),t(e(_),{type:"button",variant:"outline",onClick:Q},{default:s(()=>l[23]||(l[23]=[o(" Clear ")])),_:1})])])],32)]),_:1})]),_:1}),t(e(w),null,{default:s(()=>[t(e(C),null,{default:s(()=>[n("div",De,[n("div",null,[t(e(h),null,{default:s(()=>l[24]||(l[24]=[o("Assignment List")])),_:1}),t(e(de),null,{default:s(()=>{var a,T;return[o(" Showing "+u(((a=r.assignments.meta)==null?void 0:a.from)||1)+" to "+u(((T=r.assignments.meta)==null?void 0:T.to)||r.assignments.data.length)+" of "+u(H.value)+" assignments ",1)]}),_:1})])])]),_:1}),t(e(k),null,{default:s(()=>[r.assignments.data.length===0?(d(),g("div",Ee,[t(e(ae),{class:"h-16 w-16 text-muted-foreground mb-4"}),l[26]||(l[26]=n("h3",{class:"text-lg font-medium mb-2"},"No assignments found",-1)),n("p",Ie,u(c.value||i.value!=="all"||f.value!=="all"||m.value!=="all"?"Try adjusting your filters":"Get started by assigning courses to users"),1),!c.value&&i.value==="all"&&f.value==="all"&&m.value==="all"?(d(),A(e(_),{key:0,asChild:""},{default:s(()=>[t(e(j),{href:r.route("admin.course-assignments.create")},{default:s(()=>[t(e(I),{class:"mr-2 h-4 w-4"}),l[25]||(l[25]=o(" Assign Courses "))]),_:1},8,["href"])]),_:1})):N("",!0)])):(d(),g("div",Re,[t(e(fe),null,{default:s(()=>[t(e(me),null,{default:s(()=>[t(e(E),null,{default:s(()=>[t(e(v),null,{default:s(()=>l[27]||(l[27]=[o("Student")])),_:1}),t(e(v),null,{default:s(()=>l[28]||(l[28]=[o("Course")])),_:1}),t(e(v),null,{default:s(()=>l[29]||(l[29]=[o("Progress")])),_:1}),t(e(v),null,{default:s(()=>l[30]||(l[30]=[o("Status")])),_:1}),t(e(v),null,{default:s(()=>l[31]||(l[31]=[o("Assigned Date")])),_:1}),t(e(v),null,{default:s(()=>l[32]||(l[32]=[o("Time Spent")])),_:1}),t(e(v),null,{default:s(()=>l[33]||(l[33]=[o("Actions")])),_:1})]),_:1})]),_:1}),t(e(ge),null,{default:s(()=>[(d(!0),g(S,null,L(r.assignments.data,a=>(d(),A(e(E),{key:a.id,class:"hover:bg-muted/50"},{default:s(()=>[t(e(x),null,{default:s(()=>[n("div",null,[n("div",Oe,u(a.user.name),1),n("div",He,u(a.user.email),1)])]),_:2},1024),t(e(x),null,{default:s(()=>[n("div",null,[n("div",We,u(a.course.name),1),n("div",Ge,[t(e(D),{class:U([q(a.course.difficulty_level),"text-xs"])},{default:s(()=>[o(u(a.course.difficulty_level),1)]),_:2},1032,["class"]),n("span",qe,u(a.course.estimated_duration)+"min ",1)])])]),_:2},1024),t(e(x),null,{default:s(()=>[n("div",Je,[n("div",Ke,[n("span",null,u(Math.round(a.progress_percentage))+"%",1)]),n("div",Qe,[n("div",{class:U([J(a.progress_percentage),"h-2 rounded-full transition-all duration-300"]),style:le({width:`${Math.min(a.progress_percentage,100)}%`})},null,6)])])]),_:2},1024),t(e(x),null,{default:s(()=>[t(e(D),{class:U(W(a.status))},{default:s(()=>[o(u(G(a.status)),1)]),_:2},1032,["class"])]),_:2},1024),t(e(x),null,{default:s(()=>[n("div",Xe,u(a.assigned_at),1),n("div",Ye," by "+u(a.assigned_by.name),1)]),_:2},1024),t(e(x),null,{default:s(()=>[n("div",Ze,u(a.time_spent),1)]),_:2},1024),t(e(x),null,{default:s(()=>[t(e(re),null,{default:s(()=>[t(e(ne),{asChild:""},{default:s(()=>[t(e(_),{variant:"ghost",size:"sm"},{default:s(()=>[t(e(he),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(oe),{align:"end"},{default:s(()=>[t(e(z),{asChild:""},{default:s(()=>[t(e(j),{href:r.route("admin.course-assignments.show",a.id)},{default:s(()=>[t(e($e),{class:"mr-2 h-4 w-4"}),l[34]||(l[34]=o(" View Details "))]),_:2},1032,["href"])]),_:2},1024),t(e(z),{onClick:T=>Y(a.id),class:"text-destructive"},{default:s(()=>[t(e(Se),{class:"mr-2 h-4 w-4"}),l[35]||(l[35]=o(" Delete Assignment "))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])),r.assignments.links&&r.assignments.links.length>3?(d(),g("div",et,[(d(!0),g(S,null,L(r.assignments.links,a=>(d(),A(e(_),{key:a.label,variant:a.active?"default":"outline",disabled:!a.url,size:"sm",onClick:T=>a.url&&e(y).get(a.url),innerHTML:a.label},null,8,["variant","disabled","onClick","innerHTML"]))),128))])):N("",!0)]),_:1})]),_:1})])]),_:1})],64))}}),Wt=be(tt,[["__scopeId","data-v-17989ac2"]]);export{Wt as default};
