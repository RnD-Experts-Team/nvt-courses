import{S as q,_ as H,a as G}from"./ClockInModal-W0tIq6aN.js";import{r as c,a as _,o as u,e as i,b as e,h as x,w as a,f as o,u as t,g as w,F as I,i as M,t as f,n as J}from"./app-De5aCyOy.js";import{_ as C}from"./Button.vue_vue_type_script_setup_true_lang-C1ptny9S.js";import{_ as O}from"./Card.vue_vue_type_script_setup_true_lang-D592-r3Y.js";import{_ as K}from"./CardContent.vue_vue_type_script_setup_true_lang-BnfRKYb9.js";import{_ as Q}from"./CardDescription.vue_vue_type_script_setup_true_lang-7y99tksC.js";import{_ as U}from"./CardHeader.vue_vue_type_script_setup_true_lang-B9pSfhlq.js";import{_ as W}from"./CardTitle.vue_vue_type_script_setup_true_lang-C3o6pLjC.js";import{_ as X}from"./index-CNloWqrH.js";import{_ as Y,a as Z,b,c as m,d as tt,e as d}from"./TableHeader.vue_vue_type_script_setup_true_lang-CiatGxJJ.js";import{P as T}from"./play-CqouLqeA.js";import{A as V}from"./activity-DLqIsvcX.js";import{C as et}from"./calendar-BbiMWXwU.js";import{C as A}from"./clock-BXDw5ZYb.js";import{T as st}from"./timer-Dxqjdf0U.js";import{S as N}from"./star-BP7x_abV.js";import{E as at}from"./eye-Jbp-o3OQ.js";const lt={class:"space-y-6"},nt={class:"flex justify-between items-center"},ot={class:"overflow-x-auto"},it={class:"flex items-center gap-1"},ut={class:"flex items-center gap-1"},rt={class:"flex items-center gap-1"},ft={class:"flex items-center gap-1"},dt={class:"flex items-center gap-1"},mt={key:0,class:"flex items-center gap-1"},ct={key:1,class:"text-muted-foreground"},_t={class:"flex items-center justify-end gap-2"},gt={class:"flex flex-col items-center gap-2"},pt={key:0,class:"flex justify-center"},vt={class:"text-sm text-muted-foreground text-center"},Rt={__name:"Index",props:{attendanceRecords:{type:Array,default:()=>[]},pagination:{type:Object,default:null}},setup(r){const g=c(!1),p=c(!1),v=c(null),h=c({rating:3,comment:""}),y=c(!1),$=c(!1);function R(l){return l?new Date(l).toLocaleDateString():"—"}function S(l){return l?new Date(l).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"—"}function j(l){if(!l)return"—";const s=Math.floor(l/60),n=l%60;return`${s}h ${n}m`}function B(l){return{in_progress:"In Progress",completed:"Completed",missed:"Missed"}[l]||l}function z(l){return l==="completed"?"default":l==="in_progress"?"secondary":l==="missed"?"destructive":"outline"}function D(){g.value=!0}function E(l){v.value=l,h.value={rating:3,comment:""},p.value=!0}function F(l){console.log("View details for record:",l)}function L(l){y.value=!0,setTimeout(()=>{console.log("Clock in data:",l),y.value=!1,g.value=!1},1e3)}function P(l){v.value&&($.value=!0,setTimeout(()=>{console.log("Clock out data for record:",v.value.id,l),$.value=!1,p.value=!1,v.value=null},1e3))}return(l,s)=>(u(),_("div",lt,[i("div",nt,[s[3]||(s[3]=i("div",null,[i("h1",{class:"text-2xl font-bold"},"Attendance Records"),i("p",{class:"text-muted-foreground mt-1"},"Track and manage your attendance history")],-1)),e(t(C),{onClick:D},{default:a(()=>[e(t(T),{class:"h-4 w-4 mr-2"}),s[2]||(s[2]=o(" Clock In "))]),_:1})]),e(t(O),null,{default:a(()=>[e(t(U),null,{default:a(()=>[e(t(W),{class:"flex items-center gap-2"},{default:a(()=>[e(t(V),{class:"h-5 w-5"}),s[4]||(s[4]=o(" Attendance History "))]),_:1}),e(t(Q),null,{default:a(()=>s[5]||(s[5]=[o(" View your complete attendance records and manage active sessions ")])),_:1})]),_:1}),e(t(K),{class:"p-0"},{default:a(()=>[i("div",ot,[e(t(Y),null,{default:a(()=>[e(t(Z),null,{default:a(()=>[e(t(b),null,{default:a(()=>[e(t(m),{class:"w-[120px]"},{default:a(()=>[i("div",it,[e(t(et),{class:"h-4 w-4"}),s[6]||(s[6]=o(" Date "))])]),_:1}),e(t(m),null,{default:a(()=>[i("div",ut,[e(t(A),{class:"h-4 w-4"}),s[7]||(s[7]=o(" Clock In "))])]),_:1}),e(t(m),null,{default:a(()=>[i("div",rt,[e(t(A),{class:"h-4 w-4"}),s[8]||(s[8]=o(" Clock Out "))])]),_:1}),e(t(m),null,{default:a(()=>[i("div",ft,[e(t(st),{class:"h-4 w-4"}),s[9]||(s[9]=o(" Duration "))])]),_:1}),e(t(m),null,{default:a(()=>[i("div",dt,[e(t(N),{class:"h-4 w-4"}),s[10]||(s[10]=o(" Rating "))])]),_:1}),e(t(m),null,{default:a(()=>s[11]||(s[11]=[o("Status")])),_:1}),e(t(m),{class:"text-right"},{default:a(()=>s[12]||(s[12]=[o("Actions")])),_:1})]),_:1})]),_:1}),e(t(tt),null,{default:a(()=>[(u(!0),_(I,null,M(r.attendanceRecords,n=>(u(),w(t(b),{key:n.id,class:"hover:bg-accent/50"},{default:a(()=>[e(t(d),{class:"font-medium"},{default:a(()=>[o(f(R(n.date)),1)]),_:2},1024),e(t(d),null,{default:a(()=>[o(f(S(n.clock_in_time)),1)]),_:2},1024),e(t(d),null,{default:a(()=>[o(f(n.clock_out_time?S(n.clock_out_time):"—"),1)]),_:2},1024),e(t(d),null,{default:a(()=>[o(f(n.duration?j(n.duration):"—"),1)]),_:2},1024),e(t(d),null,{default:a(()=>[n.rating?(u(),_("div",mt,[(u(),_(I,null,M(5,k=>e(t(N),{key:k,class:J(["h-4 w-4",k<=n.rating?"text-yellow-400 fill-current":"text-muted-foreground"])},null,8,["class"])),64))])):(u(),_("span",ct,"—"))]),_:2},1024),e(t(d),null,{default:a(()=>[e(t(X),{variant:z(n.status)},{default:a(()=>[o(f(B(n.status)),1)]),_:2},1032,["variant"])]),_:2},1024),e(t(d),{class:"text-right"},{default:a(()=>[i("div",_t,[n.status==="in_progress"?(u(),w(t(C),{key:0,onClick:k=>E(n),variant:"destructive",size:"sm"},{default:a(()=>[e(t(q),{class:"h-4 w-4 mr-1"}),s[13]||(s[13]=o(" Clock Out "))]),_:2},1032,["onClick"])):x("",!0),n.status==="completed"?(u(),w(t(C),{key:1,onClick:k=>F(n),variant:"outline",size:"sm"},{default:a(()=>[e(t(at),{class:"h-4 w-4 mr-1"}),s[14]||(s[14]=o(" View "))]),_:2},1032,["onClick"])):x("",!0)])]),_:2},1024)]),_:2},1024))),128)),r.attendanceRecords.length===0?(u(),w(t(b),{key:0},{default:a(()=>[e(t(d),{colspan:"7",class:"text-center py-12"},{default:a(()=>[i("div",gt,[e(t(V),{class:"h-12 w-12 text-muted-foreground"}),s[16]||(s[16]=i("div",null,[i("h3",{class:"font-medium"},"No attendance records found"),i("p",{class:"text-sm text-muted-foreground"},"Start by clocking in to create your first record")],-1)),e(t(C),{onClick:D,class:"mt-2"},{default:a(()=>[e(t(T),{class:"h-4 w-4 mr-2"}),s[15]||(s[15]=o(" Clock In Now "))]),_:1})])]),_:1})]),_:1})):x("",!0)]),_:1})]),_:1})])]),_:1})]),_:1}),r.pagination&&r.pagination.total>r.pagination.per_page?(u(),_("div",pt,[e(t(O),{class:"p-4"},{default:a(()=>[i("div",vt," Showing "+f(r.pagination.from)+" - "+f(r.pagination.to)+" of "+f(r.pagination.total)+" records ",1)]),_:1})])):x("",!0),e(H,{show:g.value,"is-submitting":y.value,onClose:s[0]||(s[0]=n=>g.value=!1),onSubmit:L},null,8,["show","is-submitting"]),e(G,{show:p.value,"initial-form":h.value,"is-submitting":$.value,onClose:s[1]||(s[1]=n=>p.value=!1),onSubmit:P},null,8,["show","initial-form","is-submitting"])]))}};export{Rt as default};
