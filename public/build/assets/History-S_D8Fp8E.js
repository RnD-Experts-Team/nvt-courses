import{d as V,c as S,a as g,o as n,b as e,u as s,m as O,w as t,e as l,g as d,h as w,P as h,f as u,t as i,n as Q,F as k,i as C,W as T}from"./app-De5aCyOy.js";import{f as F}from"./AppLayout.vue_vue_type_script_setup_true_lang-DrTEAkGA.js";import{_ as f}from"./Button.vue_vue_type_script_setup_true_lang-C1ptny9S.js";import{_ as c}from"./Card.vue_vue_type_script_setup_true_lang-D592-r3Y.js";import{_}from"./CardContent.vue_vue_type_script_setup_true_lang-BnfRKYb9.js";import{_ as H}from"./CardDescription.vue_vue_type_script_setup_true_lang-7y99tksC.js";import{_ as E}from"./CardHeader.vue_vue_type_script_setup_true_lang-B9pSfhlq.js";import{_ as I}from"./CardTitle.vue_vue_type_script_setup_true_lang-C3o6pLjC.js";import{_ as y}from"./index-CNloWqrH.js";import{_ as L,a as R,b as j,c as p,d as W,e as x}from"./TableHeader.vue_vue_type_script_setup_true_lang-CiatGxJJ.js";import{A as U}from"./arrow-left-kG5YrchA.js";import{P as b}from"./play-CqouLqeA.js";import{C as X}from"./clock-BXDw5ZYb.js";import{T as P}from"./target-CkYXQ-0W.js";import{C as v}from"./circle-check-big-BYC-wlwA.js";import{C as z}from"./circle-x-qrbwyPjC.js";import{E as A}from"./eye-Jbp-o3OQ.js";import"./index-D3npKzxP.js";import"./index-shR_F4Lk.js";import"./_plugin-vue_export-helper-DsuA5ZjC.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-UOeKMcHs.js";const Y={class:"max-w-4xl mx-auto space-y-4 sm:space-y-6 px-4 sm:px-6 py-4 sm:py-0"},G={class:"flex flex-col sm:flex-row items-start sm:items-center sm:justify-between gap-3 sm:gap-4"},J={class:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 w-full sm:w-auto"},K={class:"flex-1 min-w-0"},Z={class:"text-sm sm:text-base text-muted-foreground break-words"},ss={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4"},es={class:"flex items-center gap-3"},ts={class:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center flex-shrink-0"},ls={class:"min-w-0"},os={class:"text-xl sm:text-2xl font-bold"},as={class:"text-xs sm:text-sm text-muted-foreground break-words"},rs={class:"flex items-center gap-3"},is={class:"w-10 h-10 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center flex-shrink-0"},us={class:"min-w-0"},ns={class:"text-xl sm:text-2xl font-bold"},ds={class:"flex items-center gap-3"},ms={class:"w-10 h-10 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center flex-shrink-0"},fs={class:"min-w-0"},cs={class:"text-xl sm:text-2xl font-bold"},_s={class:"flex items-center gap-3"},ps={class:"min-w-0"},xs={class:"text-base sm:text-lg font-bold break-words"},gs={key:0,class:"block sm:hidden space-y-3"},hs={class:"flex items-center justify-between"},ws={class:"space-y-2 text-sm"},ys={class:"flex justify-between"},ks={class:"font-medium"},bs={class:"flex justify-between"},vs={class:"flex justify-between"},zs={class:"text-right"},qs={class:"hidden sm:block overflow-x-auto"},$s={class:"font-medium"},Ss={class:"text-sm text-muted-foreground"},Cs={key:1,class:"text-center py-8 sm:py-12 text-muted-foreground text-sm sm:text-base"},Gs=V({__name:"History",props:{module:{},course:{},quiz:{},attempts:{},quizStatus:{}},setup(D){const m=D,M=[{name:"My Courses",href:"/courses-online"},{name:m.course.name,href:`/courses-online/${m.course.id}`},{name:m.module.name,href:`/courses-online/${m.course.id}`},{name:"Quiz History",href:""}],q=a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),$=S(()=>m.attempts.some(a=>!a.completed_at)),B=S(()=>!m.quizStatus.passed&&(m.quizStatus.attempts_used<m.quiz.max_attempts||$.value)),N=()=>{T.post(route("courses-online.modules.quiz.start",{courseOnline:m.course.id,courseModule:m.module.id}))};return(a,o)=>(n(),g(k,null,[e(s(O),{title:`Quiz History - ${a.module.name}`},null,8,["title"]),e(F,{breadcrumbs:M},{default:t(()=>[l("div",Y,[l("div",G,[l("div",J,[e(s(f),{"as-child":"",variant:"ghost",size:"sm",class:"w-full sm:w-auto"},{default:t(()=>[e(s(h),{href:`/courses-online/${a.course.id}`,class:"flex items-center justify-center"},{default:t(()=>[e(s(U),{class:"h-4 w-4 mr-2"}),o[0]||(o[0]=u(" Back "))]),_:1},8,["href"])]),_:1}),l("div",K,[o[1]||(o[1]=l("h1",{class:"text-xl sm:text-2xl font-bold break-words"},"Quiz History",-1)),l("p",Z,i(a.quiz.title),1)])]),B.value?(n(),d(s(f),{key:0,onClick:N,class:"w-full sm:w-auto flex-shrink-0"},{default:t(()=>[e(s(b),{class:"h-4 w-4 mr-2"}),u(" "+i($.value?"Continue":"Try Again"),1)]),_:1})):w("",!0)]),l("div",ss,[e(s(c),null,{default:t(()=>[e(s(_),{class:"pt-4 sm:pt-6"},{default:t(()=>[l("div",es,[l("div",ts,[e(s(X),{class:"h-5 w-5 text-blue-600 dark:text-blue-400"})]),l("div",ls,[l("p",os,i(a.quizStatus.attempts_used),1),l("p",as,"of "+i(a.quiz.max_attempts)+" attempts",1)])])]),_:1})]),_:1}),e(s(c),null,{default:t(()=>[e(s(_),{class:"pt-4 sm:pt-6"},{default:t(()=>[l("div",rs,[l("div",is,[e(s(P),{class:"h-5 w-5 text-green-600 dark:text-green-400"})]),l("div",us,[l("p",ns,i(a.quizStatus.best_percentage??0)+"%",1),o[2]||(o[2]=l("p",{class:"text-xs sm:text-sm text-muted-foreground"},"Best Score",-1))])])]),_:1})]),_:1}),e(s(c),null,{default:t(()=>[e(s(_),{class:"pt-4 sm:pt-6"},{default:t(()=>[l("div",ds,[l("div",ms,[e(s(P),{class:"h-5 w-5 text-purple-600 dark:text-purple-400"})]),l("div",fs,[l("p",cs,i(a.quiz.pass_threshold)+"%",1),o[3]||(o[3]=l("p",{class:"text-xs sm:text-sm text-muted-foreground"},"Pass Threshold",-1))])])]),_:1})]),_:1}),e(s(c),null,{default:t(()=>[e(s(_),{class:"pt-4 sm:pt-6"},{default:t(()=>[l("div",_s,[l("div",{class:Q(["w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0",a.quizStatus.passed?"bg-green-100 dark:bg-green-900":"bg-orange-100 dark:bg-orange-900"])},[a.quizStatus.passed?(n(),d(s(v),{key:0,class:"h-5 w-5 text-green-600 dark:text-green-400"})):(n(),d(s(z),{key:1,class:"h-5 w-5 text-orange-600 dark:text-orange-400"}))],2),l("div",ps,[l("p",xs,i(a.quizStatus.passed?"Passed":"Not Passed"),1),o[4]||(o[4]=l("p",{class:"text-xs sm:text-sm text-muted-foreground"},"Status",-1))])])]),_:1})]),_:1})]),e(s(c),null,{default:t(()=>[e(s(E),null,{default:t(()=>[e(s(I),{class:"text-base sm:text-lg"},{default:t(()=>o[5]||(o[5]=[u("All Attempts")])),_:1}),e(s(H),{class:"text-sm"},{default:t(()=>o[6]||(o[6]=[u("Your quiz attempt history")])),_:1})]),_:1}),e(s(_),null,{default:t(()=>[a.attempts.length>0?(n(),g("div",gs,[(n(!0),g(k,null,C(a.attempts,r=>(n(),d(s(c),{key:r.id,class:"border"},{default:t(()=>[e(s(_),{class:"p-4 space-y-3"},{default:t(()=>[l("div",hs,[e(s(y),{variant:"outline"},{default:t(()=>[u("#"+i(r.attempt_number),1)]),_:2},1024),e(s(y),{variant:r.passed?"default":"destructive"},{default:t(()=>[r.passed?(n(),d(s(v),{key:0,class:"h-3 w-3 mr-1"})):(n(),d(s(z),{key:1,class:"h-3 w-3 mr-1"})),u(" "+i(r.passed?"Passed":"Failed"),1)]),_:2},1032,["variant"])]),l("div",ws,[l("div",ys,[o[7]||(o[7]=l("span",{class:"text-muted-foreground"},"Score:",-1)),l("span",ks,i(r.score)+" / "+i(a.quiz.total_points)+" ("+i(r.score_percentage)+"%)",1)]),l("div",bs,[o[8]||(o[8]=l("span",{class:"text-muted-foreground"},"Duration:",-1)),l("span",null,i(r.duration_minutes?`${Math.floor(r.duration_minutes)} min`:"-"),1)]),l("div",vs,[o[9]||(o[9]=l("span",{class:"text-muted-foreground"},"Date:",-1)),l("span",zs,i(r.completed_at?q(r.completed_at):"In Progress"),1)])]),r.completed_at?(n(),d(s(f),{key:0,"as-child":"",variant:"outline",size:"sm",class:"w-full"},{default:t(()=>[e(s(h),{href:a.route("courses-online.modules.quiz.result",{courseOnline:a.course.id,courseModule:a.module.id,attempt:r.id}),class:"flex items-center justify-center"},{default:t(()=>[e(s(A),{class:"h-4 w-4 mr-2"}),o[10]||(o[10]=u(" View Result "))]),_:2},1032,["href"])]),_:2},1024)):(n(),d(s(f),{key:1,"as-child":"",variant:"default",size:"sm",class:"w-full"},{default:t(()=>[e(s(h),{href:a.route("courses-online.modules.quiz.take",{courseOnline:a.course.id,courseModule:a.module.id,attempt:r.id}),class:"flex items-center justify-center"},{default:t(()=>[e(s(b),{class:"h-4 w-4 mr-2"}),o[11]||(o[11]=u(" Continue Quiz "))]),_:2},1032,["href"])]),_:2},1024))]),_:2},1024)]),_:2},1024))),128))])):w("",!0),l("div",qs,[a.attempts.length>0?(n(),d(s(L),{key:0},{default:t(()=>[e(s(R),null,{default:t(()=>[e(s(j),null,{default:t(()=>[e(s(p),null,{default:t(()=>o[12]||(o[12]=[u("Attempt")])),_:1}),e(s(p),null,{default:t(()=>o[13]||(o[13]=[u("Score")])),_:1}),e(s(p),null,{default:t(()=>o[14]||(o[14]=[u("Status")])),_:1}),e(s(p),null,{default:t(()=>o[15]||(o[15]=[u("Duration")])),_:1}),e(s(p),null,{default:t(()=>o[16]||(o[16]=[u("Date")])),_:1}),e(s(p),{class:"text-right"},{default:t(()=>o[17]||(o[17]=[u("Action")])),_:1})]),_:1})]),_:1}),e(s(W),null,{default:t(()=>[(n(!0),g(k,null,C(a.attempts,r=>(n(),d(s(j),{key:r.id},{default:t(()=>[e(s(x),null,{default:t(()=>[e(s(y),{variant:"outline"},{default:t(()=>[u("#"+i(r.attempt_number),1)]),_:2},1024)]),_:2},1024),e(s(x),null,{default:t(()=>[l("div",null,[l("p",$s,i(r.score)+" / "+i(a.quiz.total_points),1),l("p",Ss,i(r.score_percentage)+"%",1)])]),_:2},1024),e(s(x),null,{default:t(()=>[e(s(y),{variant:r.passed?"default":"destructive"},{default:t(()=>[r.passed?(n(),d(s(v),{key:0,class:"h-3 w-3 mr-1"})):(n(),d(s(z),{key:1,class:"h-3 w-3 mr-1"})),u(" "+i(r.passed?"Passed":"Failed"),1)]),_:2},1032,["variant"])]),_:2},1024),e(s(x),null,{default:t(()=>[u(i(r.duration_minutes?`${Math.floor(r.duration_minutes)} min`:"-"),1)]),_:2},1024),e(s(x),null,{default:t(()=>[u(i(r.completed_at?q(r.completed_at):"In Progress"),1)]),_:2},1024),e(s(x),{class:"text-right"},{default:t(()=>[r.completed_at?(n(),d(s(f),{key:0,"as-child":"",variant:"ghost",size:"sm"},{default:t(()=>[e(s(h),{href:a.route("courses-online.modules.quiz.result",{courseOnline:a.course.id,courseModule:a.module.id,attempt:r.id})},{default:t(()=>[e(s(A),{class:"h-4 w-4 mr-1"}),o[18]||(o[18]=u(" View "))]),_:2},1032,["href"])]),_:2},1024)):(n(),d(s(f),{key:1,"as-child":"",variant:"default",size:"sm"},{default:t(()=>[e(s(h),{href:a.route("courses-online.modules.quiz.take",{courseOnline:a.course.id,courseModule:a.module.id,attempt:r.id})},{default:t(()=>[e(s(b),{class:"h-4 w-4 mr-1"}),o[19]||(o[19]=u(" Continue "))]),_:2},1032,["href"])]),_:2},1024))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):w("",!0)]),a.attempts.length===0?(n(),g("div",Cs," No attempts yet. Start your first quiz attempt! ")):w("",!0)]),_:1})]),_:1})])]),_:1})],64))}});export{Gs as default};
