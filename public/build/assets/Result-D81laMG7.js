import{d as O,a as u,o as l,b as a,u as t,m as P,w as n,e as s,g as i,h as c,n as _,t as o,P as w,f as p,F as h,i as Q,W}from"./app-De5aCyOy.js";import{H as D,f as X}from"./AppLayout.vue_vue_type_script_setup_true_lang-DrTEAkGA.js";import{_ as x}from"./Button.vue_vue_type_script_setup_true_lang-C1ptny9S.js";import{_ as T}from"./Card.vue_vue_type_script_setup_true_lang-D592-r3Y.js";import{_ as S}from"./CardContent.vue_vue_type_script_setup_true_lang-BnfRKYb9.js";import{_ as G}from"./CardDescription.vue_vue_type_script_setup_true_lang-7y99tksC.js";import{_ as J}from"./CardHeader.vue_vue_type_script_setup_true_lang-B9pSfhlq.js";import{_ as K}from"./CardTitle.vue_vue_type_script_setup_true_lang-C3o6pLjC.js";import{_ as V}from"./index-CNloWqrH.js";import{_ as U,a as Z}from"./index-Bl7hX8X-.js";import{T as I}from"./trophy-B-lSYcu6.js";import{C as g}from"./circle-x-qrbwyPjC.js";import{A as q}from"./arrow-left-kG5YrchA.js";import{R as ee}from"./refresh-cw-BJXsbrVc.js";import{A as se}from"./arrow-right-D3DSCtl7.js";import{C as H}from"./circle-check-big-BYC-wlwA.js";import"./index-D3npKzxP.js";import"./index-shR_F4Lk.js";import"./_plugin-vue_export-helper-DsuA5ZjC.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-UOeKMcHs.js";import"./clock-BXDw5ZYb.js";const te={class:"max-w-4xl mx-auto space-y-4 sm:space-y-6 px-4 sm:px-6 py-4 sm:py-0"},re={class:"text-center space-y-3 sm:space-y-4"},ae={class:"text-sm sm:text-base text-muted-foreground mt-1 break-words"},oe={class:"flex items-center justify-center gap-4 sm:gap-8 pt-3 sm:pt-4"},ne={class:"text-center"},le={class:"text-2xl sm:text-4xl font-bold"},de={class:"text-xs sm:text-sm text-muted-foreground"},me={class:"text-center"},ie={class:"text-2xl sm:text-4xl font-bold"},ue={class:"text-center"},ce={class:"text-2xl sm:text-4xl font-bold"},pe={class:"text-xs sm:text-sm text-muted-foreground"},fe={class:"flex flex-col sm:flex-row gap-2 sm:gap-3"},_e={class:"hidden sm:inline"},xe={class:"truncate"},we={class:"flex items-start justify-between gap-2 sm:gap-4"},he={class:"flex flex-wrap items-center gap-2"},ge={class:"flex-shrink-0"},be={class:"font-medium text-sm sm:text-base break-words"},ke={key:0,class:"space-y-2"},ye={key:1,class:"bg-muted p-3 rounded"},ve={class:"text-sm sm:text-base break-words"},Ce={key:2,class:"bg-blue-50 dark:bg-blue-950 p-3 rounded"},$e={class:"text-xs sm:text-sm text-blue-600 dark:text-blue-400 break-words"},Ge=O({__name:"Result",props:{module:{},course:{},quiz:{},attempt:{},questions:{},showCorrectAnswers:{type:Boolean},quizStatus:{},canRetake:{},nextModule:{}},setup(Y){const f=Y,E=[{name:"My Courses",href:"/courses-online"},{name:f.course.name,href:`/courses-online/${f.course.id}`},{name:f.module.name,href:`/courses-online/${f.course.id}`},{name:"Quiz Result",href:""}],F=()=>{W.post(route("courses-online.modules.quiz.start",{courseOnline:f.course.id,courseModule:f.module.id}))};return(e,d)=>(l(),u(h,null,[a(t(P),{title:`Quiz Result - ${e.module.name}`},null,8,["title"]),a(X,{breadcrumbs:E},{default:n(()=>{var b;return[s("div",te,[a(t(T),{class:_(e.attempt.passed?"border-green-500 bg-green-50 dark:bg-green-950":"border-red-500 bg-red-50 dark:bg-red-950")},{default:n(()=>[a(t(S),{class:"pt-4 sm:pt-6"},{default:n(()=>[s("div",re,[s("div",{class:_(["w-16 h-16 sm:w-20 sm:h-20 mx-auto rounded-full flex items-center justify-center",e.attempt.passed?"bg-green-100 dark:bg-green-900":"bg-red-100 dark:bg-red-900"])},[e.attempt.passed?(l(),i(t(I),{key:0,class:"h-8 w-8 sm:h-10 sm:w-10 text-green-600 dark:text-green-400"})):(l(),i(t(g),{key:1,class:"h-8 w-8 sm:h-10 sm:w-10 text-red-600 dark:text-red-400"}))],2),s("div",null,[s("h1",{class:_(["text-2xl sm:text-3xl font-bold break-words",e.attempt.passed?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"])},o(e.attempt.passed?"Congratulations!":"Not Quite There"),3),s("p",ae,o(e.attempt.passed?"You passed the quiz!":`You need ${e.quiz.pass_threshold}% to pass`),1)]),s("div",oe,[s("div",ne,[s("p",le,o(e.attempt.score),1),s("p",de,"out of "+o(e.quiz.total_points),1)]),s("div",me,[s("p",ie,o(e.attempt.score_percentage)+"%",1),d[0]||(d[0]=s("p",{class:"text-xs sm:text-sm text-muted-foreground"},"Score",-1))]),s("div",ue,[s("p",ce,o(Math.floor(e.attempt.duration_minutes)),1),s("p",pe,o(e.attempt.duration_minutes===1?"Minute":"Minutes"),1)])])])]),_:1})]),_:1},8,["class"]),s("div",fe,[a(t(x),{"as-child":"",variant:"outline",class:"flex-1 w-full sm:w-auto"},{default:n(()=>[a(t(w),{href:`/courses-online/${e.course.id}`,class:"flex items-center justify-center"},{default:n(()=>[a(t(q),{class:"h-4 w-4 mr-2"}),d[1]||(d[1]=p(" Back to Course "))]),_:1},8,["href"])]),_:1}),e.canRetake.can_take&&!e.attempt.passed?(l(),i(t(x),{key:0,onClick:F,class:"flex-1 w-full sm:w-auto"},{default:n(()=>[a(t(ee),{class:"h-4 w-4 mr-2"}),s("span",_e,"Try Again ("+o(e.quizStatus.attempts_used)+"/"+o(e.quiz.max_attempts)+")",1),d[2]||(d[2]=s("span",{class:"sm:hidden"},"Try Again",-1))]),_:1})):c("",!0),e.attempt.passed&&((b=e.nextModule)!=null&&b.is_unlocked)?(l(),i(t(x),{key:1,"as-child":"",class:"flex-1 w-full sm:w-auto"},{default:n(()=>[a(t(w),{href:e.nextModule.first_content_id?`/content/${e.nextModule.first_content_id}`:`/courses-online/${e.course.id}`,class:"flex items-center justify-center"},{default:n(()=>[s("span",xe,"Continue to "+o(e.nextModule.name),1),a(t(se),{class:"h-4 w-4 ml-2 flex-shrink-0"})]),_:1},8,["href"])]),_:1})):c("",!0),a(t(x),{"as-child":"",variant:"outline",class:"w-full sm:w-auto"},{default:n(()=>[a(t(w),{href:e.route("courses-online.modules.quiz.history",{courseOnline:e.course.id,courseModule:e.module.id}),class:"flex items-center justify-center"},{default:n(()=>[a(t(D),{class:"h-4 w-4 mr-2"}),d[3]||(d[3]=p(" History "))]),_:1},8,["href"])]),_:1})]),!e.canRetake.can_take&&!e.attempt.passed?(l(),i(t(U),{key:0},{default:n(()=>[a(t(g),{class:"h-4 w-4"}),a(t(Z),null,{default:n(()=>[p(o(e.canRetake.message),1)]),_:1})]),_:1})):c("",!0),a(t(T),null,{default:n(()=>[a(t(J),null,{default:n(()=>[a(t(K),{class:"text-base sm:text-lg"},{default:n(()=>d[4]||(d[4]=[p("Question Review")])),_:1}),a(t(G),{class:"text-sm"},{default:n(()=>[p(o(e.showCorrectAnswers?"Review your answers and see the correct solutions":"Review your submitted answers"),1)]),_:1})]),_:1}),a(t(S),{class:"space-y-4 sm:space-y-6"},{default:n(()=>[(l(!0),u(h,null,Q(e.questions,(r,L)=>{var k,y;return l(),u("div",{key:r.id,class:"border rounded-lg p-3 sm:p-4 space-y-3"},[s("div",we,[s("div",he,[a(t(V),{variant:"outline",class:"text-xs"},{default:n(()=>[p("Q"+o(L+1),1)]),_:2},1024),r.type!=="text"?(l(),i(t(V),{key:0,variant:r.is_correct?"default":"destructive",class:"text-xs"},{default:n(()=>[p(o(r.points_earned)+"/"+o(r.points)+" pts ",1)]),_:2},1032,["variant"])):c("",!0)]),s("div",ge,[r.is_correct?(l(),i(t(H),{key:0,class:"h-4 w-4 sm:h-5 sm:w-5 text-green-500"})):(l(),i(t(g),{key:1,class:"h-4 w-4 sm:h-5 sm:w-5 text-red-500"}))])]),s("p",be,o(r.question_text),1),r.type!=="text"&&((k=r.options)!=null&&k.length)?(l(),u("div",ke,[(l(!0),u(h,null,Q(r.options,(m,v)=>{var C,$,z,A,R,M,j,B,N;return l(),u("div",{key:v,class:_(["flex items-center gap-2 p-2 sm:p-3 rounded text-sm sm:text-base",(C=r.user_answer)!=null&&C.includes(m)&&e.showCorrectAnswers&&(($=r.correct_answer)!=null&&$.includes(m))?"bg-green-100 dark:bg-green-900":(z=r.user_answer)!=null&&z.includes(m)&&e.showCorrectAnswers&&!((A=r.correct_answer)!=null&&A.includes(m))?"bg-red-100 dark:bg-red-900":(R=r.user_answer)!=null&&R.includes(m)?"bg-blue-100 dark:bg-blue-900":e.showCorrectAnswers&&((M=r.correct_answer)!=null&&M.includes(m))?"bg-green-50 dark:bg-green-950":""])},[s("div",{class:_(["w-5 h-5 rounded flex items-center justify-center text-xs shrink-0",(j=r.user_answer)!=null&&j.includes(m)?"bg-primary text-primary-foreground":"bg-muted"])},o(String.fromCharCode(65+v)),3),s("span",{class:_(["break-words flex-1",{"font-medium":(B=r.user_answer)==null?void 0:B.includes(m)}])},o(m),3),e.showCorrectAnswers&&((N=r.correct_answer)!=null&&N.includes(m))?(l(),i(t(H),{key:0,class:"h-4 w-4 text-green-500 flex-shrink-0"})):c("",!0)],2)}),128))])):r.type==="text"?(l(),u("div",ye,[d[5]||(d[5]=s("p",{class:"text-xs sm:text-sm text-muted-foreground mb-1"},"Your answer:",-1)),s("p",ve,o(((y=r.user_answer)==null?void 0:y[0])||"No answer provided"),1)])):c("",!0),e.showCorrectAnswers&&r.correct_answer_explanation?(l(),u("div",Ce,[d[6]||(d[6]=s("p",{class:"text-xs sm:text-sm font-medium text-blue-700 dark:text-blue-300 mb-1"},"Explanation:",-1)),s("p",$e,o(r.correct_answer_explanation),1)])):c("",!0)])}),128))]),_:1})]),_:1})])]}),_:1})],64))}});export{Ge as default};
