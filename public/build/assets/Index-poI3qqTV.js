import{r as k,c as C,g as m,o as n,w as o,e,a as f,h as y,b as r,u as a,t as d,f as c,F as Q,i as T,n as w,y as q,P as V}from"./app-De5aCyOy.js";import{_ as ee}from"./Pagination.vue_vue_type_script_setup_true_lang-z2bGEaEC.js";import{f as te}from"./AppLayout.vue_vue_type_script_setup_true_lang-DrTEAkGA.js";import{_ as v}from"./Button.vue_vue_type_script_setup_true_lang-C1ptny9S.js";import{_ as se}from"./Input.vue_vue_type_script_setup_true_lang-XEyr05A5.js";import{_}from"./Card.vue_vue_type_script_setup_true_lang-D592-r3Y.js";import{_ as x}from"./CardContent.vue_vue_type_script_setup_true_lang-BnfRKYb9.js";import{_ as $}from"./index-CNloWqrH.js";import{_ as ae,a as le,b as re,c as oe,d as j}from"./SelectValue.vue_vue_type_script_setup_true_lang-D84q5NJt.js";import{F as B}from"./file-text-BOOsEpvl.js";import{C as ne}from"./circle-check-big-BYC-wlwA.js";import{C as L}from"./clock-BXDw5ZYb.js";import{S as P}from"./search-Cw3ar56u.js";import{L as de}from"./list-BspoKCpe.js";import{G as ie}from"./grid-3x3-UfAzuwbS.js";import{B as N}from"./brain-ZZGMlF7t.js";import{T as ue}from"./triangle-alert-QBZ4KeJk.js";import{C as me}from"./chart-column-CQTiunbh.js";import"./index-D3npKzxP.js";import"./index-shR_F4Lk.js";import"./_plugin-vue_export-helper-DsuA5ZjC.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-UOeKMcHs.js";import"./useForwardPropsEmits-Cp6q3zLn.js";import"./Presence-DbAr2sRl.js";import"./ConfigProvider-B6_1veax.js";import"./useForwardExpose-Cyi8rQxf.js";import"./Teleport-swefm16Y.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-CPyPlHCY.js";import"./Collection-BDp_B7Ge.js";import"./usePrimitiveElement-B41iOtr7.js";import"./check-DTkWFW74.js";import"./useSize-CHi05SbU.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-9kO_gd9f.js";const ce={class:"min-h-screen bg-gradient-to-br from-background to-secondary/20"},fe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8"},ge={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-6"},pe={class:"flex items-center"},_e={class:"p-3 rounded-full bg-primary/10 text-primary"},xe={class:"ml-4"},he={class:"text-2xl font-bold text-foreground"},ve={class:"flex items-center"},be={class:"p-3 rounded-full bg-green-500/10 text-green-600"},ye={class:"ml-4"},we={class:"text-2xl font-bold text-foreground"},Ce={class:"flex items-center"},ke={class:"p-3 rounded-full bg-yellow-500/10 text-yellow-600"},ze={class:"ml-4"},Se={class:"text-2xl font-bold text-foreground"},Qe={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},Te={class:"flex flex-col sm:flex-row gap-4"},Ve={class:"relative"},$e={class:"flex items-center gap-2"},je={key:2,class:"space-y-6"},Be={class:"flex"},Le={class:"flex items-start justify-between mb-4"},Pe={class:"flex-1 pr-4"},Ne={class:"flex items-center gap-2 mb-2"},De={class:"text-xl font-semibold text-foreground"},Fe={class:"text-sm text-muted-foreground mb-3 line-clamp-3"},Ae={class:"flex items-center gap-2"},Ie={class:"text-lg"},Ue={class:"flex-1"},Ge={class:"font-medium"},Oe={class:"text-xs opacity-80 mt-1"},Re={class:"grid grid-cols-2 gap-4 mb-4"},Ee={class:"text-sm font-medium text-foreground"},Me={class:"text-sm font-medium text-foreground"},He={class:"mb-4"},Je={class:"flex justify-between items-center mb-2"},Ke={class:"text-xs text-foreground"},We={class:"w-full bg-secondary rounded-full h-2"},Xe={class:"flex items-center justify-between text-xs text-muted-foreground mb-4"},Ye={key:0,class:"flex items-center"},Ze={class:"space-y-2"},qe={key:3,class:"text-center py-16"},et={class:"mx-auto w-24 h-24 bg-muted/50 rounded-full flex items-center justify-center mb-4"},tt={key:4,class:"text-center py-16"},st={class:"mx-auto w-24 h-24 bg-muted/50 rounded-full flex items-center justify-center mb-4"},at={key:5,class:"flex justify-center"},Ut={__name:"Index",props:{quizzes:{type:Object,required:!0}},setup(i){const u=i,g=k(""),h=k("all"),b=k("grid"),D=[{name:"Quizzes",route:null}],F=C(()=>!u.quizzes.data||!u.quizzes.data.length?[]:u.quizzes.data.map(t=>t.course).filter((t,l,p)=>l===p.findIndex(Z=>Z.id===t.id))),z=C(()=>{if(!u.quizzes.data||!u.quizzes.data.length)return[];let s=u.quizzes.data;return g.value&&(s=s.filter(t=>t.title.toLowerCase().includes(g.value.toLowerCase())||t.description&&t.description.toLowerCase().includes(g.value.toLowerCase())||t.course.name.toLowerCase().includes(g.value.toLowerCase()))),h.value&&h.value!=="all"&&(s=s.filter(t=>t.course.id.toString()===h.value)),s}),A=C(()=>!u.quizzes.data||!u.quizzes.data.length?0:u.quizzes.data.filter(s=>s.has_passed||s.attempts>=3).length),I=C(()=>!u.quizzes.data||!u.quizzes.data.length?0:u.quizzes.data.filter(s=>!s.has_passed&&s.attempts<3).length),U=()=>{b.value=b.value==="grid"?"list":"grid"},G=()=>{g.value="",h.value="all"},O=s=>s.has_passed||s.has_deadline&&!s.is_available?!1:s.attempts<3,R=s=>s.has_passed||s.attempts>=3,E=s=>s.has_passed?"Passed":s.attempts>=3?"Failed":s.attempts>0?"In Progress":"Not Started",M=s=>s.has_passed?"bg-green-500":s.attempts>=3?"bg-red-500":s.attempts>0?"bg-yellow-500":"bg-blue-500",H=s=>s.has_passed?"default":s.attempts>=3?"destructive":s.attempts>0?"secondary":"outline",J=s=>s.attempts>0?"Continue Quiz":"Start Quiz",S=s=>{var t,l,p;return s.has_deadline?((t=s.deadline_status)==null?void 0:t.status)==="urgent"?"urgent":((l=s.deadline_status)==null?void 0:l.status)==="soon"?"warning":((p=s.deadline_status)==null?void 0:p.status)==="expired"?"expired":"normal":null},K=s=>{if(!s.has_deadline)return null;switch(S(s)){case"urgent":return"ðŸš¨";case"warning":return"âš ï¸";case"expired":return"âŒ";default:return"ðŸ“…"}},W=s=>{switch(S(s)){case"urgent":return"text-red-600 bg-red-50 border-red-200";case"warning":return"text-orange-600 bg-orange-50 border-orange-200";case"expired":return"text-gray-600 bg-gray-50 border-gray-200";default:return"text-blue-600 bg-blue-50 border-blue-200"}},X=s=>s.course_type==="online"?"Online":"Regular",Y=s=>s.course_type==="online"?"bg-green-100 text-green-800 border-green-200":"bg-blue-100 text-blue-800 border-blue-200";return(s,t)=>(n(),m(te,{breadcrumbs:D},{default:o(()=>[e("div",ce,[e("div",fe,[t[17]||(t[17]=e("div",{class:"text-center lg:text-left"},[e("h1",{class:"text-4xl font-bold text-foreground mb-2"},"Available Quizzes"),e("p",{class:"text-lg text-muted-foreground"},"Test your knowledge and track your progress")],-1)),i.quizzes.data&&i.quizzes.data.length?(n(),f("div",ge,[r(a(_),null,{default:o(()=>[r(a(x),{class:"p-6"},{default:o(()=>[e("div",pe,[e("div",_e,[r(a(B),{class:"w-6 h-6"})]),e("div",xe,[t[2]||(t[2]=e("p",{class:"text-sm font-medium text-muted-foreground"},"Total Quizzes",-1)),e("p",he,d(i.quizzes.data.length),1)])])]),_:1})]),_:1}),r(a(_),null,{default:o(()=>[r(a(x),{class:"p-6"},{default:o(()=>[e("div",ve,[e("div",be,[r(a(ne),{class:"w-6 h-6"})]),e("div",ye,[t[3]||(t[3]=e("p",{class:"text-sm font-medium text-muted-foreground"},"Completed",-1)),e("p",we,d(A.value),1)])])]),_:1})]),_:1}),r(a(_),null,{default:o(()=>[r(a(x),{class:"p-6"},{default:o(()=>[e("div",Ce,[e("div",ke,[r(a(L),{class:"w-6 h-6"})]),e("div",ze,[t[4]||(t[4]=e("p",{class:"text-sm font-medium text-muted-foreground"},"Pending",-1)),e("p",Se,d(I.value),1)])])]),_:1})]),_:1})])):y("",!0),i.quizzes.data&&i.quizzes.data.length?(n(),m(a(_),{key:1},{default:o(()=>[r(a(x),{class:"p-6"},{default:o(()=>[e("div",Qe,[e("div",Te,[e("div",Ve,[r(a(P),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r(a(se),{modelValue:g.value,"onUpdate:modelValue":t[0]||(t[0]=l=>g.value=l),type:"text",placeholder:"Search quizzes...",class:"w-full sm:w-64 pl-9"},null,8,["modelValue"])]),r(a(ae),{modelValue:h.value,"onUpdate:modelValue":t[1]||(t[1]=l=>h.value=l)},{default:o(()=>[r(a(le),{class:"w-full sm:w-48"},{default:o(()=>[r(a(re),{placeholder:"All Courses"})]),_:1}),r(a(oe),null,{default:o(()=>[r(a(j),{value:"all"},{default:o(()=>t[5]||(t[5]=[c("All Courses")])),_:1}),(n(!0),f(Q,null,T(F.value,l=>(n(),m(a(j),{key:l.id,value:l.id.toString()},{default:o(()=>[c(d(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),e("div",$e,[r(a(v),{onClick:U,variant:"ghost",size:"sm",title:b.value==="grid"?"Switch to list view":"Switch to grid view"},{default:o(()=>[b.value==="grid"?(n(),m(a(de),{key:0,class:"w-5 h-5"})):(n(),m(a(ie),{key:1,class:"w-5 h-5"}))]),_:1},8,["title"])])])]),_:1})]),_:1})):y("",!0),z.value.length?(n(),f("div",je,[e("div",{class:w(b.value==="grid"?"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-4")},[(n(!0),f(Q,null,T(z.value,l=>(n(),m(a(_),{key:l.id,class:"group hover:shadow-lg transition-all duration-200 overflow-hidden"},{default:o(()=>[e("div",Be,[e("div",{class:w(["w-1 shrink-0",M(l)])},null,2),r(a(x),{class:"flex-1 p-6"},{default:o(()=>{var p;return[e("div",Le,[e("div",Pe,[e("div",Ne,[e("h2",De,d(l.title),1),r(a($),{class:w([Y(l),"text-xs px-2 py-1"])},{default:o(()=>[c(d(X(l)),1)]),_:2},1032,["class"])]),e("p",Fe,d(l.description||"No description available"),1)]),r(a($),{variant:H(l),class:"shrink-0"},{default:o(()=>[c(d(E(l)),1)]),_:2},1032,["variant"])]),l.has_deadline?(n(),f("div",{key:0,class:w(["mb-4 p-3 rounded-lg border text-sm",W(l)])},[e("div",Ae,[e("span",Ie,d(K(l)),1),e("div",Ue,[e("div",Ge,d(((p=l.deadline_status)==null?void 0:p.message)||"Deadline Information"),1),e("div",Oe," Due: "+d(l.deadline_formatted),1)])])],2)):y("",!0),e("div",Re,[r(a(_),{class:"bg-muted/50"},{default:o(()=>[r(a(x),{class:"p-3"},{default:o(()=>[t[6]||(t[6]=e("p",{class:"text-xs text-muted-foreground mb-1"},"Course",-1)),e("p",Ee,d(l.course.name),1)]),_:2},1024)]),_:2},1024),r(a(_),{class:"bg-muted/50"},{default:o(()=>[r(a(x),{class:"p-3"},{default:o(()=>[t[7]||(t[7]=e("p",{class:"text-xs text-muted-foreground mb-1"},"Total Points",-1)),e("p",Me,d(l.total_points),1)]),_:2},1024)]),_:2},1024)]),e("div",He,[e("div",Je,[t[8]||(t[8]=e("span",{class:"text-xs text-muted-foreground"},"Progress",-1)),e("span",Ke,d(l.attempts)+"/3 attempts",1)]),e("div",We,[e("div",{class:w(["h-2 rounded-full transition-all duration-300",l.has_passed?"bg-green-500":"bg-gradient-to-r from-primary to-purple-600"]),style:q({width:l.has_passed?"100%":`${l.attempts/3*100}%`})},null,6)])]),e("div",Xe,[e("span",null,"Pass: "+d(l.pass_threshold)+"%",1),l.time_limit_minutes?(n(),f("span",Ye,[r(a(L),{class:"w-3 h-3 mr-1"}),c(" "+d(l.time_limit_minutes)+" min ",1)])):y("",!0)]),e("div",Ze,[O(l)?(n(),m(a(v),{key:0,asChild:"",class:"w-full"},{default:o(()=>[r(a(V),{href:s.route("quizzes.show",l.id)},{default:o(()=>[r(a(N),{class:"w-4 h-4 mr-2"}),c(" "+d(J(l)),1)]),_:2},1032,["href"])]),_:2},1024)):l.has_deadline&&!l.is_available?(n(),m(a(v),{key:1,disabled:"",variant:"ghost",class:"w-full"},{default:o(()=>[r(a(ue),{class:"w-4 h-4 mr-2"}),t[9]||(t[9]=c(" Deadline Passed "))]),_:1})):R(l)&&l.latest_attempt_id?(n(),m(a(v),{key:2,asChild:"",variant:"secondary",class:"w-full"},{default:o(()=>[r(a(V),{href:s.route("quiz-attempts.results",l.latest_attempt_id)},{default:o(()=>[r(a(me),{class:"w-4 h-4 mr-2"}),t[10]||(t[10]=c(" View Results "))]),_:2},1032,["href"])]),_:2},1024)):(n(),m(a(v),{key:3,variant:"ghost",disabled:"",class:"w-full"},{default:o(()=>[r(a(N),{class:"w-4 h-4 mr-2"}),t[11]||(t[11]=c(" Unavailable "))]),_:1}))])]}),_:2},1024)])]),_:2},1024))),128))],2)])):!i.quizzes.data||!i.quizzes.data.length?(n(),f("div",qe,[e("div",et,[r(a(B),{class:"w-12 h-12 text-muted-foreground"})]),t[12]||(t[12]=e("h3",{class:"text-lg font-medium text-foreground mb-2"},"No quizzes available",-1)),t[13]||(t[13]=e("p",{class:"text-muted-foreground mb-4"},"There are no quizzes available for your enrolled courses at the moment.",-1))])):(n(),f("div",tt,[e("div",st,[r(a(P),{class:"w-12 h-12 text-muted-foreground"})]),t[15]||(t[15]=e("h3",{class:"text-lg font-medium text-foreground mb-2"},"No quizzes found",-1)),t[16]||(t[16]=e("p",{class:"text-muted-foreground mb-4"},"Try adjusting your search or filter criteria.",-1)),r(a(v),{onClick:G},{default:o(()=>t[14]||(t[14]=[c(" Clear Filters ")])),_:1})])),i.quizzes.links&&i.quizzes.data&&i.quizzes.data.length?(n(),f("div",at,[r(ee,{links:i.quizzes.links},null,8,["links"])])):y("",!0)])])]),_:1}))}};export{Ut as default};
