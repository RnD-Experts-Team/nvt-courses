import{s as x,t as T,c as G,d as W,e as q,f as H}from"./AppLayout.vue_vue_type_script_setup_true_lang-DrTEAkGA.js";import{d as J,A as K,c as B,a as g,o as u,b as e,u as s,m as Q,w as t,e as a,t as r,f as o,P as v,h as b,F as w,i as k,g as h,y as X}from"./app-De5aCyOy.js";import{_ as y}from"./Button.vue_vue_type_script_setup_true_lang-C1ptny9S.js";import{_ as m}from"./Card.vue_vue_type_script_setup_true_lang-D592-r3Y.js";import{_ as c}from"./CardContent.vue_vue_type_script_setup_true_lang-BnfRKYb9.js";import{_ as C}from"./CardDescription.vue_vue_type_script_setup_true_lang-7y99tksC.js";import{_ as j}from"./CardHeader.vue_vue_type_script_setup_true_lang-B9pSfhlq.js";import{_ as p}from"./CardTitle.vue_vue_type_script_setup_true_lang-C3o6pLjC.js";import{_ as A}from"./index-CNloWqrH.js";import{_ as Z,a as ss,b as U,c as M,d as es,e as S}from"./TableHeader.vue_vue_type_script_setup_true_lang-CiatGxJJ.js";import{_ as ts,a as ls}from"./index-Bl7hX8X-.js";import{U as as}from"./_plugin-vue_export-helper-DsuA5ZjC.js";import{C as $}from"./clock-BXDw5ZYb.js";import{A as ns}from"./activity-DLqIsvcX.js";import{E as N}from"./external-link-Blg3pbjp.js";import{A as R}from"./arrow-right-D3DSCtl7.js";import{C as os}from"./calendar-BbiMWXwU.js";import"./index-D3npKzxP.js";import"./index-shR_F4Lk.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-UOeKMcHs.js";const rs={class:"flex h-full flex-1 flex-col gap-6 p-4 sm:p-6"},ds={class:"text-xl sm:text-2xl font-bold mb-2"},us={key:0,class:"space-y-6"},is={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},fs={class:"flex items-center"},ms={class:"p-3 rounded-full bg-blue-100 text-blue-600 mr-4"},cs={class:"text-2xl font-bold"},_s={class:"flex items-center"},gs={class:"p-3 rounded-full bg-purple-100 text-purple-600 mr-4"},ps={class:"text-2xl font-bold"},xs={class:"flex items-center"},hs={class:"p-3 rounded-full bg-green-100 text-green-600 mr-4"},vs={class:"text-2xl font-bold"},bs={class:"flex items-center"},ys={class:"p-3 rounded-full bg-amber-100 text-amber-600 mr-4"},ws={class:"text-2xl font-bold"},Cs={class:"flex justify-between items-center"},As={class:"space-y-3"},$s={key:0,class:"text-center py-8"},ks={class:"flex-1 min-w-0"},js={class:"text-sm font-medium break-words"},Ss={class:"flex items-center mt-1 gap-2"},Ns={class:"text-xs text-muted-foreground"},Vs={key:1,class:"space-y-6"},Ds={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},Us={class:"flex items-center"},Ms={class:"p-3 rounded-full bg-blue-100 text-blue-600 mr-4"},Rs={class:"text-2xl font-bold"},zs={class:"flex items-center"},Es={class:"p-3 rounded-full bg-green-100 text-green-600 mr-4"},Os={class:"text-2xl font-bold"},Ts={class:"flex items-center"},Bs={class:"p-3 rounded-full bg-amber-100 text-amber-600 mr-4"},Ps={class:"text-2xl font-bold"},Ys={class:"flex justify-between items-center"},Ls={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Fs={key:0,class:"col-span-full text-center py-8"},Is={class:"h-32 bg-muted"},Gs=["src","alt"],Ws={key:1,class:"w-full h-full flex items-center justify-center"},qs={class:"flex justify-between items-center"},Hs={class:"flex justify-between items-center"},Js={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Ks={key:0,class:"col-span-full text-center py-8"},Qs={class:"h-32 bg-muted"},Xs=["src","alt"],Zs={key:1,class:"w-full h-full flex items-center justify-center"},se={class:"mb-2"},ee={class:"flex justify-between text-xs text-muted-foreground mb-1"},te={class:"w-full bg-muted rounded-full h-1.5"},le={class:"flex justify-between items-center"},ae={class:"flex justify-between items-center"},ne={class:"overflow-x-auto"},oe={class:"flex items-center justify-between"},re={class:"text-sm"},de={class:"ml-4"},Ne=J({__name:"Dashboard",props:{stats:{type:Object,default:()=>({totalCourses:0,totalUsers:0,activeSessions:0,completionRate:0,pendingCourses:0,completedCourses:0,userCourses:0,userAttendanceRate:0,userCompletedCourses:0,userTotalCourses:0,upcomingSessions:0})},recentActivity:{type:Array,default:()=>[]},userCourses:{type:Array,default:()=>[]},userOnlineCourses:{type:Array,default:()=>[]},userAttendance:{type:Array,default:()=>[]}},setup(i){const P=K(),V=B(()=>{var d;return(d=P.props.auth)==null?void 0:d.user}),z=B(()=>{var d,l;return((d=V.value)==null?void 0:d.is_admin)===!0||((l=V.value)==null?void 0:l.role)==="admin"}),Y=[{name:"Dashboard",href:"/dashboard"}],L=d=>d?new Date(d).toLocaleDateString():"",F=d=>{if(!d)return"";const l=new Date(d),_=Math.floor((new Date-l)/1e3);if(_<60)return"just now";if(_<3600){const f=Math.floor(_/60);return`${f} minute${f>1?"s":""} ago`}else if(_<86400){const f=Math.floor(_/3600);return`${f} hour${f>1?"s":""} ago`}else{const f=Math.floor(_/86400);return`${f} day${f>1?"s":""} ago`}},D=d=>d==="completed"?"default":d==="in_progress"||d==="enrolled"||d==="pending"?"secondary":d==="present"?"default":"outline",I=d=>d==="create"?"secondary":d==="update"?"default":d==="delete"?"destructive":d==="enroll"?"default":d==="login"?"secondary":"outline";return(d,l)=>(u(),g(w,null,[e(s(Q),{title:"Dashboard"}),e(H,{breadcrumbs:Y},{default:t(()=>[a("div",rs,[e(s(m),null,{default:t(()=>[e(s(c),{class:"p-6"},{default:t(()=>{var n;return[a("h1",ds," Welcome back, "+r((n=V.value)==null?void 0:n.name)+"! ",1),e(s(C),{class:"text-base"},{default:t(()=>[o(r(z.value?"Manage your courses and users from your admin dashboard.":"Track your courses and attendance from your dashboard."),1)]),_:1})]}),_:1})]),_:1}),z.value?(u(),g("div",us,[a("div",is,[e(s(m),null,{default:t(()=>[e(s(c),{class:"p-4"},{default:t(()=>[a("div",fs,[a("div",ms,[e(s(x),{class:"h-6 w-6"})]),a("div",null,[l[2]||(l[2]=a("p",{class:"text-sm text-muted-foreground font-medium"},"Total Courses",-1)),a("p",cs,r(i.stats.totalCourses||0),1)])])]),_:1})]),_:1}),e(s(m),null,{default:t(()=>[e(s(c),{class:"p-4"},{default:t(()=>[a("div",_s,[a("div",gs,[e(s(as),{class:"h-6 w-6"})]),a("div",null,[l[3]||(l[3]=a("p",{class:"text-sm text-muted-foreground font-medium"},"Total Users",-1)),a("p",ps,r(i.stats.totalUsers||0),1)])])]),_:1})]),_:1}),e(s(m),null,{default:t(()=>[e(s(c),{class:"p-4"},{default:t(()=>[a("div",xs,[a("div",hs,[e(s($),{class:"h-6 w-6"})]),a("div",null,[l[4]||(l[4]=a("p",{class:"text-sm text-muted-foreground font-medium"},"Active Sessions",-1)),a("p",vs,r(i.stats.activeSessions||0),1)])])]),_:1})]),_:1}),e(s(m),null,{default:t(()=>[e(s(c),{class:"p-4"},{default:t(()=>[a("div",bs,[a("div",ys,[e(s(T),{class:"h-6 w-6"})]),a("div",null,[l[5]||(l[5]=a("p",{class:"text-sm text-muted-foreground font-medium"},"Completion Rate",-1)),a("p",ws,r(i.stats.completionRate||0)+"%",1)])])]),_:1})]),_:1})]),e(s(m),null,{default:t(()=>[e(s(j),null,{default:t(()=>[a("div",Cs,[e(s(p),{class:"flex items-center gap-2"},{default:t(()=>[e(s(ns),{class:"h-5 w-5"}),l[6]||(l[6]=o(" Recent Activity "))]),_:1}),e(s(y),{asChild:"",variant:"ghost",size:"sm"},{default:t(()=>[e(s(v),{href:"/activities"},{default:t(()=>[e(s(N),{class:"h-4 w-4 mr-1"}),l[7]||(l[7]=o(" View all "))]),_:1})]),_:1})])]),_:1}),e(s(c),null,{default:t(()=>[a("div",As,[i.recentActivity.length===0?(u(),g("div",$s,[e(s($),{class:"h-12 w-12 mx-auto text-muted-foreground mb-2"}),e(s(p),{class:"text-base mb-2"},{default:t(()=>l[8]||(l[8]=[o("No recent activity")])),_:1}),e(s(C),null,{default:t(()=>l[9]||(l[9]=[o("Activity will appear here as users interact with the system")])),_:1})])):b("",!0),(u(!0),g(w,null,k(i.recentActivity,(n,_)=>(u(),h(s(m),{key:n.id||_,class:"hover:bg-accent/50 transition-colors"},{default:t(()=>[e(s(c),{class:"flex items-start p-3"},{default:t(()=>[e(s(G),{class:"h-10 w-10 mr-3 shrink-0"},{default:t(()=>{var f,E;return[(f=n.user)!=null&&f.avatar?(u(),h(s(W),{key:0,src:n.user.avatar,alt:(E=n.user)==null?void 0:E.name},null,8,["src","alt"])):b("",!0),e(s(q),null,{default:t(()=>{var O;return[o(r((O=n.user)!=null&&O.name?n.user.name.charAt(0).toUpperCase():"S"),1)]}),_:2},1024)]}),_:2},1024),a("div",ks,[a("p",js,r(n.description),1),a("div",Ss,[n.action?(u(),h(s(A),{key:0,variant:I(n.action),class:"text-xs"},{default:t(()=>[o(r(n.action),1)]),_:2},1032,["variant"])):b("",!0),a("span",Ns,r(F(n.created_at)),1)])])]),_:2},1024)]),_:2},1024))),128))])]),_:1})]),_:1})])):(u(),g("div",Vs,[a("div",Ds,[e(s(m),null,{default:t(()=>[e(s(c),{class:"p-4"},{default:t(()=>[a("div",Us,[a("div",Ms,[e(s(x),{class:"h-6 w-6"})]),a("div",null,[l[10]||(l[10]=a("p",{class:"text-sm text-muted-foreground font-medium"},"My Courses",-1)),a("p",Rs,r(i.stats.userCourses||0),1)])])]),_:1})]),_:1}),e(s(m),null,{default:t(()=>[e(s(c),{class:"p-4"},{default:t(()=>[a("div",zs,[a("div",Es,[e(s($),{class:"h-6 w-6"})]),a("div",null,[l[11]||(l[11]=a("p",{class:"text-sm text-muted-foreground font-medium"},"Attendance Rate",-1)),a("p",Os,r(i.stats.userAttendanceRate||0)+"%",1)])])]),_:1})]),_:1}),e(s(m),null,{default:t(()=>[e(s(c),{class:"p-4"},{default:t(()=>[a("div",Ts,[a("div",Bs,[e(s(T),{class:"h-6 w-6"})]),a("div",null,[l[12]||(l[12]=a("p",{class:"text-sm text-muted-foreground font-medium"},"Completed",-1)),a("p",Ps,r(i.stats.userCompletedCourses||0)+"/"+r(i.stats.userTotalCourses||0),1)])])]),_:1})]),_:1})]),e(s(m),null,{default:t(()=>[e(s(j),null,{default:t(()=>[a("div",Ys,[e(s(p),{class:"flex items-center gap-2"},{default:t(()=>[e(s(x),{class:"h-5 w-5"}),l[13]||(l[13]=o(" My Courses "))]),_:1}),e(s(y),{asChild:"",variant:"ghost",size:"sm"},{default:t(()=>[e(s(v),{href:"/courses"},{default:t(()=>[e(s(N),{class:"h-4 w-4 mr-1"}),l[14]||(l[14]=o(" View all "))]),_:1})]),_:1})])]),_:1}),e(s(c),null,{default:t(()=>[a("div",Ls,[i.userCourses.length===0?(u(),g("div",Fs,[e(s(x),{class:"h-12 w-12 mx-auto text-muted-foreground mb-2"}),e(s(p),{class:"text-base mb-2"},{default:t(()=>l[15]||(l[15]=[o("No courses yet")])),_:1}),e(s(C),null,{default:t(()=>l[16]||(l[16]=[o("You are not enrolled in any courses yet")])),_:1})])):b("",!0),(u(!0),g(w,null,k(i.userCourses,(n,_)=>(u(),h(s(m),{key:n.id||_,class:"overflow-hidden hover:shadow-md transition-shadow"},{default:t(()=>[a("div",Is,[n.image_path?(u(),g("img",{key:0,src:`/storage/${n.image_path}`,alt:n.name,class:"w-full h-full object-contain",onError:l[0]||(l[0]=f=>f.target.src="/images/course-placeholder.jpg")},null,40,Gs)):(u(),g("div",Ws,[e(s(x),{class:"h-10 w-10 text-muted-foreground"})]))]),e(s(c),{class:"p-3"},{default:t(()=>[e(s(p),{class:"text-base mb-3"},{default:t(()=>[o(r(n.name||"Course Name"),1)]),_:2},1024),a("div",qs,[e(s(A),{variant:D(n.status)},{default:t(()=>[o(r(n.status?(n.status.charAt(0).toUpperCase()+n.status.slice(1)).replace("_"," "):"Enrolled"),1)]),_:2},1032,["variant"]),e(s(y),{asChild:"",variant:"ghost",size:"sm"},{default:t(()=>[e(s(v),{href:`/courses/${n.id}`},{default:t(()=>[l[17]||(l[17]=o(" Continue ")),e(s(R),{class:"h-3 w-3 ml-1"})]),_:2},1032,["href"])]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))])]),_:1})]),_:1}),e(s(m),null,{default:t(()=>[e(s(j),null,{default:t(()=>[a("div",Hs,[e(s(p),{class:"flex items-center gap-2"},{default:t(()=>[e(s(x),{class:"h-5 w-5"}),l[18]||(l[18]=o(" My Online Courses "))]),_:1}),e(s(y),{asChild:"",variant:"ghost",size:"sm"},{default:t(()=>[e(s(v),{href:"/courses-online"},{default:t(()=>[e(s(N),{class:"h-4 w-4 mr-1"}),l[19]||(l[19]=o(" View all "))]),_:1})]),_:1})])]),_:1}),e(s(c),null,{default:t(()=>[a("div",Js,[i.userOnlineCourses.length===0?(u(),g("div",Ks,[e(s(x),{class:"h-12 w-12 mx-auto text-muted-foreground mb-2"}),e(s(p),{class:"text-base mb-2"},{default:t(()=>l[20]||(l[20]=[o("No online courses yet")])),_:1}),e(s(C),null,{default:t(()=>l[21]||(l[21]=[o("You are not assigned to any online courses yet")])),_:1})])):b("",!0),(u(!0),g(w,null,k(i.userOnlineCourses,(n,_)=>(u(),h(s(m),{key:n.id||_,class:"overflow-hidden hover:shadow-md transition-shadow"},{default:t(()=>[a("div",Qs,[n.image_path?(u(),g("img",{key:0,src:`/storage/${n.image_path}`,alt:n.name,class:"w-full h-full object-contain",onError:l[1]||(l[1]=f=>f.target.src="/images/course-placeholder.jpg")},null,40,Xs)):(u(),g("div",Zs,[e(s(x),{class:"h-10 w-10 text-muted-foreground"})]))]),e(s(c),{class:"p-3"},{default:t(()=>[e(s(p),{class:"text-base mb-2"},{default:t(()=>[o(r(n.name||"Course Name"),1)]),_:2},1024),a("div",se,[a("div",ee,[l[22]||(l[22]=a("span",null,"Progress",-1)),a("span",null,r(Math.round(n.progress_percentage||0))+"%",1)]),a("div",te,[a("div",{class:"bg-blue-600 h-1.5 rounded-full transition-all",style:X({width:`${n.progress_percentage||0}%`})},null,4)])]),a("div",le,[e(s(A),{variant:D(n.status)},{default:t(()=>[o(r(n.status?(n.status.charAt(0).toUpperCase()+n.status.slice(1)).replace("_"," "):"Assigned"),1)]),_:2},1032,["variant"]),e(s(y),{asChild:"",variant:"ghost",size:"sm"},{default:t(()=>[e(s(v),{href:`/courses-online/${n.id}`},{default:t(()=>[l[23]||(l[23]=o(" Continue ")),e(s(R),{class:"h-3 w-3 ml-1"})]),_:2},1032,["href"])]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))])]),_:1})]),_:1}),e(s(m),null,{default:t(()=>[e(s(j),null,{default:t(()=>[a("div",ae,[e(s(p),{class:"flex items-center gap-2"},{default:t(()=>[e(s(os),{class:"h-5 w-5"}),l[24]||(l[24]=o(" Recent Attendance "))]),_:1}),e(s(y),{asChild:"",variant:"ghost",size:"sm"},{default:t(()=>[e(s(v),{href:"/attendance"},{default:t(()=>[e(s(N),{class:"h-4 w-4 mr-1"}),l[25]||(l[25]=o(" View all "))]),_:1})]),_:1})])]),_:1}),e(s(c),null,{default:t(()=>[a("div",ne,[e(s(Z),null,{default:t(()=>[e(s(ss),null,{default:t(()=>[e(s(U),null,{default:t(()=>[e(s(M),null,{default:t(()=>l[26]||(l[26]=[o("Date")])),_:1}),e(s(M),null,{default:t(()=>l[27]||(l[27]=[o("Course")])),_:1}),e(s(M),null,{default:t(()=>l[28]||(l[28]=[o("Status")])),_:1})]),_:1})]),_:1}),e(s(es),null,{default:t(()=>[i.userAttendance.length===0?(u(),h(s(U),{key:0},{default:t(()=>[e(s(S),{colspan:"3",class:"text-center py-8"},{default:t(()=>[e(s($),{class:"h-12 w-12 mx-auto text-muted-foreground mb-2"}),e(s(p),{class:"text-base mb-2"},{default:t(()=>l[29]||(l[29]=[o("No attendance records")])),_:1}),e(s(C),null,{default:t(()=>l[30]||(l[30]=[o("Your attendance history will appear here")])),_:1})]),_:1})]),_:1})):b("",!0),(u(!0),g(w,null,k(i.userAttendance,(n,_)=>(u(),h(s(U),{key:n.id||_},{default:t(()=>[e(s(S),null,{default:t(()=>[o(r(L(n.date)),1)]),_:2},1024),e(s(S),null,{default:t(()=>[o(r(n.course_name||"General Attendance"),1)]),_:2},1024),e(s(S),null,{default:t(()=>[e(s(A),{variant:D(n.status)},{default:t(()=>[o(r(n.status?(n.status.charAt(0).toUpperCase()+n.status.slice(1)).replace("_"," "):"Present"),1)]),_:2},1032,["variant"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),i.stats.upcomingSessions>0?(u(),h(s(ts),{key:0},{default:t(()=>[e(s($),{class:"h-4 w-4"}),e(s(ls),null,{default:t(()=>[a("div",oe,[a("div",null,[l[31]||(l[31]=a("p",{class:"font-medium mb-1"},"Upcoming Sessions",-1)),a("p",re," You have "+r(i.stats.upcomingSessions)+" upcoming session"+r(i.stats.upcomingSessions>1?"s":"")+". Check your course schedule for details. ",1)]),a("div",de,[e(s(A),{variant:"secondary"},{default:t(()=>[o(r(i.stats.upcomingSessions)+" upcoming",1)]),_:1})])]),e(s(y),{asChild:"",variant:"ghost",size:"sm",class:"mt-2 p-0 h-auto"},{default:t(()=>[e(s(v),{href:"/courses",class:"inline-flex items-center text-sm font-medium"},{default:t(()=>[l[32]||(l[32]=o(" View my courses ")),e(s(R),{class:"w-3 h-3 ml-1"})]),_:1})]),_:1})]),_:1})]),_:1})):b("",!0)]))])]),_:1})],64))}});export{Ne as default};
