import{d as K,r as k,c as $,a as f,o as r,b as t,u as e,m as X,w as l,e as o,h as g,P as h,f as d,t as i,g as w,F,i as Z,n as M,k as ee,W as te}from"./app-De5aCyOy.js";import{_ as se}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Dj8HCjtT.js";import{_ as m}from"./Button.vue_vue_type_script_setup_true_lang-C1ptny9S.js";import{_ as c}from"./Card.vue_vue_type_script_setup_true_lang-D592-r3Y.js";import{_}from"./CardContent.vue_vue_type_script_setup_true_lang-BnfRKYb9.js";import{_ as T}from"./CardDescription.vue_vue_type_script_setup_true_lang-7y99tksC.js";import{_ as C}from"./CardHeader.vue_vue_type_script_setup_true_lang-B9pSfhlq.js";import{_ as y}from"./CardTitle.vue_vue_type_script_setup_true_lang-C3o6pLjC.js";import{_ as p}from"./index-CNloWqrH.js";import{_ as S,a as q,b as P,c as V}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DykgtCUG.js";import{_ as N}from"./DialogDescription.vue_vue_type_script_setup_true_lang-CQOeOJ-N.js";import{_ as B}from"./DialogFooter.vue_vue_type_script_setup_true_lang-BoeL_UG-.js";import{n as oe,o as le,p as ne,m as de}from"./AppLayout.vue_vue_type_script_setup_true_lang-DrTEAkGA.js";import{_ as ie}from"./TooltipProvider.vue_vue_type_script_setup_true_lang-D2Z2kpUw.js";import{A as ae}from"./arrow-left-kG5YrchA.js";import{S as R}from"./square-pen-C_ROzota.js";import{F as E}from"./folder-open-D5fTPG2s.js";import{V as j}from"./video-BHwv2L3O.js";import{F as D}from"./file-text-BOOsEpvl.js";import{C as re}from"./clock-BXDw5ZYb.js";import{B as ue}from"./book-open-pPANAQ7D.js";import{T as I}from"./trash-2-cH28u5cA.js";import{P as me}from"./plus-BEctqVRE.js";import{C as fe}from"./chart-column-CQTiunbh.js";import{T as ce}from"./triangle-alert-QBZ4KeJk.js";import{_ as _e}from"./_plugin-vue_export-helper-DsuA5ZjC.js";import"./index-shR_F4Lk.js";import"./index-D3npKzxP.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-UOeKMcHs.js";const pe={class:"flex items-center justify-between mb-8"},ve={class:"space-y-1"},ge={class:"flex items-center gap-3 mb-3"},xe={class:"flex items-center gap-4 mb-3"},he={class:"text-3xl font-bold tracking-tight"},ye={class:"text-muted-foreground"},be={key:0,class:"text-muted-foreground max-w-3xl"},we={class:"flex items-center gap-3"},Ce={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},ke={class:"flex items-center justify-between"},$e={class:"text-3xl font-bold"},je={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center"},De={class:"flex items-center justify-between"},Ae={class:"text-3xl font-bold"},Fe={class:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center"},Me={class:"flex items-center justify-between"},Te={class:"text-3xl font-bold"},Se={class:"w-12 h-12 bg-red-100 dark:bg-red-900/20 rounded-lg flex items-center justify-center"},qe={class:"flex items-center justify-between"},Pe={class:"text-3xl font-bold"},Ve={class:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center"},Ne={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Be={class:"lg:col-span-2"},Re={class:"flex items-center justify-between"},Ee={class:"divide-y"},Ie={class:"flex items-center justify-between"},ze={class:"flex items-center gap-4 flex-1 min-w-0"},Oe={class:"flex-shrink-0"},Ue={class:"flex-1 min-w-0"},Le={class:"font-medium text-foreground truncate"},We={class:"flex items-center gap-4 mt-1 text-sm text-muted-foreground"},He={class:"uppercase font-medium"},Qe={key:0},Ye={key:1,class:"truncate"},Ge={key:2,class:"text-blue-600 dark:text-blue-400"},Je={class:"flex items-center gap-3"},Ke={class:"flex items-center gap-2"},Xe={class:"text-center"},Ze={class:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4"},et={class:"space-y-6"},tt={class:"space-y-3"},st={class:"flex items-center justify-between"},ot={class:"flex items-center justify-between"},lt={class:"text-sm font-medium"},nt={key:0,class:"text-muted-foreground"},dt={class:"flex items-center justify-between"},it={class:"flex items-center justify-between"},at={class:"space-y-3"},rt={class:"flex items-center justify-between"},ut={class:"text-sm font-medium"},mt={class:"flex items-center justify-between"},ft={class:"text-sm font-medium"},ct={class:"flex items-center justify-between"},_t={class:"text-sm font-medium"},pt={class:"flex items-center justify-between"},vt={class:"text-sm font-medium"},gt={class:"grid grid-cols-2 gap-4 py-4"},xt=K({__name:"Show",props:{course:{},module:{}},setup(z){const u=z,O=[{title:"Courses",href:"/admin/course-online"},{title:u.course.name,href:`/admin/course-online/${u.course.id}`},{title:"Modules",href:`/admin/course-modules/${u.course.id}`},{title:u.module.name,href:"#"}],b=k(!1),x=k(!1),v=k(null),U=$(()=>{if(!u.module.estimated_duration)return"0h";const n=Math.floor(u.module.estimated_duration/60),s=u.module.estimated_duration%60;return n>0?s>0?`${n}h ${s}m`:`${n}h`:`${s}m`}),L=$(()=>u.module.content.filter(n=>n.is_active).length),W=$(()=>u.module.content.filter(n=>n.is_required).length),H=n=>{v.value=n,x.value=!0},Q=()=>{v.value&&te.delete(`/admin/course-online/${u.course.id}/modules/${u.module.id}/content/${v.value.id}`,{onSuccess:()=>{x.value=!1,v.value=null},onError:()=>{console.error("Failed to delete content")}})},Y=()=>{x.value=!1,v.value=null},G=n=>n==="video"?j:D,J=n=>n==="video"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400";return(n,s)=>(r(),f(F,null,[t(e(X),{title:`${n.module.name} - Module Details`},null,8,["title"]),t(se,{breadcrumbs:O},{default:l(()=>[o("div",pe,[o("div",ve,[o("div",ge,[t(e(m),{variant:"ghost",size:"sm",asChild:""},{default:l(()=>[t(e(h),{href:n.route("admin.course-modules.index",n.course.id)},{default:l(()=>[t(e(ae),{class:"h-4 w-4 mr-2"}),s[4]||(s[4]=d(" Back to Modules "))]),_:1},8,["href"])]),_:1})]),o("div",xe,[t(e(p),{variant:"outline",class:"w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold"},{default:l(()=>[d(i(n.module.order_number),1)]),_:1}),o("div",null,[o("h1",he,i(n.module.name),1),o("p",ye,i(n.course.name),1)])]),n.module.description?(r(),f("p",be,i(n.module.description),1)):g("",!0)]),o("div",we,[t(e(m),{variant:"outline",asChild:""},{default:l(()=>[t(e(h),{href:n.route("admin.course-modules.edit",[n.course.id,n.module.id])},{default:l(()=>[t(e(R),{class:"h-4 w-4 mr-2"}),s[5]||(s[5]=d(" Edit Module "))]),_:1},8,["href"])]),_:1})])]),o("div",Ce,[t(e(c),null,{default:l(()=>[t(e(_),{class:"p-6"},{default:l(()=>[o("div",ke,[o("div",null,[s[6]||(s[6]=o("p",{class:"text-sm font-medium text-muted-foreground"},"Total Content",-1)),o("p",$e,i(n.module.content_count),1)]),o("div",je,[t(e(E),{class:"h-6 w-6 text-blue-600 dark:text-blue-400"})])])]),_:1})]),_:1}),t(e(c),null,{default:l(()=>[t(e(_),{class:"p-6"},{default:l(()=>[o("div",De,[o("div",null,[s[7]||(s[7]=o("p",{class:"text-sm font-medium text-muted-foreground"},"Videos",-1)),o("p",Ae,i(n.module.video_count),1)]),o("div",Fe,[t(e(j),{class:"h-6 w-6 text-green-600 dark:text-green-400"})])])]),_:1})]),_:1}),t(e(c),null,{default:l(()=>[t(e(_),{class:"p-6"},{default:l(()=>[o("div",Me,[o("div",null,[s[8]||(s[8]=o("p",{class:"text-sm font-medium text-muted-foreground"},"PDFs",-1)),o("p",Te,i(n.module.pdf_count),1)]),o("div",Se,[t(e(D),{class:"h-6 w-6 text-red-600 dark:text-red-400"})])])]),_:1})]),_:1}),t(e(c),null,{default:l(()=>[t(e(_),{class:"p-6"},{default:l(()=>[o("div",qe,[o("div",null,[s[9]||(s[9]=o("p",{class:"text-sm font-medium text-muted-foreground"},"Duration",-1)),o("p",Pe,i(U.value),1)]),o("div",Ve,[t(e(re),{class:"h-6 w-6 text-purple-600 dark:text-purple-400"})])])]),_:1})]),_:1})]),o("div",Ne,[o("div",Be,[t(e(c),null,{default:l(()=>[t(e(C),null,{default:l(()=>[o("div",Re,[o("div",null,[t(e(y),{class:"flex items-center gap-2"},{default:l(()=>[t(e(ue),{class:"h-5 w-5"}),s[10]||(s[10]=d(" Module Content "))]),_:1}),t(e(T),null,{default:l(()=>[d(i(n.module.content.length)+" content items in this module ",1)]),_:1})])])]),_:1}),n.module.content.length>0?(r(),w(e(_),{key:0,class:"p-0"},{default:l(()=>[o("div",Ee,[(r(!0),f(F,null,Z(n.module.content,(a,ht)=>{var A;return r(),f("div",{key:a.id,class:"p-6 hover:bg-muted/50 transition-colors group"},[o("div",Ie,[o("div",ze,[t(e(p),{variant:"outline",class:"w-8 h-8 rounded-full flex items-center justify-center font-medium"},{default:l(()=>[d(i(a.order_number),1)]),_:2},1024),o("div",Oe,[o("div",{class:M(["w-10 h-10 rounded-lg flex items-center justify-center",a.content_type==="video"?"bg-green-100 dark:bg-green-900/20":"bg-red-100 dark:bg-red-900/20"])},[(r(),w(ee(G(a.content_type)),{class:M(["h-5 w-5",J(a.content_type)])},null,8,["class"]))],2)]),o("div",Ue,[o("h4",Le,i(a.title),1),o("div",We,[o("span",He,i(a.content_type),1),a.formatted_duration?(r(),f("span",Qe,i(a.formatted_duration),1)):g("",!0),(A=a.video)!=null&&A.name?(r(),f("span",Ye,i(a.video.name),1)):g("",!0),a.tasks_count>0?(r(),f("span",Ge,i(a.tasks_count)+" tasks ",1)):g("",!0)])])]),o("div",Je,[o("div",Ke,[a.is_required?(r(),w(e(p),{key:0,variant:"destructive",class:"text-xs"},{default:l(()=>s[11]||(s[11]=[d(" Required ")])),_:1})):g("",!0),t(e(p),{variant:a.is_active?"default":"secondary",class:"text-xs"},{default:l(()=>[d(i(a.is_active?"Active":"Inactive"),1)]),_:2},1032,["variant"])]),t(e(ie),null,{default:l(()=>[t(e(oe),null,{default:l(()=>[t(e(le),{asChild:""},{default:l(()=>[t(e(m),{variant:"ghost",size:"sm",class:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:yt=>H(a)},{default:l(()=>[t(e(I),{class:"h-4 w-4 text-destructive"})]),_:2},1032,["onClick"])]),_:2},1024),t(e(ne),null,{default:l(()=>s[12]||(s[12]=[d("Remove Content")])),_:1})]),_:2},1024)]),_:2},1024)])])])}),128))])]),_:1})):(r(),w(e(_),{key:1,class:"py-16"},{default:l(()=>[o("div",Xe,[o("div",Ze,[t(e(E),{class:"h-8 w-8 text-muted-foreground"})]),t(e(y),{class:"mb-2"},{default:l(()=>s[13]||(s[13]=[d("No content yet")])),_:1}),t(e(T),{class:"mb-6 max-w-sm mx-auto"},{default:l(()=>s[14]||(s[14]=[d(" Add videos or PDFs to make this module interactive and engaging for students. ")])),_:1}),t(e(m),{onClick:s[0]||(s[0]=a=>b.value=!0)},{default:l(()=>[t(e(me),{class:"h-4 w-4 mr-2"}),s[15]||(s[15]=d(" Add First Content "))]),_:1})])]),_:1}))]),_:1})]),o("div",et,[t(e(c),null,{default:l(()=>[t(e(C),null,{default:l(()=>[t(e(y),{class:"flex items-center gap-2"},{default:l(()=>[t(e(de),{class:"h-5 w-5"}),s[16]||(s[16]=d(" Module Settings "))]),_:1})]),_:1}),t(e(_),{class:"space-y-4"},{default:l(()=>[o("div",tt,[o("div",st,[s[17]||(s[17]=o("span",{class:"text-sm font-medium text-muted-foreground"},"Order Number",-1)),t(e(p),{variant:"outline"},{default:l(()=>[d(i(n.module.order_number),1)]),_:1})]),o("div",ot,[s[18]||(s[18]=o("span",{class:"text-sm font-medium text-muted-foreground"},"Duration",-1)),o("span",lt,[d(i(n.module.estimated_duration||"Not set")+" ",1),n.module.estimated_duration?(r(),f("span",nt,"minutes")):g("",!0)])]),o("div",dt,[s[19]||(s[19]=o("span",{class:"text-sm font-medium text-muted-foreground"},"Required",-1)),t(e(p),{variant:n.module.is_required?"destructive":"secondary"},{default:l(()=>[d(i(n.module.is_required?"Yes":"No"),1)]),_:1},8,["variant"])]),o("div",it,[s[20]||(s[20]=o("span",{class:"text-sm font-medium text-muted-foreground"},"Status",-1)),t(e(p),{variant:n.module.is_active?"default":"secondary"},{default:l(()=>[d(i(n.module.is_active?"Active":"Inactive"),1)]),_:1},8,["variant"])])])]),_:1})]),_:1}),t(e(c),null,{default:l(()=>[t(e(C),null,{default:l(()=>[t(e(y),{class:"flex items-center gap-2"},{default:l(()=>[t(e(fe),{class:"h-5 w-5"}),s[21]||(s[21]=d(" Content Summary "))]),_:1})]),_:1}),t(e(_),{class:"space-y-4"},{default:l(()=>[o("div",at,[o("div",rt,[s[22]||(s[22]=o("span",{class:"text-sm text-muted-foreground"},"Active Content",-1)),o("span",ut,i(L.value)+" / "+i(n.module.content.length),1)]),o("div",mt,[s[23]||(s[23]=o("span",{class:"text-sm text-muted-foreground"},"Required Content",-1)),o("span",ft,i(W.value),1)]),o("div",ct,[s[24]||(s[24]=o("span",{class:"text-sm text-muted-foreground"},"Video Content",-1)),o("span",_t,i(n.module.video_count),1)]),o("div",pt,[s[25]||(s[25]=o("span",{class:"text-sm text-muted-foreground"},"PDF Content",-1)),o("span",vt,i(n.module.pdf_count),1)])])]),_:1})]),_:1}),t(e(c),null,{default:l(()=>[t(e(C),null,{default:l(()=>[t(e(y),null,{default:l(()=>s[26]||(s[26]=[d("Quick Actions")])),_:1})]),_:1}),t(e(m),{variant:"ghost",class:"w-full justify-start",asChild:""},{default:l(()=>[t(e(h),{href:n.route("admin.course-modules.edit",[n.course.id,n.module.id])},{default:l(()=>[t(e(R),{class:"h-4 w-4 mr-3"}),s[27]||(s[27]=d(" Edit Module "))]),_:1},8,["href"])]),_:1})]),_:1})])]),t(e(S),{open:b.value,"onUpdate:open":s[2]||(s[2]=a=>b.value=a)},{default:l(()=>[t(e(q),null,{default:l(()=>[t(e(P),null,{default:l(()=>[t(e(V),null,{default:l(()=>s[28]||(s[28]=[d("Add Content to Module")])),_:1}),t(e(N),null,{default:l(()=>[d(' Choose the type of content you want to add to "'+i(n.module.name)+'" ',1)]),_:1})]),_:1}),o("div",gt,[t(e(m),{asChild:"",class:"h-20 flex-col gap-2 bg-green-600 hover:bg-green-700"},{default:l(()=>[t(e(h),{href:`/admin/course-online/${n.course.id}/modules/${n.module.id}/content/create?type=video`},{default:l(()=>[t(e(j),{class:"h-6 w-6"}),s[29]||(s[29]=o("span",null,"Add Video",-1))]),_:1},8,["href"])]),_:1}),t(e(m),{asChild:"",class:"h-20 flex-col gap-2 bg-red-600 hover:bg-red-700",variant:"destructive"},{default:l(()=>[t(e(h),{href:`/admin/course-online/${n.course.id}/modules/${n.module.id}/content/create?type=pdf`},{default:l(()=>[t(e(D),{class:"h-6 w-6"}),s[30]||(s[30]=o("span",null,"Upload PDF",-1))]),_:1},8,["href"])]),_:1})]),t(e(B),null,{default:l(()=>[t(e(m),{variant:"outline",onClick:s[1]||(s[1]=a=>b.value=!1)},{default:l(()=>s[31]||(s[31]=[d(" Cancel ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(S),{open:x.value,"onUpdate:open":s[3]||(s[3]=a=>x.value=a)},{default:l(()=>[t(e(q),null,{default:l(()=>[t(e(P),null,{default:l(()=>[t(e(V),{class:"flex items-center gap-2"},{default:l(()=>[t(e(ce),{class:"h-5 w-5 text-destructive"}),s[32]||(s[32]=d(" Remove Content "))]),_:1}),t(e(N),null,{default:l(()=>{var a;return[s[33]||(s[33]=d(' Are you sure you want to remove "')),o("strong",null,i((a=v.value)==null?void 0:a.title),1),s[34]||(s[34]=d('"? This action cannot be undone. '))]}),_:1})]),_:1}),t(e(B),null,{default:l(()=>[t(e(m),{variant:"outline",onClick:Y},{default:l(()=>s[35]||(s[35]=[d(" Cancel ")])),_:1}),t(e(m),{variant:"destructive",onClick:Q},{default:l(()=>[t(e(I),{class:"h-4 w-4 mr-2"}),s[36]||(s[36]=d(" Remove Content "))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}}),Jt=_e(xt,[["__scopeId","data-v-d2360071"]]);export{Jt as default};
