import{d as Se,c as $e,r as z,W as Ae,l as Re,g as _,o as u,w as o,e as l,b as s,u as e,f as r,t as d,a as v,F as L,i as U,h as p,k as P,n as Ve,y as Le}from"./app-De5aCyOy.js";import{_ as Ue}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Dj8HCjtT.js";import{l as De}from"./lodash-D8CZwZrT.js";import{_ as N}from"./Button.vue_vue_type_script_setup_true_lang-C1ptny9S.js";import{_ as ne}from"./Input.vue_vue_type_script_setup_true_lang-XEyr05A5.js";import{_ as b}from"./Label.vue_vue_type_script_setup_true_lang-BhPM2rb2.js";import{_ as g}from"./Card.vue_vue_type_script_setup_true_lang-D592-r3Y.js";import{_ as x}from"./CardContent.vue_vue_type_script_setup_true_lang-BnfRKYb9.js";import{_ as Ee}from"./CardDescription.vue_vue_type_script_setup_true_lang-7y99tksC.js";import{_ as re}from"./CardHeader.vue_vue_type_script_setup_true_lang-B9pSfhlq.js";import{_ as ie}from"./CardTitle.vue_vue_type_script_setup_true_lang-C3o6pLjC.js";import{_ as Te}from"./Checkbox.vue_vue_type_script_setup_true_lang-CJs0Ik0y.js";import{_ as j,a as O,b as q,c as H,d as S}from"./SelectValue.vue_vue_type_script_setup_true_lang-D84q5NJt.js";import{_ as ze,a as Be,b as I,c as k,d as Fe,e as y}from"./TableHeader.vue_vue_type_script_setup_true_lang-CiatGxJJ.js";import{_ as h}from"./index-CNloWqrH.js";import{_ as Me,a as Pe,b as Ne,c as je}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DykgtCUG.js";import{_ as Oe}from"./DialogDescription.vue_vue_type_script_setup_true_lang-CQOeOJ-N.js";import{D as qe}from"./download-ziV5naxV.js";import{A as D}from"./activity-DLqIsvcX.js";import{T as $}from"./triangle-alert-QBZ4KeJk.js";import{T as de}from"./target-CkYXQ-0W.js";import{C as ue}from"./clock-BXDw5ZYb.js";import{Z as He}from"./zap-D1oSNxAK.js";import{F as Ie}from"./filter-Ihqwk31P.js";import{R as We}from"./rotate-ccw-D8-XKrTw.js";import{U as Ze}from"./user-D0HtPb4E.js";import{C as Ke}from"./calendar-BbiMWXwU.js";import{B as me}from"./brain-ZZGMlF7t.js";import{P as Ge}from"./play-CqouLqeA.js";import{S as fe}from"./AppLayout.vue_vue_type_script_setup_true_lang-DrTEAkGA.js";import{S as Je}from"./skip-forward-ChvwhDlf.js";import{E as ce}from"./eye-Jbp-o3OQ.js";import{C as W}from"./circle-check-big-BYC-wlwA.js";import"./index-D3npKzxP.js";import"./index-shR_F4Lk.js";import"./check-DTkWFW74.js";import"./useForwardPropsEmits-Cp6q3zLn.js";import"./Presence-DbAr2sRl.js";import"./ConfigProvider-B6_1veax.js";import"./useForwardExpose-Cyi8rQxf.js";import"./Teleport-swefm16Y.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-CPyPlHCY.js";import"./Collection-BDp_B7Ge.js";import"./usePrimitiveElement-B41iOtr7.js";import"./useSize-CHi05SbU.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-9kO_gd9f.js";import"./_plugin-vue_export-helper-DsuA5ZjC.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-UOeKMcHs.js";const Qe={class:"px-4 sm:px-0 space-y-6"},Xe={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},Ye={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4"},et={class:"flex items-center"},tt={class:"ml-4"},st={class:"text-2xl font-bold text-foreground"},lt={class:"flex items-center"},ot={class:"ml-4"},at={class:"text-2xl font-bold text-foreground"},nt={class:"flex items-center"},rt={class:"ml-4"},it={class:"text-2xl font-bold text-foreground"},dt={class:"flex items-center"},ut={class:"ml-4"},mt={class:"text-2xl font-bold text-foreground"},ft={class:"flex items-center"},ct={class:"ml-4"},_t={class:"text-2xl font-bold text-foreground"},vt={class:"flex items-center"},gt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4"},xt={class:"space-y-2"},pt={class:"space-y-2"},ht={class:"space-y-2"},yt={class:"space-y-2"},wt={class:"space-y-2"},kt={class:"space-y-2"},bt={class:"flex items-center space-x-2"},Ct={class:"flex justify-end mt-4"},St={class:"overflow-x-auto"},$t={class:"flex items-center"},At={class:"flex items-center"},Rt={class:"flex items-center"},Vt={class:"flex items-center"},Lt={class:"flex items-center"},Ut={class:"flex items-center"},Dt={class:"flex items-center"},Et={class:"flex flex-col items-center"},Tt={class:"space-y-1"},zt={class:"font-medium text-foreground"},Bt={class:"text-sm text-muted-foreground hidden sm:block"},Ft={class:"text-sm text-muted-foreground sm:hidden"},Mt={class:"space-y-1"},Pt={class:"text-sm text-muted-foreground"},Nt={class:"space-y-1"},jt={class:"text-sm text-foreground"},Ot={key:0,class:"text-sm text-muted-foreground"},qt={class:"space-y-1"},Ht={class:"text-sm font-medium text-foreground"},It={key:0,class:"text-xs text-muted-foreground"},Wt={class:"space-y-2"},Zt={class:"text-xs text-muted-foreground"},Kt={class:"space-y-1 text-xs text-muted-foreground"},Gt={key:0,class:"flex items-center"},Jt={key:1,class:"flex items-center"},Qt={key:2,class:"text-muted-foreground"},Xt={class:"flex flex-col space-y-1"},Yt={key:0,class:"px-4 sm:px-6 py-3 border-t border-gray-200"},es={class:"flex items-center justify-between"},ts={class:"text-sm text-muted-foreground"},ss={class:"flex space-x-2"},ls=["href","innerHTML"],os={key:0,class:"space-y-6 mt-4"},as={class:"bg-muted/50 rounded-lg p-4"},ns={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},rs={class:"font-medium"},is={class:"font-medium"},ds={class:"font-medium"},us={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ms={class:"text-3xl font-bold text-primary mb-2"},fs={class:"text-3xl font-bold text-green-600 mb-2"},cs={class:"w-full bg-muted rounded-full h-2 mt-2"},_s={class:"text-3xl font-bold text-red-600 mb-2"},vs={class:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center"},gs={class:"p-3 bg-muted rounded-lg"},xs={class:"text-2xl font-bold text-orange-600"},ps={class:"p-3 bg-muted rounded-lg"},hs={class:"text-2xl font-bold text-blue-600"},ys={class:"flex items-start"},ws={class:"flex-shrink-0"},yl=Se({__name:"LearningSessionsReport",props:{sessions:Object,courses:Array,users:Array,departments:Array,filters:Object,stats:Object},setup(f){var J,Q,X,Y,ee,te;const w=f,_e=$e(()=>{var t,n;const a=((t=w.sessions)==null?void 0:t.meta)||{};if(a.last_page!=null)return a.last_page;if(a.lastPage!=null)return a.lastPage;if(a.total!=null&&a.per_page)return Math.ceil(a.total/a.per_page);try{const R=(((n=w.sessions)==null?void 0:n.links)||[]).map(C=>{if(!C||!C.url)return null;try{const V=new URL(C.url,typeof window<"u"?window.location.origin:"http://localhost").searchParams.get("page");return V?Number(V):null}catch{return null}}).filter(Boolean);return R.length?Math.max(...R):1}catch{return 1}}),ve=[{name:"Dashboard",href:route("dashboard")},{name:"Reports & Analytics",href:route("admin.reports.index")},{name:"Learning Sessions",href:route("admin.reports.course-online.learning-sessions")}],c=z({course_id:((J=w.filters)==null?void 0:J.course_id)||"",user_id:((Q=w.filters)==null?void 0:Q.user_id)||"",department_id:((X=w.filters)==null?void 0:X.department_id)||"",date_from:((Y=w.filters)==null?void 0:Y.date_from)||"",date_to:((ee=w.filters)==null?void 0:ee.date_to)||"",suspicious_only:((te=w.filters)==null?void 0:te.suspicious_only)||!1}),A=z(!1),B=z(""),m=z(null),F=a=>{switch(a?a.toLowerCase():"unknown"){case"high":return"default";case"medium":return"secondary";case"low":return"outline";case"very low":return"destructive";default:return"secondary"}},Z=a=>{switch(a?a.toLowerCase():"unknown"){case"high":return de;case"medium":return D;case"low":return $;case"very low":return $;default:return D}},K=a=>{switch(a?a.toLowerCase():"none"){case"critical":case"very high":return"destructive";case"high":return"destructive";case"medium":return"outline";case"low":return"secondary";default:return"secondary"}},ge=a=>{switch(a?a.toLowerCase():"none"){case"critical":case"very high":return fe;case"high":return $;case"medium":return ce;case"low":return W;default:return W}},xe=a=>{c.value.course_id=a==="all"?"":a},pe=a=>{c.value.user_id=a==="all"?"":a},G=De.debounce(()=>{const a={...c.value};a.date_from&&(a.date_from=a.date_from.trim()),a.date_to&&(a.date_to=a.date_to.trim()),Ae.get(route("admin.reports.course-online.learning-sessions"),a,{preserveState:!0,replace:!0})},500);Re(c,()=>{G()},{deep:!0});const he=()=>{c.value={course_id:"",user_id:"",department_id:"",date_from:"",date_to:"",suspicious_only:!1},G()},ye=()=>{const a=new URLSearchParams(c.value).toString();window.location.href=route("admin.reports.course-online.export.learning-sessions")+"?"+a},we=a=>{if(!a||a<=0)return"0 min";if(a<60)return`${Math.round(a)} min`;const t=Math.floor(a/60),n=Math.round(a%60);return n>0?`${t}h ${n}m`:`${t}h`},ke=a=>{m.value=a,B.value=`Session Details - ${a.user_name}`,A.value=!0},be=()=>{A.value=!1,m.value=null,B.value=""},Ce=a=>{a.key==="Escape"&&A.value&&be()};return typeof window<"u"&&window.addEventListener("keydown",Ce),(a,t)=>(u(),_(Ue,{breadcrumbs:ve},{default:o(()=>[l("div",Qe,[l("div",Xe,[t[6]||(t[6]=l("div",null,[l("h1",{class:"text-xl sm:text-2xl font-bold text-foreground"},"Learning Sessions Report"),l("p",{class:"text-sm text-muted-foreground mt-1"},"Comprehensive reporting interface for tracking learning sessions and engagement metrics")],-1)),s(e(N),{onClick:ye,class:"w-full sm:w-auto"},{default:o(()=>[s(e(qe),{class:"mr-2 h-4 w-4"}),t[5]||(t[5]=r(" Export to CSV "))]),_:1})]),l("div",Ye,[s(e(g),null,{default:o(()=>[s(e(x),{class:"p-6"},{default:o(()=>{var n;return[l("div",et,[s(e(D),{class:"h-8 w-8 text-blue-600"}),l("div",tt,[t[7]||(t[7]=l("p",{class:"text-sm font-medium text-muted-foreground"},"Total Sessions",-1)),l("p",st,d(((n=f.stats)==null?void 0:n.total_sessions)||0),1)])])]}),_:1})]),_:1}),s(e(g),null,{default:o(()=>[s(e(x),{class:"p-6"},{default:o(()=>{var n;return[l("div",lt,[s(e($),{class:"h-8 w-8 text-red-600"}),l("div",ot,[t[8]||(t[8]=l("p",{class:"text-sm font-medium text-muted-foreground"},"Suspicious Sessions",-1)),l("p",at,d(((n=f.stats)==null?void 0:n.suspicious_sessions)||0),1)])])]}),_:1})]),_:1}),s(e(g),null,{default:o(()=>[s(e(x),{class:"p-6"},{default:o(()=>{var n;return[l("div",nt,[s(e(de),{class:"h-8 w-8 text-yellow-600"}),l("div",rt,[t[9]||(t[9]=l("p",{class:"text-sm font-medium text-muted-foreground"},"Avg Attention",-1)),l("p",it,d(((n=f.stats)==null?void 0:n.average_attention_score)||0)+"%",1)])])]}),_:1})]),_:1}),s(e(g),null,{default:o(()=>[s(e(x),{class:"p-6"},{default:o(()=>{var n;return[l("div",dt,[s(e(ue),{class:"h-8 w-8 text-green-600"}),l("div",ut,[t[10]||(t[10]=l("p",{class:"text-sm font-medium text-muted-foreground"},"Avg Duration",-1)),l("p",mt,d(we((n=f.stats)==null?void 0:n.average_session_duration)),1)])])]}),_:1})]),_:1}),s(e(g),null,{default:o(()=>[s(e(x),{class:"p-6"},{default:o(()=>{var n;return[l("div",ft,[s(e(He),{class:"h-8 w-8 text-purple-600"}),l("div",ct,[t[11]||(t[11]=l("p",{class:"text-sm font-medium text-muted-foreground"},"High Engagement",-1)),l("p",_t,d(((n=f.stats)==null?void 0:n.high_engagement_sessions)||0),1)])])]}),_:1})]),_:1})]),s(e(g),null,{default:o(()=>[s(e(re),null,{default:o(()=>[l("div",vt,[s(e(Ie),{class:"mr-2 h-5 w-5 text-primary"}),l("div",null,[s(e(ie),null,{default:o(()=>t[12]||(t[12]=[r("Filter Sessions")])),_:1}),s(e(Ee),null,{default:o(()=>t[13]||(t[13]=[r("Use the filters below to narrow down the session records")])),_:1})])])]),_:1}),s(e(x),null,{default:o(()=>[l("div",gt,[l("div",xt,[s(e(b),{for:"course_filter"},{default:o(()=>t[14]||(t[14]=[r("Course")])),_:1}),s(e(j),{"model-value":c.value.course_id||"all","onUpdate:modelValue":xe},{default:o(()=>[s(e(O),{id:"course_filter"},{default:o(()=>[s(e(q),{placeholder:"All Courses"})]),_:1}),s(e(H),null,{default:o(()=>[s(e(S),{value:"all"},{default:o(()=>t[15]||(t[15]=[r("All Courses")])),_:1}),(u(!0),v(L,null,U(f.courses,n=>(u(),_(e(S),{key:n.id,value:n.id.toString()},{default:o(()=>[r(d(n.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"])]),l("div",pt,[s(e(b),{for:"user_filter"},{default:o(()=>t[16]||(t[16]=[r("User")])),_:1}),s(e(j),{"model-value":c.value.user_id||"all","onUpdate:modelValue":pe},{default:o(()=>[s(e(O),{id:"user_filter"},{default:o(()=>[s(e(q),{placeholder:"All Users"})]),_:1}),s(e(H),null,{default:o(()=>[s(e(S),{value:"all"},{default:o(()=>t[17]||(t[17]=[r("All Users")])),_:1}),(u(!0),v(L,null,U(f.users,n=>(u(),_(e(S),{key:n.id,value:n.id.toString()},{default:o(()=>[r(d(n.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"])]),l("div",ht,[s(e(b),{for:"department_filter"},{default:o(()=>t[18]||(t[18]=[r("Department")])),_:1}),s(e(j),{"model-value":c.value.department_id||"all","onUpdate:modelValue":t[0]||(t[0]=n=>c.value.department_id=n==="all"?"":n)},{default:o(()=>[s(e(O),{id:"department_filter"},{default:o(()=>[s(e(q),{placeholder:"All Departments"})]),_:1}),s(e(H),null,{default:o(()=>[s(e(S),{value:"all"},{default:o(()=>t[19]||(t[19]=[r("All Departments")])),_:1}),(u(!0),v(L,null,U(f.departments,n=>(u(),_(e(S),{key:n.id,value:n.id.toString()},{default:o(()=>[r(d(n.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"])]),l("div",yt,[s(e(b),{for:"date_from"},{default:o(()=>t[20]||(t[20]=[r("Session From")])),_:1}),s(e(ne),{id:"date_from",type:"date",modelValue:c.value.date_from,"onUpdate:modelValue":t[1]||(t[1]=n=>c.value.date_from=n)},null,8,["modelValue"])]),l("div",wt,[s(e(b),{for:"date_to"},{default:o(()=>t[21]||(t[21]=[r("Session To")])),_:1}),s(e(ne),{id:"date_to",type:"date",modelValue:c.value.date_to,"onUpdate:modelValue":t[2]||(t[2]=n=>c.value.date_to=n)},null,8,["modelValue"])]),l("div",kt,[s(e(b),null,{default:o(()=>t[22]||(t[22]=[r("Options")])),_:1}),l("div",bt,[s(e(Te),{id:"suspicious_only",checked:c.value.suspicious_only,"onUpdate:checked":t[3]||(t[3]=n=>c.value.suspicious_only=n)},null,8,["checked"]),s(e(b),{for:"suspicious_only",class:"text-sm font-normal"},{default:o(()=>t[23]||(t[23]=[r(" Suspicious Only ")])),_:1})])])]),l("div",Ct,[s(e(N),{onClick:he,variant:"outline"},{default:o(()=>[s(e(We),{class:"mr-2 h-4 w-4"}),t[24]||(t[24]=r(" Reset Filters "))]),_:1})])]),_:1})]),_:1}),s(e(g),null,{default:o(()=>{var n,E,R,C,T,V,se,le,oe,ae;return[l("div",St,[s(e(ze),null,{default:o(()=>[s(e(Be),null,{default:o(()=>[s(e(I),null,{default:o(()=>[s(e(k),null,{default:o(()=>[l("div",$t,[s(e(Ze),{class:"mr-2 h-4 w-4"}),t[25]||(t[25]=r(" User "))])]),_:1}),s(e(k),{class:"hidden sm:table-cell"},{default:o(()=>[l("div",At,[s(e(D),{class:"mr-2 h-4 w-4"}),t[26]||(t[26]=r(" Course & Content "))])]),_:1}),s(e(k),null,{default:o(()=>[l("div",Rt,[s(e(Ke),{class:"mr-2 h-4 w-4"}),t[27]||(t[27]=r(" Session Time "))])]),_:1}),s(e(k),null,{default:o(()=>[l("div",Vt,[s(e(ue),{class:"mr-2 h-4 w-4"}),t[28]||(t[28]=r(" Duration "))])]),_:1}),s(e(k),null,{default:o(()=>[l("div",Lt,[s(e(me),{class:"mr-2 h-4 w-4"}),t[29]||(t[29]=r(" Engagement "))])]),_:1}),s(e(k),{class:"hidden md:table-cell"},{default:o(()=>[l("div",Ut,[s(e(Ge),{class:"mr-2 h-4 w-4"}),t[30]||(t[30]=r(" Activities "))])]),_:1}),s(e(k),null,{default:o(()=>[l("div",Dt,[s(e(fe),{class:"mr-2 h-4 w-4"}),t[31]||(t[31]=r(" Status "))])]),_:1}),s(e(k),null,{default:o(()=>t[32]||(t[32]=[r("Actions")])),_:1})]),_:1})]),_:1}),s(e(Fe),null,{default:o(()=>[f.sessions.data.length===0?(u(),_(e(I),{key:0},{default:o(()=>[s(e(y),{colspan:"8",class:"text-center text-muted-foreground py-8"},{default:o(()=>[l("div",Et,[s(e(D),{class:"h-12 w-12 text-muted-foreground mb-2"}),t[33]||(t[33]=r(" No learning sessions found "))])]),_:1})]),_:1})):(u(!0),v(L,{key:1},U(f.sessions.data,(i,M)=>(u(),_(e(I),{key:M,class:"hover:bg-muted/50"},{default:o(()=>[s(e(y),null,{default:o(()=>[l("div",Tt,[l("div",zt,d(i.user_name),1),l("div",Bt,d(i.user_email),1),l("div",Ft,d(i.course_name),1)])]),_:2},1024),s(e(y),{class:"hidden sm:table-cell"},{default:o(()=>[l("div",Mt,[s(e(h),{variant:"outline"},{default:o(()=>[r(d(i.course_name),1)]),_:2},1024),l("div",Pt,d(i.content_title),1)])]),_:2},1024),s(e(y),null,{default:o(()=>[l("div",Nt,[l("div",jt,d(i.session_start),1),i.session_end?(u(),v("div",Ot," Ended: "+d(i.session_end),1)):(u(),_(e(h),{key:1,variant:"destructive",class:"text-xs"},{default:o(()=>t[34]||(t[34]=[r(" Active ")])),_:1}))])]),_:2},1024),s(e(y),null,{default:o(()=>[l("div",qt,[l("div",Ht,d(i.duration),1),i.video_completion>0?(u(),v("div",It,d(i.video_completion)+"% watched ",1)):p("",!0)])]),_:2},1024),s(e(y),null,{default:o(()=>[l("div",Wt,[s(e(h),{variant:F(i.engagement_level),class:"flex items-center w-fit"},{default:o(()=>[(u(),_(P(Z(i.engagement_level)),{class:"mr-1 h-3 w-3"})),r(" "+d(i.engagement_level),1)]),_:2},1032,["variant"]),l("div",Zt,d(i.attention_score)+"% attention",1)])]),_:2},1024),s(e(y),{class:"hidden md:table-cell"},{default:o(()=>[l("div",Kt,[i.skip_count>0?(u(),v("div",Gt,[s(e(Je),{class:"mr-1 h-3 w-3 text-orange-600"}),r(" "+d(i.skip_count)+" skips ",1)])):p("",!0),i.seek_count>0?(u(),v("div",Jt,[s(e(ce),{class:"mr-1 h-3 w-3 text-blue-600"}),r(" "+d(i.seek_count)+" seeks ",1)])):p("",!0),i.skip_count===0&&i.seek_count===0?(u(),v("div",Qt," No activity ")):p("",!0)])]),_:2},1024),s(e(y),null,{default:o(()=>[l("div",Xt,[i.cheating_score>20?(u(),_(e(h),{key:0,variant:K(i.cheating_risk),class:"flex items-center w-fit"},{default:o(()=>[(u(),_(P(ge(i.cheating_risk)),{class:"mr-1 h-3 w-3"})),r(" "+d(i.cheating_risk)+" Risk ",1)]),_:2},1032,["variant"])):p("",!0),i.is_suspicious?(u(),_(e(h),{key:1,variant:"destructive",class:"flex items-center w-fit"},{default:o(()=>[s(e($),{class:"mr-1 h-3 w-3"}),t[35]||(t[35]=r(" Suspicious "))]),_:1})):p("",!0),!i.is_suspicious&&i.cheating_score<=20?(u(),_(e(h),{key:2,variant:"secondary",class:"flex items-center w-fit"},{default:o(()=>[s(e(W),{class:"mr-1 h-3 w-3"}),t[36]||(t[36]=r(" Normal "))]),_:1})):p("",!0)])]),_:2},1024),s(e(y),null,{default:o(()=>[s(e(N),{onClick:ks=>ke(i),variant:"link",size:"sm",class:"h-auto p-0"},{default:o(()=>t[37]||(t[37]=[r(" View Details ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),((E=(n=f.sessions)==null?void 0:n.data)==null?void 0:E.length)>0&&(_e.value>1||(R=f.sessions)!=null&&R.links&&f.sessions.links.length>0)?(u(),v("div",Yt,[l("div",es,[l("div",ts," Showing "+d(((T=(C=f.sessions)==null?void 0:C.meta)==null?void 0:T.from)||1)+" to "+d(((se=(V=f.sessions)==null?void 0:V.meta)==null?void 0:se.to)||f.sessions.data.length)+" of "+d(((oe=(le=f.sessions)==null?void 0:le.meta)==null?void 0:oe.total)||f.sessions.data.length)+" results ",1),l("div",ss,[(u(!0),v(L,null,U(((ae=f.sessions)==null?void 0:ae.links)||[],(i,M)=>(u(),v("a",{key:i.url||i.label||M,href:i.url,class:Ve([{"bg-primary text-primary-foreground":i.active,"hover:bg-muted":!i.active&&i.url,"text-muted-foreground cursor-not-allowed":!i.url},"px-3 py-2 text-sm font-medium border rounded-md transition-colors"]),innerHTML:i.label},null,10,ls))),128))])])])):p("",!0)]}),_:1})]),s(e(Me),{open:A.value,"onUpdate:open":t[4]||(t[4]=n=>A.value=n)},{default:o(()=>[s(e(Pe),{class:"max-w-4xl"},{default:o(()=>[s(e(Ne),null,{default:o(()=>[s(e(je),{class:"flex items-center"},{default:o(()=>[s(e(me),{class:"mr-2 h-5 w-5 text-primary"}),r(" "+d(B.value),1)]),_:1}),s(e(Oe),null,{default:o(()=>t[38]||(t[38]=[r(" Detailed session analytics and engagement metrics ")])),_:1})]),_:1}),m.value?(u(),v("div",os,[l("div",as,[t[43]||(t[43]=l("h4",{class:"text-sm font-semibold text-foreground mb-3"},"Session Overview",-1)),l("div",ns,[l("div",null,[t[39]||(t[39]=l("span",{class:"text-sm text-muted-foreground"},"User:",-1)),l("div",rs,d(m.value.user_name),1)]),l("div",null,[t[40]||(t[40]=l("span",{class:"text-sm text-muted-foreground"},"Course:",-1)),l("div",is,d(m.value.course_name),1)]),l("div",null,[t[41]||(t[41]=l("span",{class:"text-sm text-muted-foreground"},"Duration:",-1)),l("div",ds,d(m.value.duration),1)]),l("div",null,[t[42]||(t[42]=l("span",{class:"text-sm text-muted-foreground"},"Engagement:",-1)),s(e(h),{variant:F(m.value.engagement_level),class:"flex items-center w-fit"},{default:o(()=>[(u(),_(P(Z(m.value.engagement_level)),{class:"mr-1 h-3 w-3"})),r(" "+d(m.value.engagement_level),1)]),_:1},8,["variant"])])])]),l("div",us,[s(e(g),null,{default:o(()=>[s(e(x),{class:"p-6 text-center"},{default:o(()=>[l("div",ms,d(m.value.attention_score)+"%",1),t[44]||(t[44]=l("div",{class:"text-sm text-muted-foreground"},"Attention Score",-1)),s(e(h),{variant:F(m.value.engagement_level),class:"mt-2"},{default:o(()=>[r(d(m.value.engagement_level),1)]),_:1},8,["variant"])]),_:1})]),_:1}),s(e(g),null,{default:o(()=>[s(e(x),{class:"p-6 text-center"},{default:o(()=>[l("div",fs,d(m.value.video_completion||0)+"%",1),t[45]||(t[45]=l("div",{class:"text-sm text-muted-foreground"},"Video Completion",-1)),l("div",cs,[l("div",{class:"bg-green-500 h-2 rounded-full transition-all duration-300",style:Le({width:(m.value.video_completion||0)+"%"})},null,4)])]),_:1})]),_:1}),s(e(g),null,{default:o(()=>[s(e(x),{class:"p-6 text-center"},{default:o(()=>[l("div",_s,d(m.value.cheating_score||0)+"%",1),t[47]||(t[47]=l("div",{class:"text-sm text-muted-foreground"},"Cheating Score",-1)),m.value.cheating_score>20?(u(),_(e(h),{key:0,variant:K(m.value.cheating_risk),class:"mt-2"},{default:o(()=>[r(d(m.value.cheating_risk)+" Risk ",1)]),_:1},8,["variant"])):(u(),_(e(h),{key:1,variant:"secondary",class:"mt-2"},{default:o(()=>t[46]||(t[46]=[r(" Low Risk ")])),_:1}))]),_:1})]),_:1})]),s(e(g),null,{default:o(()=>[s(e(re),null,{default:o(()=>[s(e(ie),{class:"text-base"},{default:o(()=>t[48]||(t[48]=[r("Activity Breakdown")])),_:1})]),_:1}),s(e(x),null,{default:o(()=>[l("div",vs,[l("div",gs,[l("div",xs,d(m.value.skip_count||0),1),t[49]||(t[49]=l("div",{class:"text-sm text-muted-foreground"},"Video Skips",-1))]),l("div",ps,[l("div",hs,d(m.value.seek_count||0),1),t[50]||(t[50]=l("div",{class:"text-sm text-muted-foreground"},"Seeks",-1))]),t[51]||(t[51]=l("div",{class:"p-3 bg-muted rounded-lg"},[l("div",{class:"text-2xl font-bold text-green-600"},"0"),l("div",{class:"text-sm text-muted-foreground"},"Pauses")],-1)),t[52]||(t[52]=l("div",{class:"p-3 bg-muted rounded-lg"},[l("div",{class:"text-2xl font-bold text-purple-600"},"0"),l("div",{class:"text-sm text-muted-foreground"},"Replays")],-1))])]),_:1})]),_:1}),m.value.is_suspicious?(u(),_(e(g),{key:0,class:"border-orange-200 bg-orange-50 dark:bg-orange-950"},{default:o(()=>[s(e(x),{class:"p-4"},{default:o(()=>[l("div",ys,[l("div",ws,[s(e($),{class:"h-5 w-5 text-orange-500"})]),t[53]||(t[53]=l("div",{class:"ml-3"},[l("h3",{class:"text-sm font-medium text-orange-800 dark:text-orange-200"},"Attention Required"),l("div",{class:"mt-2 text-sm text-orange-700 dark:text-orange-300"},[l("p",null,"This session shows signs of unusual activity that may require review.")])],-1))])]),_:1})]),_:1})):p("",!0)])):p("",!0)]),_:1})]),_:1},8,["open"])]),_:1}))}});export{yl as default};
