import{d as xe,r as A,W as ve,l as he,g as v,o as u,w as o,e,b as l,u as t,f as i,t as r,a as f,F as q,i as U,h as P,n as y,y as S,k as Z}from"./app-De5aCyOy.js";import{_ as be}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Dj8HCjtT.js";import{l as ye}from"./lodash-D8CZwZrT.js";import{c as we,_ as M}from"./Button.vue_vue_type_script_setup_true_lang-C1ptny9S.js";import{_ as ee}from"./Input.vue_vue_type_script_setup_true_lang-XEyr05A5.js";import{_ as $}from"./Label.vue_vue_type_script_setup_true_lang-BhPM2rb2.js";import{_ as g}from"./Card.vue_vue_type_script_setup_true_lang-D592-r3Y.js";import{_ as p}from"./CardContent.vue_vue_type_script_setup_true_lang-BnfRKYb9.js";import{_ as ke}from"./CardDescription.vue_vue_type_script_setup_true_lang-7y99tksC.js";import{_ as D}from"./CardHeader.vue_vue_type_script_setup_true_lang-B9pSfhlq.js";import{_ as L}from"./CardTitle.vue_vue_type_script_setup_true_lang-C3o6pLjC.js";import{_ as B,a as F,b as N,c as E,d as w}from"./SelectValue.vue_vue_type_script_setup_true_lang-D84q5NJt.js";import{_ as ze,a as Ce,b as j,c as b,d as qe,e as h}from"./TableHeader.vue_vue_type_script_setup_true_lang-CiatGxJJ.js";import{_ as te}from"./index-CNloWqrH.js";import{_ as Ue,a as $e,b as Ae,c as Pe}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DykgtCUG.js";import{_ as Ve}from"./DialogDescription.vue_vue_type_script_setup_true_lang-CQOeOJ-N.js";import{D as Re}from"./download-ziV5naxV.js";import{U as I}from"./_plugin-vue_export-helper-DsuA5ZjC.js";import{A as se}from"./award-CCJqRf4Z.js";import{C as le}from"./circle-check-big-BYC-wlwA.js";import{C as oe}from"./clock-BXDw5ZYb.js";import{F as Te}from"./filter-Ihqwk31P.js";import{R as Se}from"./rotate-ccw-D8-XKrTw.js";import{U as Me}from"./user-D0HtPb4E.js";import{B as De}from"./book-open-pPANAQ7D.js";import{C as Le}from"./chart-column-CQTiunbh.js";import{B as Be}from"./brain-ZZGMlF7t.js";import{T as H}from"./target-CkYXQ-0W.js";import{T as ae}from"./triangle-alert-QBZ4KeJk.js";import{T as Fe}from"./trending-up-C922m79C.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-DrTEAkGA.js";import"./index-D3npKzxP.js";import"./index-shR_F4Lk.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-UOeKMcHs.js";import"./useForwardPropsEmits-Cp6q3zLn.js";import"./Presence-DbAr2sRl.js";import"./ConfigProvider-B6_1veax.js";import"./useForwardExpose-Cyi8rQxf.js";import"./Teleport-swefm16Y.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-CPyPlHCY.js";import"./Collection-BDp_B7Ge.js";import"./usePrimitiveElement-B41iOtr7.js";import"./check-DTkWFW74.js";import"./useSize-CHi05SbU.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-9kO_gd9f.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=we("ClipboardCheckIcon",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),Ne={class:"px-4 sm:px-0 space-y-6"},Ee={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},je={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},Ie={class:"flex items-center"},He={class:"ml-4"},Oe={class:"text-2xl font-bold text-foreground"},Qe={class:"flex items-center"},We={class:"ml-4"},Ge={class:"text-2xl font-bold text-foreground"},Ke={class:"flex items-center"},Je={class:"ml-4"},Xe={class:"text-2xl font-bold text-foreground"},Ye={class:"flex items-center"},Ze={class:"ml-4"},et={class:"text-2xl font-bold text-foreground"},tt={class:"flex items-center"},st={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},lt={class:"space-y-2"},ot={class:"space-y-2"},at={class:"space-y-2"},rt={class:"space-y-2"},nt={class:"space-y-2"},dt={class:"flex justify-end mt-4"},it={class:"overflow-x-auto"},ut={class:"flex items-center"},mt={class:"flex items-center"},ct={class:"flex items-center"},ft={class:"flex items-center"},_t={class:"flex items-center"},gt={class:"flex items-center"},pt={class:"flex items-center",title:"Measures quiz completion and passing standards across all assigned quizzes"},xt={class:"flex items-center"},vt={class:"flex flex-col items-center"},ht={class:"space-y-1"},bt={class:"font-medium text-foreground"},yt={class:"text-sm text-muted-foreground hidden sm:block"},wt={class:"text-sm text-muted-foreground"},kt={class:"space-y-1"},zt={class:"text-sm font-medium text-foreground"},Ct={class:"text-xs text-muted-foreground"},qt={class:"space-y-2"},Ut={class:"flex items-center space-x-2"},$t={class:"w-full bg-muted rounded-full h-2"},At={class:"text-xs text-muted-foreground md:hidden"},Pt={class:"text-sm font-medium text-foreground"},Vt={class:"w-full bg-muted rounded-full h-1 mt-1"},Rt={class:"space-y-1"},Tt={class:"text-sm font-medium text-foreground"},St={class:"text-xs text-muted-foreground"},Mt={class:"space-y-1"},Dt={class:"text-sm font-medium text-foreground"},Lt={key:0,class:"text-xs text-red-600"},Bt={key:1,class:"text-xs text-green-600"},Ft={key:0,class:"space-y-1"},Nt={class:"flex items-center gap-2"},Et={class:"text-xs text-muted-foreground"},jt={key:1,class:"text-sm text-muted-foreground"},It={class:"space-y-1"},Ht={class:"font-semibold text-lg text-foreground"},Ot={class:"text-xs text-muted-foreground sm:hidden"},Qt={key:0,class:"px-4 sm:px-6 py-3 border-t border-gray-200"},Wt={class:"flex items-center justify-between"},Gt={class:"text-sm text-muted-foreground"},Kt={class:"flex space-x-2"},Jt=["href","innerHTML"],Xt={key:0,class:"space-y-6 mt-4"},Yt={class:"bg-muted/50 rounded-lg p-4"},Zt={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},es={class:"font-medium"},ts={class:"font-medium"},ss={class:"font-medium"},ls={class:"space-y-1"},os={class:"font-semibold text-lg"},as={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},rs={class:"text-3xl font-bold text-blue-600 mb-2"},ns={class:"text-3xl font-bold text-green-600 mb-2"},ds={class:"w-full bg-muted rounded-full h-2 mt-2"},is={class:"text-3xl font-bold text-purple-600 mb-2"},us={class:"text-xs text-muted-foreground mt-1"},ms={class:"text-3xl font-bold text-yellow-600 mb-2"},cs={key:0,class:"text-xs text-red-600 mt-1"},fs={key:1,class:"text-xs text-green-600 mt-1"},_s={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center"},gs={class:"p-4 bg-green-50 dark:bg-green-950 rounded-lg"},ps={class:"text-2xl font-bold text-green-600"},xs={class:"p-4 bg-blue-50 dark:bg-blue-950 rounded-lg"},vs={class:"text-2xl font-bold text-blue-600"},hs={class:"p-4 bg-orange-50 dark:bg-orange-950 rounded-lg"},bs={class:"text-2xl font-bold text-orange-600"},ys={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4"},ws={class:"text-center p-4 bg-blue-50 dark:bg-blue-950 rounded-lg"},ks={class:"text-2xl font-bold text-blue-600"},zs={class:"text-center p-4 bg-green-50 dark:bg-green-950 rounded-lg"},Cs={class:"text-2xl font-bold text-green-600"},qs={class:"text-center p-4 bg-purple-50 dark:bg-purple-950 rounded-lg"},Us={class:"text-2xl font-bold text-purple-600"},$s={class:"text-sm text-muted-foreground"},As={class:"flex items-start"},Ps={class:"flex-shrink-0"},Vs={class:"ml-3"},Rs={class:"mt-2 text-sm text-yellow-700 dark:text-yellow-300"},Ul=xe({__name:"UserPerformanceReport",props:{users:Object,courses:Array,allUsers:Array,departments:Array,filters:Object},setup(m){var G,K,J,X,Y;const k=m,ne=[{name:"Dashboard",href:route("dashboard")},{name:"Reports & Analytics",href:route("admin.reports.index")},{name:"User Performance",href:route("admin.reports.course-online.user-performance")}],c=A({user_id:((G=k.filters)==null?void 0:G.user_id)||"",department_id:((K=k.filters)==null?void 0:K.department_id)||"",course_id:((J=k.filters)==null?void 0:J.course_id)||"",date_from:((X=k.filters)==null?void 0:X.date_from)||"",date_to:((Y=k.filters)==null?void 0:Y.date_to)||""}),z=A(!1),V=A(""),n=A(null),O=d=>{switch(d?d.toLowerCase():"unknown"){case"excellent":return"default";case"good":return"secondary";case"average":return"outline";case"needs improvement":return"destructive";default:return"secondary"}},Q=d=>{switch(d?d.toLowerCase():"unknown"){case"excellent":return se;case"good":return Fe;case"average":return H;case"needs improvement":return ae;default:return H}},de=d=>d>=80?"text-green-600":d>=60?"text-blue-600":d>=40?"text-yellow-600":d>=20?"text-orange-600":"text-red-600",ie=d=>d>=85?"text-green-600":d>=70?"text-yellow-600":"text-red-600",ue=d=>{c.value.user_id=d==="all"?"":d},me=d=>{c.value.course_id=d==="all"?"":d},W=ye.debounce(()=>{const d={...c.value};d.date_from&&(d.date_from=d.date_from.trim()),d.date_to&&(d.date_to=d.date_to.trim()),ve.get(route("admin.reports.course-online.user-performance"),d,{preserveState:!0,replace:!0})},500);he(c,()=>{W()},{deep:!0});const ce=()=>{c.value={user_id:"",department_id:"",course_id:"",date_from:"",date_to:""},W()},fe=()=>{const d=new URLSearchParams(c.value).toString();window.location.href=route("admin.reports.course-online.export.user-performance")+"?"+d},_e=d=>{n.value=d,V.value=`Performance Details - ${d.name}`,z.value=!0},ge=()=>{z.value=!1,n.value=null,V.value=""},pe=d=>{d.key==="Escape"&&z.value&&ge()};return typeof window<"u"&&window.addEventListener("keydown",pe),(d,s)=>(u(),v(be,{breadcrumbs:ne},{default:o(()=>[e("div",Ne,[e("div",Ee,[s[5]||(s[5]=e("div",null,[e("h1",{class:"text-xl sm:text-2xl font-bold text-foreground"},"User Performance Report"),e("p",{class:"text-sm text-muted-foreground mt-1"},"Comprehensive reporting interface for tracking user performance and learning analytics")],-1)),l(t(M),{onClick:fe,class:"w-full sm:w-auto"},{default:o(()=>[l(t(Re),{class:"mr-2 h-4 w-4"}),s[4]||(s[4]=i(" Export to CSV "))]),_:1})]),e("div",je,[l(t(g),null,{default:o(()=>[l(t(p),{class:"p-6"},{default:o(()=>{var a;return[e("div",Ie,[l(t(I),{class:"h-8 w-8 text-blue-600"}),e("div",He,[s[6]||(s[6]=e("p",{class:"text-sm font-medium text-muted-foreground"},"Total Users",-1)),e("p",Oe,r(((a=m.users)==null?void 0:a.total)||0),1)])])]}),_:1})]),_:1}),l(t(g),null,{default:o(()=>[l(t(p),{class:"p-6"},{default:o(()=>{var a,_;return[e("div",Qe,[l(t(se),{class:"h-8 w-8 text-green-600"}),e("div",We,[s[7]||(s[7]=e("p",{class:"text-sm font-medium text-muted-foreground"},"High Performers",-1)),e("p",Ge,r(((_=(a=m.users)==null?void 0:a.data)==null?void 0:_.filter(x=>["Excellent","Good"].includes(x.performance_rating)).length)||0),1)])])]}),_:1})]),_:1}),l(t(g),null,{default:o(()=>[l(t(p),{class:"p-6"},{default:o(()=>{var a,_,x,C;return[e("div",Ke,[l(t(le),{class:"h-8 w-8 text-purple-600"}),e("div",Je,[s[8]||(s[8]=e("p",{class:"text-sm font-medium text-muted-foreground"},"Avg Completion",-1)),e("p",Xe,r(Math.round(((_=(a=m.users)==null?void 0:a.data)==null?void 0:_.reduce((R,T)=>R+T.completion_rate,0))/(((C=(x=m.users)==null?void 0:x.data)==null?void 0:C.length)||1)||0))+"%",1)])])]}),_:1})]),_:1}),l(t(g),null,{default:o(()=>[l(t(p),{class:"p-6"},{default:o(()=>{var a,_,x,C;return[e("div",Ye,[l(t(oe),{class:"h-8 w-8 text-orange-600"}),e("div",Ze,[s[9]||(s[9]=e("p",{class:"text-sm font-medium text-muted-foreground"},"Avg Learning Minutes",-1)),e("p",et,r(Math.round((((_=(a=m.users)==null?void 0:a.data)==null?void 0:_.reduce((R,T)=>R+T.total_learning_hours,0))/(((C=(x=m.users)==null?void 0:x.data)==null?void 0:C.length)||1)||0)*60))+"m",1)])])]}),_:1})]),_:1})]),l(t(g),null,{default:o(()=>[l(t(D),null,{default:o(()=>[e("div",tt,[l(t(Te),{class:"mr-2 h-5 w-5 text-primary"}),e("div",null,[l(t(L),null,{default:o(()=>s[10]||(s[10]=[i("Filter Users")])),_:1}),l(t(ke),null,{default:o(()=>s[11]||(s[11]=[i("Use the filters below to narrow down the user performance records")])),_:1})])])]),_:1}),l(t(p),null,{default:o(()=>[e("div",st,[e("div",lt,[l(t($),{for:"user_filter"},{default:o(()=>s[12]||(s[12]=[i("User")])),_:1}),l(t(B),{"model-value":c.value.user_id||"all","onUpdate:modelValue":ue},{default:o(()=>[l(t(F),{id:"user_filter"},{default:o(()=>[l(t(N),{placeholder:"All Users"})]),_:1}),l(t(E),null,{default:o(()=>[l(t(w),{value:"all"},{default:o(()=>s[13]||(s[13]=[i("All Users")])),_:1}),(u(!0),f(q,null,U(m.allUsers,a=>(u(),v(t(w),{key:a.id,value:a.id.toString()},{default:o(()=>[i(r(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"])]),e("div",ot,[l(t($),{for:"department_filter"},{default:o(()=>s[14]||(s[14]=[i("Department")])),_:1}),l(t(B),{"model-value":c.value.department_id||"all","onUpdate:modelValue":s[0]||(s[0]=a=>c.value.department_id=a==="all"?"":a)},{default:o(()=>[l(t(F),{id:"department_filter"},{default:o(()=>[l(t(N),{placeholder:"All Departments"})]),_:1}),l(t(E),null,{default:o(()=>[l(t(w),{value:"all"},{default:o(()=>s[15]||(s[15]=[i("All Departments")])),_:1}),(u(!0),f(q,null,U(m.departments,a=>(u(),v(t(w),{key:a.id,value:a.id.toString()},{default:o(()=>[i(r(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"])]),e("div",at,[l(t($),{for:"course_filter"},{default:o(()=>s[16]||(s[16]=[i("Course")])),_:1}),l(t(B),{"model-value":c.value.course_id||"all","onUpdate:modelValue":me},{default:o(()=>[l(t(F),{id:"course_filter"},{default:o(()=>[l(t(N),{placeholder:"All Courses"})]),_:1}),l(t(E),null,{default:o(()=>[l(t(w),{value:"all"},{default:o(()=>s[17]||(s[17]=[i("All Courses")])),_:1}),(u(!0),f(q,null,U(m.courses,a=>(u(),v(t(w),{key:a.id,value:a.id.toString()},{default:o(()=>[i(r(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"])]),e("div",rt,[l(t($),{for:"date_from"},{default:o(()=>s[18]||(s[18]=[i("Assignment From")])),_:1}),l(t(ee),{id:"date_from",type:"date",modelValue:c.value.date_from,"onUpdate:modelValue":s[1]||(s[1]=a=>c.value.date_from=a)},null,8,["modelValue"])]),e("div",nt,[l(t($),{for:"date_to"},{default:o(()=>s[19]||(s[19]=[i("Assignment To")])),_:1}),l(t(ee),{id:"date_to",type:"date",modelValue:c.value.date_to,"onUpdate:modelValue":s[2]||(s[2]=a=>c.value.date_to=a)},null,8,["modelValue"])])]),e("div",dt,[l(t(M),{onClick:ce,variant:"outline"},{default:o(()=>[l(t(Se),{class:"mr-2 h-4 w-4"}),s[20]||(s[20]=i(" Reset Filters "))]),_:1})])]),_:1})]),_:1}),l(t(g),null,{default:o(()=>[e("div",it,[l(t(ze),null,{default:o(()=>[l(t(Ce),null,{default:o(()=>[l(t(j),null,{default:o(()=>[l(t(b),null,{default:o(()=>[e("div",ut,[l(t(Me),{class:"mr-2 h-4 w-4"}),s[21]||(s[21]=i(" User "))])]),_:1}),l(t(b),{class:"hidden md:table-cell"},{default:o(()=>[e("div",mt,[l(t(De),{class:"mr-2 h-4 w-4"}),s[22]||(s[22]=i(" Assignments "))])]),_:1}),l(t(b),null,{default:o(()=>[e("div",ct,[l(t(le),{class:"mr-2 h-4 w-4"}),s[23]||(s[23]=i(" Completion "))])]),_:1}),l(t(b),{class:"hidden lg:table-cell"},{default:o(()=>[e("div",ft,[l(t(Le),{class:"mr-2 h-4 w-4"}),s[24]||(s[24]=i(" Progress "))])]),_:1}),l(t(b),{class:"hidden sm:table-cell"},{default:o(()=>[e("div",_t,[l(t(oe),{class:"mr-2 h-4 w-4"}),s[25]||(s[25]=i(" Learning Time "))])]),_:1}),l(t(b),{class:"hidden lg:table-cell"},{default:o(()=>[e("div",gt,[l(t(Be),{class:"mr-2 h-4 w-4"}),s[26]||(s[26]=i(" Attention "))])]),_:1}),l(t(b),{class:"hidden xl:table-cell"},{default:o(()=>[e("div",pt,[l(t(re),{class:"mr-2 h-4 w-4"}),s[27]||(s[27]=i(" Quiz Performance "))])]),_:1}),l(t(b),null,{default:o(()=>[e("div",xt,[l(t(H),{class:"mr-2 h-4 w-4"}),s[28]||(s[28]=i(" Performance "))])]),_:1}),l(t(b),null,{default:o(()=>s[29]||(s[29]=[i("Actions")])),_:1})]),_:1})]),_:1}),l(t(qe),null,{default:o(()=>[m.users.data.length===0?(u(),v(t(j),{key:0},{default:o(()=>[l(t(h),{colspan:"9",class:"text-center text-muted-foreground py-8"},{default:o(()=>[e("div",vt,[l(t(I),{class:"h-12 w-12 text-muted-foreground mb-2"}),s[30]||(s[30]=i(" No user performance records found "))])]),_:1})]),_:1})):(u(!0),f(q,{key:1},U(m.users.data,(a,_)=>(u(),v(t(j),{key:_,class:"hover:bg-muted/50"},{default:o(()=>[l(t(h),null,{default:o(()=>[e("div",ht,[e("div",bt,r(a.name),1),e("div",yt,r(a.email),1),e("div",wt,r(a.department),1)])]),_:2},1024),l(t(h),{class:"hidden md:table-cell"},{default:o(()=>[e("div",kt,[e("div",zt,r(a.total_assignments)+" total",1),e("div",Ct,r(a.completed_assignments)+" completed, "+r(a.in_progress_assignments)+" in progress ",1)])]),_:2},1024),l(t(h),null,{default:o(()=>[e("div",qt,[e("div",Ut,[e("span",{class:y(["text-sm font-semibold",de(a.completion_rate)])},r(a.completion_rate)+"% ",3)]),e("div",$t,[e("div",{class:y(["h-2 rounded-full transition-all duration-300",{"bg-green-500":a.completion_rate>=80,"bg-blue-500":a.completion_rate>=60&&a.completion_rate<80,"bg-yellow-500":a.completion_rate>=40&&a.completion_rate<60,"bg-orange-500":a.completion_rate>=20&&a.completion_rate<40,"bg-red-500":a.completion_rate<20}]),style:S({width:Math.max(a.completion_rate,5)+"%"})},null,6)]),e("div",At,r(a.completed_assignments)+"/"+r(a.total_assignments)+" assignments ",1)])]),_:2},1024),l(t(h),{class:"hidden lg:table-cell"},{default:o(()=>[e("div",Pt,r(a.avg_progress)+"%",1),e("div",Vt,[e("div",{class:"bg-blue-500 h-1 rounded-full transition-all duration-300",style:S({width:Math.max(a.avg_progress,2)+"%"})},null,4)])]),_:2},1024),l(t(h),{class:"hidden sm:table-cell"},{default:o(()=>[e("div",Rt,[e("div",Tt,r(a.total_learning_hours*60)+"m",1),e("div",St,r(a.total_sessions)+" sessions",1)])]),_:2},1024),l(t(h),{class:"hidden lg:table-cell"},{default:o(()=>[e("div",Mt,[e("div",Dt,r(a.avg_attention_score)+"%",1),a.suspicious_sessions>0?(u(),f("div",Lt,r(a.suspicious_sessions)+" suspicious ",1)):(u(),f("div",Bt,"Clean record"))])]),_:2},1024),l(t(h),{class:"hidden xl:table-cell"},{default:o(()=>{var x;return[((x=a.quiz_performance)==null?void 0:x.assigned_quizzes)>0?(u(),f("div",Ft,[e("div",Nt,[e("span",{class:y(["text-sm font-semibold",ie(a.quiz_performance.quiz_performance_score)])},r(a.quiz_performance.quiz_performance_score)+"% ",3),e("span",null,r(a.quiz_performance.meets_standards?"✅":"❌"),1)]),e("div",Et,r(a.quiz_performance.status_label),1)])):(u(),f("div",jt," No quizzes "))]}),_:2},1024),l(t(h),null,{default:o(()=>[e("div",It,[e("div",Ht,r(a.performance_score)+"%",1),l(t(te),{variant:O(a.performance_rating),class:"flex items-center w-fit"},{default:o(()=>[(u(),v(Z(Q(a.performance_rating)),{class:"mr-1 h-3 w-3"})),i(" "+r(a.performance_rating),1)]),_:2},1032,["variant"]),e("div",Ot,r(a.total_learning_hours*60)+"m learning ",1)])]),_:2},1024),l(t(h),null,{default:o(()=>[l(t(M),{onClick:x=>_e(a),variant:"link",size:"sm",class:"h-auto p-0"},{default:o(()=>s[31]||(s[31]=[i(" View Details ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),m.users.data&&m.users.data.length>0&&m.users.last_page>1?(u(),f("div",Qt,[e("div",Wt,[e("div",Gt," Showing "+r(m.users.from)+" to "+r(m.users.to)+" of "+r(m.users.total)+" results ",1),e("div",Kt,[(u(!0),f(q,null,U(m.users.links,a=>(u(),f("a",{key:a.label,href:a.url,class:y([{"bg-primary text-primary-foreground":a.active,"hover:bg-muted":!a.active&&a.url,"text-muted-foreground cursor-not-allowed":!a.url},"px-3 py-2 text-sm font-medium border rounded-md transition-colors"]),innerHTML:a.label},null,10,Jt))),128))])])])):P("",!0)]),_:1})]),l(t(Ue),{open:z.value,"onUpdate:open":s[3]||(s[3]=a=>z.value=a)},{default:o(()=>[l(t($e),{class:"max-w-4xl"},{default:o(()=>{var a,_;return[l(t(Ae),null,{default:o(()=>[l(t(Pe),{class:"flex items-center"},{default:o(()=>[l(t(I),{class:"mr-2 h-5 w-5 text-primary"}),i(" "+r(V.value),1)]),_:1}),l(t(Ve),null,{default:o(()=>s[32]||(s[32]=[i(" Comprehensive performance analytics and learning metrics ")])),_:1})]),_:1}),n.value?(u(),f("div",Xt,[e("div",Yt,[s[37]||(s[37]=e("h4",{class:"text-sm font-semibold text-foreground mb-3"},"User Overview",-1)),e("div",Zt,[e("div",null,[s[33]||(s[33]=e("span",{class:"text-sm text-muted-foreground"},"Name:",-1)),e("div",es,r(n.value.name),1)]),e("div",null,[s[34]||(s[34]=e("span",{class:"text-sm text-muted-foreground"},"Email:",-1)),e("div",ts,r(n.value.email),1)]),e("div",null,[s[35]||(s[35]=e("span",{class:"text-sm text-muted-foreground"},"Department:",-1)),e("div",ss,r(n.value.department),1)]),e("div",null,[s[36]||(s[36]=e("span",{class:"text-sm text-muted-foreground"},"Performance:",-1)),e("div",ls,[e("div",os,r(n.value.performance_score)+"%",1),l(t(te),{variant:O(n.value.performance_rating),class:"flex items-center w-fit"},{default:o(()=>[(u(),v(Z(Q(n.value.performance_rating)),{class:"mr-1 h-3 w-3"})),i(" "+r(n.value.performance_rating),1)]),_:1},8,["variant"])])])])]),e("div",as,[l(t(g),null,{default:o(()=>[l(t(p),{class:"p-6 text-center"},{default:o(()=>[e("div",rs,r(n.value.total_assignments),1),s[38]||(s[38]=e("div",{class:"text-sm text-muted-foreground"},"Total Assignments",-1))]),_:1})]),_:1}),l(t(g),null,{default:o(()=>[l(t(p),{class:"p-6 text-center"},{default:o(()=>[e("div",ns,r(n.value.completion_rate)+"%",1),s[39]||(s[39]=e("div",{class:"text-sm text-muted-foreground"},"Completion Rate",-1)),e("div",ds,[e("div",{class:"bg-green-500 h-2 rounded-full transition-all duration-300",style:S({width:n.value.completion_rate+"%"})},null,4)])]),_:1})]),_:1}),l(t(g),null,{default:o(()=>[l(t(p),{class:"p-6 text-center"},{default:o(()=>[e("div",is,r(n.value.total_learning_hours*60)+"m",1),s[40]||(s[40]=e("div",{class:"text-sm text-muted-foreground"},"Learning Minutes",-1)),e("div",us,r(n.value.total_sessions)+" sessions",1)]),_:1})]),_:1}),l(t(g),null,{default:o(()=>[l(t(p),{class:"p-6 text-center"},{default:o(()=>[e("div",ms,r(n.value.avg_attention_score)+"%",1),s[41]||(s[41]=e("div",{class:"text-sm text-muted-foreground"},"Avg Attention",-1)),n.value.suspicious_sessions>0?(u(),f("div",cs,r(n.value.suspicious_sessions)+" suspicious activities ",1)):(u(),f("div",fs,"Clean record"))]),_:1})]),_:1})]),l(t(g),null,{default:o(()=>[l(t(D),null,{default:o(()=>[l(t(L),{class:"text-base"},{default:o(()=>s[42]||(s[42]=[i("Assignment Status Breakdown")])),_:1})]),_:1}),l(t(p),null,{default:o(()=>[e("div",_s,[e("div",gs,[e("div",ps,r(n.value.completed_assignments),1),s[43]||(s[43]=e("div",{class:"text-sm text-muted-foreground"},"Completed",-1))]),e("div",xs,[e("div",vs,r(n.value.in_progress_assignments),1),s[44]||(s[44]=e("div",{class:"text-sm text-muted-foreground"},"In Progress",-1))]),e("div",hs,[e("div",bs,r(n.value.total_assignments-n.value.completed_assignments-n.value.in_progress_assignments),1),s[45]||(s[45]=e("div",{class:"text-sm text-muted-foreground"},"Not Started",-1))])])]),_:1})]),_:1}),((_=(a=n.value)==null?void 0:a.quiz_performance)==null?void 0:_.assigned_quizzes)>0?(u(),v(t(g),{key:0},{default:o(()=>[l(t(D),null,{default:o(()=>[l(t(L),{class:"text-base flex items-center"},{default:o(()=>[l(t(re),{class:"mr-2 h-4 w-4"}),s[46]||(s[46]=i(" Quiz Performance "))]),_:1})]),_:1}),l(t(p),null,{default:o(()=>[e("div",ys,[e("div",ws,[e("div",ks,r(n.value.quiz_performance.completed_quizzes)+"/"+r(n.value.quiz_performance.assigned_quizzes),1),s[47]||(s[47]=e("div",{class:"text-sm text-muted-foreground"},"Quizzes Completed",-1))]),e("div",zs,[e("div",Cs,r(n.value.quiz_performance.passing_rate)+"% ",1),s[48]||(s[48]=e("div",{class:"text-sm text-muted-foreground"},"Passing Rate",-1))]),e("div",qs,[e("div",Us,r(n.value.quiz_performance.avg_quiz_score)+"% ",1),s[49]||(s[49]=e("div",{class:"text-sm text-muted-foreground"},"Avg Score",-1))]),e("div",{class:y(["text-center p-4 rounded-lg",{"bg-green-50 dark:bg-green-950":n.value.quiz_performance.meets_standards,"bg-red-50 dark:bg-red-950":!n.value.quiz_performance.meets_standards}])},[e("div",{class:y(["text-2xl font-bold",{"text-green-600":n.value.quiz_performance.meets_standards,"text-red-600":!n.value.quiz_performance.meets_standards}])},r(n.value.quiz_performance.quiz_performance_score)+"% ",3),e("div",$s,r(n.value.quiz_performance.meets_standards?"✅ Meets Standard":"❌ Needs Improvement"),1)],2)])]),_:1})]),_:1})):P("",!0),n.value.suspicious_sessions>0?(u(),v(t(g),{key:1,class:"border-yellow-200 bg-yellow-50 dark:bg-yellow-950"},{default:o(()=>[l(t(p),{class:"p-4"},{default:o(()=>[e("div",As,[e("div",Ps,[l(t(ae),{class:"h-5 w-5 text-yellow-500"})]),e("div",Vs,[s[50]||(s[50]=e("h3",{class:"text-sm font-medium text-yellow-800 dark:text-yellow-200"},"Performance Alert",-1)),e("div",Rs,[e("p",null,"This user has "+r(n.value.suspicious_sessions)+" suspicious learning sessions that may require attention.",1)])])])]),_:1})]),_:1})):P("",!0)])):P("",!0)]}),_:1})]),_:1},8,["open"])]),_:1}))}});export{Ul as default};
